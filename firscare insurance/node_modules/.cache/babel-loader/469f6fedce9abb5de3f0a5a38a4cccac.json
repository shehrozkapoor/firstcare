{"remainingRequest":"/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/node_modules/babel-loader/lib/index.js!/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/src/components/Beneficiary/Components/CustomSearchInsurance.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/src/components/Beneficiary/Components/CustomSearchInsurance.vue","mtime":1656112621955},{"path":"/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/babel.config.js","mtime":1614334623000},{"path":"/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/node_modules/cache-loader/dist/cjs.js","mtime":1657040926905},{"path":"/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/node_modules/babel-loader/lib/index.js","mtime":1657040939560},{"path":"/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/node_modules/cache-loader/dist/cjs.js","mtime":1657040926905},{"path":"/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/node_modules/vue-loader-v16/dist/index.js","mtime":1657040939441}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEN1c3RvbURhdGFUYWJsZSBmcm9tICdAL2NvbXBvbmVudHMvRGF0YXRhYmxlLnZ1ZSc7CmltcG9ydCBCZW5lZmljaWFyeVNlcnZpY2VzIGZyb20gJ0Avc2VydmljZS9CZW5lZmljaWFyeVNlcnZpY2VzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDdXN0b21TZWFyY2hCZW5lZmljaWFyeSIsCiAgcHJvcHM6IFsnZGlzcGxheVNlYXJjaEJlbmVmaWNpYXJ5JywgJ3RhYmxlX2NvbHVtbnMnLCAndGFibGVfZGF0YScsICdpc0xvYWRpbmcnXSwKICBjb21wb25lbnRzOiB7CiAgICBDdXN0b21EYXRhVGFibGUKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlzcGxheTogdGhpcy5kaXNwbGF5U2VhcmNoQmVuZWZpY2lhcnksCiAgICAgIHNlYXJjaF9pbnB1dDogbnVsbCwKICAgICAgaW5zdXJhbmNlX2RldGFpbHM6IG51bGwsCiAgICAgIHNob3dEZXRhaWxzOiBmYWxzZSwKICAgICAgbG9hZGluZzogZmFsc2UKICAgIH07CiAgfSwKCiAgbWV0aG9kczogewogICAgc2hvd1N1Y2Nlc3MobWVzc2FnZSkgewogICAgICB0aGlzLiR0b2FzdC5hZGQoewogICAgICAgIHNldmVyaXR5OiAnc3VjY2VzcycsCiAgICAgICAgc3VtbWFyeTogJ1N1Y2Nlc3MgTWVzc2FnZScsCiAgICAgICAgZGV0YWlsOiBtZXNzYWdlLAogICAgICAgIGxpZmU6IDMwMDAKICAgICAgfSk7CiAgICB9LAoKICAgIHNob3dFcnJvcihtZXNzYWdlKSB7CiAgICAgIHRoaXMuJHRvYXN0LmFkZCh7CiAgICAgICAgc2V2ZXJpdHk6ICdlcnJvcicsCiAgICAgICAgc3VtbWFyeTogJ0Vycm9yIE1lc3NhZ2UnLAogICAgICAgIGRldGFpbDogbWVzc2FnZSwKICAgICAgICBsaWZlOiAzMDAwCiAgICAgIH0pOwogICAgfSwKCiAgICB1cGRhdGVEaXNwbGF5U2VhcmNoQmVuZWZpY2lhcnkoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZS1kaXNwbGF5U2VhcmNoQmVuZWZpY2lhcnknLCBmYWxzZSk7CiAgICB9LAoKICAgIGFzeW5jIHNlYXJjaEJlbmVmaWNpYXJ5KCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwoKICAgICAgaWYgKHRoaXMuc2VhcmNoX2lucHV0ID09PSBudWxsKSB7CiAgICAgICAgdGhpcy5zaG93RXJyb3IoJ3NlYXJjaCBpbnB1dCBjYW5ub3QgYmUgZW1wdHkhIScpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBiZW5lZmljaWFyeSA9IG5ldyBCZW5lZmljaWFyeVNlcnZpY2VzKCk7CiAgICAgICAgYXdhaXQgYmVuZWZpY2lhcnkuZ2V0SW5zdXJhbmNlU2VhdGNoQmVuZWZpY2lhcnkodGhpcy5zZWFyY2hfaW5wdXQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgaWYgKHJlc3BvbnNlWydBcGlTdGF0dXMnXSA9PT0gJ1N1Y2Nlc3MnKSB7CiAgICAgICAgICAgIHRoaXMuaW5zdXJhbmNlX2RldGFpbHMgPSBKU09OLnN0cmluZ2lmeShyZXNwb25zZSwgdW5kZWZpbmVkLCA0KTsKICAgICAgICAgICAgdGhpcy5zaG93RGV0YWlscyA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CgogICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGFbJ0FwaVN0YXR1cyddID09PSAnRmFpbCcpIHsKICAgICAgICAgICAgdGhpcy5zaG93RXJyb3IoZXJyb3IucmVzcG9uc2UuZGF0YVsnRXJyb3JEZXNjcmlwdGlvbiddKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKCiAgICBhc3luYyBnZXREb2N1bWVudElkKGRvY3VtZW50SWQpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIHZhciBiZW5lZmljaWFyeSA9IG5ldyBCZW5lZmljaWFyeVNlcnZpY2VzKCk7CiAgICAgIGF3YWl0IGJlbmVmaWNpYXJ5LnNhdmVJbnN1cmFuY2VTZWF0Y2hCZW5lZmljaWFyeURldGFpbHModGhpcy5pbnN1cmFuY2VfZGV0YWlscywgZG9jdW1lbnRJZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CgogICAgICAgIGlmIChyZXNwb25zZVsnc3RhdHVzJ10gPT09ICdvaycpIHsKICAgICAgICAgIHRoaXMuaW5zdXJhbmNlX2RldGFpbHMgPSBudWxsOwogICAgICAgICAgdGhpcy5zaG93RGV0YWlscyA9IGZhbHNlOwogICAgICAgICAgdGhpcy5zZWFyY2hfaW5wdXQgPSBudWxsOwogICAgICAgICAgdGhpcy5zaG93U3VjY2VzcyhyZXNwb25zZVsnbWVzc2FnZSddKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CgogICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhWydzdGF0dXMnXSA9PT0gJ2Vycm9yJykgewogICAgICAgICAgdGhpcy5zaG93RXJyb3IoZXJyb3IucmVzcG9uc2UuZGF0YVsnbWVzc2FnZSddKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICB9LAogIHdhdGNoOiB7CiAgICBkaXNwbGF5U2VhcmNoQmVuZWZpY2lhcnkoKSB7CiAgICAgIHRoaXMuZGlzcGxheSA9IHRoaXMuZGlzcGxheVNlYXJjaEJlbmVmaWNpYXJ5OwogICAgfQoKICB9Cn07"},{"version":3,"mappings":"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","names":["CustomDataTable","BeneficiaryServices","name","props","components","data","display","displaySearchBeneficiary","search_input","insurance_details","showDetails","loading","methods","showSuccess","message","$toast","add","severity","summary","detail","life","showError","updateDisplaySearchBeneficiary","$emit","searchBeneficiary","beneficiary","getInsuranceSeatchBeneficiary","then","response","JSON","stringify","undefined","catch","error","console","log","getDocumentId","documentId","saveInsuranceSeatchBeneficiaryDetails","watch"],"sourceRoot":"","sources":["/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/src/components/Beneficiary/Components/CustomSearchInsurance.vue"],"sourcesContent":["<template>\n    <Toast />\n\n    <Dialog header=\"Add Insurance Details For Existing Beneficiary\" :visible=\"display\" :breakpoints=\"{'960px': '75vw', '640px': '90vw'}\"\n        :style=\"{width: '70vw'}\" :maximizable=\"true\" :modal=\"true\" :closable=\"false\" :draggable=\"false\" position=\"top\">\n        <Message severity=\"warn\">If you need to add Insurance Details for new Beneficiary please add a new beneficiary and then add insurance details.!!</Message>\n        <Divider />\n        <div class=\"grid p-5\">\n            <div class=\"col-12\">\n                <div class=\"p-inputgroup\">\n                    <InputText placeholder=\"Search Beneficiary By Saudi IQMA / NIN value\" v-model=\"search_input\" />\n                    <Button icon=\"pi pi-search\" class=\"p-button-warning\" @click=\"searchBeneficiary\" />\n                </div>\n            </div>\n            <ProgressSpinner v-show=\"loading==true\"/>\n            <div class=\"col-12 justify-content-center align-content-center\">\n                <Textarea v-model=\"insurance_details\" rows=\"10\" class=\"w-full\" v-if=\"showDetails==true\"\n                    :readonly=\"true\" />\n                </div>\n            <div class=\"col-12\">\n                <CustomDataTable :table_columns=\"table_columns\" :table_data=\"table_data\" :sortable=\"true\"\n                :show_header=\"false\" table_related_type=\"beneficiary\" :isLoading=\"isLoading\" :rowEditor=\"false\" :searchBeneficiary=\"true\" @update-search-document-id=\"getDocumentId($event)\" v-if=\"showDetails==true\"/>\n            </div>\n        </div>\n        <template #footer>\n            <Button label=\"cancel\" icon=\"pi pi-times\" class=\"p-button-text p-button-danger\"\n                @click=\"updateDisplaySearchBeneficiary\" />\n        </template>\n    </Dialog>\n</template>\n\n<script>\nimport CustomDataTable from '@/components/Datatable.vue';\nimport BeneficiaryServices from '@/service/BeneficiaryServices'\nexport default {\n    name:\"CustomSearchBeneficiary\",\n    props:['displaySearchBeneficiary','table_columns','table_data','isLoading'],\n    components:{\n        CustomDataTable\n    },\n    data(){\n        return{\n            display:this.displaySearchBeneficiary,\n            search_input:null,\n            insurance_details:null,\n            showDetails:false,\n            loading:false,\n        }\n    },\n    methods:{\n        showSuccess(message) {this.$toast.add({severity:'success', summary: 'Success Message', detail:message, life: 3000});},\n        showError(message) {this.$toast.add({severity:'error', summary: 'Error Message', detail:message, life: 3000});},\n        updateDisplaySearchBeneficiary(){\n            this.$emit('update-displaySearchBeneficiary',false)\n        },\n        async searchBeneficiary(){\n            this.loading = true;\n            if(this.search_input === null){\n                this.showError('search input cannot be empty!!')\n            }\n            else{\n                var beneficiary = new BeneficiaryServices();\n                await beneficiary.getInsuranceSeatchBeneficiary(this.search_input).then(response =>{\n                    this.loading = false;\n                    if(response['ApiStatus'] === 'Success'){\n                        this.insurance_details=  JSON.stringify(response, undefined, 4);\n                        this.showDetails = true;\n                    }\n                }).catch(error=>{\n                    this.loading = false;\n                    console.log(error);\n                    if(error.response.data['ApiStatus'] === 'Fail'){\n                        this.showError(error.response.data['ErrorDescription'])\n                    }\n                })\n            }\n        },\n        async getDocumentId(documentId){\n            this.loading = false;\n            var beneficiary = new BeneficiaryServices();\n            await beneficiary.saveInsuranceSeatchBeneficiaryDetails(this.insurance_details,documentId).then(response =>{\n                this.loading = false;\n                if(response['status'] === 'ok'){\n                    this.insurance_details= null;\n                    this.showDetails = false;\n                    this.search_input=null;\n                    this.showSuccess(response['message']);\n                }\n            }).catch(error=>{\n                this.loading = false;\n                console.log(error);\n                if(error.response.data['status'] === 'error'){\n                    this.showError(error.response.data['message'])\n                }\n            })\n        }\n    },\n    watch:{\n        displaySearchBeneficiary(){\n            this.display = this.displaySearchBeneficiary;\n        }\n\n    }\n}\n</script>"]}]}