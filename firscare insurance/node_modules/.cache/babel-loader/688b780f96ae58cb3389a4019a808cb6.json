{"remainingRequest":"/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/node_modules/babel-loader/lib/index.js!/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/src/components/Eligibility/EligibilityRequest.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/src/components/Eligibility/EligibilityRequest.vue","mtime":1657039251451},{"path":"/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/babel.config.js","mtime":1614334623000},{"path":"/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/node_modules/cache-loader/dist/cjs.js","mtime":1657040926905},{"path":"/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/node_modules/babel-loader/lib/index.js","mtime":1657040939560},{"path":"/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/node_modules/cache-loader/dist/cjs.js","mtime":1657040926905},{"path":"/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/node_modules/vue-loader-v16/dist/index.js","mtime":1657040939441}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgRmlsdGVyTWF0Y2hNb2RlIH0gZnJvbSAncHJpbWV2dWUvYXBpJzsKaW1wb3J0IEVsaWdpYmlsaXR5UmVxdWVzdFNlcnZpY2UgZnJvbSAnLi4vLi4vc2VydmljZS9FbGlnaWJpbGl0eVJlcXVlc3RTZXJ2aWNlJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBiaWxsaW5nOiBudWxsLAogICAgICBmaWx0ZXJzOiBudWxsLAogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICBlbGlnaWJpbGl0eV9yZXF1ZXN0OiBbXSwKICAgICAgZWxpZ2liaWxpdHlfcmVzcG9uc2U6IFtdCiAgICB9OwogIH0sCgogIGJpbGxpbmdTZXJ2aWNlOiBudWxsLAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5iaWxsaW5nU2VydmljZSA9IG5ldyBFbGlnaWJpbGl0eVJlcXVlc3RTZXJ2aWNlKCk7CiAgICB0aGlzLmluaXRGaWx0ZXJzKCk7CiAgfSwKCiAgYXN5bmMgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0RGF0YUxvYWRlZCgpOwogIH0sCgogIG1ldGhvZHM6IHsKICAgIHNob3dTdWNjZXNzKG1lc3NhZ2UpIHsKICAgICAgdGhpcy4kdG9hc3QuYWRkKHsKICAgICAgICBzZXZlcml0eTogJ3N1Y2Nlc3MnLAogICAgICAgIHN1bW1hcnk6ICdTdWNjZXNzIE1lc3NhZ2UnLAogICAgICAgIGRldGFpbDogbWVzc2FnZSwKICAgICAgICBsaWZlOiAzMDAwCiAgICAgIH0pOwogICAgfSwKCiAgICBzaG93RXJyb3IobWVzc2FnZSkgewogICAgICB0aGlzLiR0b2FzdC5hZGQoewogICAgICAgIHNldmVyaXR5OiAnZXJyb3InLAogICAgICAgIHN1bW1hcnk6ICdFcnJvciBNZXNzYWdlJywKICAgICAgICBkZXRhaWw6IG1lc3NhZ2UsCiAgICAgICAgbGlmZTogMzAwMAogICAgICB9KTsKICAgIH0sCgogICAgYXN5bmMgZ2V0RGF0YUxvYWRlZCgpIHsKICAgICAgYXdhaXQgdGhpcy5iaWxsaW5nU2VydmljZS5nZXRJbnN1cmFuY2VCaWxsaW5nKCkudGhlbihkYXRhID0+IHsKICAgICAgICB0aGlzLmJpbGxpbmcgPSBkYXRhLmRhdGE7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgZGF0YS5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4gewogICAgICAgICAgaWYgKGl0ZW0uZWxpZ2liaWxpdHlfYnVuZGxlID09IG51bGwpIHsKICAgICAgICAgICAgdGhpcy5lbGlnaWJpbGl0eV9yZXF1ZXN0W2luZGV4XSA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmVsaWdpYmlsaXR5X3Jlc3BvbnNlW2luZGV4XSA9IGZhbHNlOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChpdGVtLmVsaWdpYmlsaXR5X2J1bmRsZSAhPSBudWxsKSB7CiAgICAgICAgICAgIHRoaXMuZWxpZ2liaWxpdHlfcmVxdWVzdFtpbmRleF0gPSB0cnVlOwoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICB2YXIgcmVzcG9uc2Vfc3RhdHVzID0gaXRlbS5lbGlnaWJpbGl0eV9idW5kbGUucmVzcG9uc2VfYnVuZGxlX3N0YXR1czsKICAgICAgICAgICAgICB0aGlzLmVsaWdpYmlsaXR5X3Jlc3BvbnNlW2luZGV4XSA9IHJlc3BvbnNlX3N0YXR1czsKICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICB0aGlzLmVsaWdpYmlsaXR5X3Jlc3BvbnNlW2luZGV4XSA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKCiAgICBpbml0RmlsdGVycygpIHsKICAgICAgdGhpcy5maWx0ZXJzID0gewogICAgICAgICdnbG9iYWwnOiB7CiAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgIG1hdGNoTW9kZTogRmlsdGVyTWF0Y2hNb2RlLlNUQVJUU19XSVRICiAgICAgICAgfQogICAgICB9OwogICAgfSwKCiAgICBmb3JtYXRDdXJyZW5jeSh2YWx1ZSkgewogICAgICByZXR1cm4gdmFsdWUudG9Mb2NhbGVTdHJpbmcoJ2VuLVVTJywgewogICAgICAgIHN0eWxlOiAnY3VycmVuY3knLAogICAgICAgIGN1cnJlbmN5OiAnU0FSJwogICAgICB9KTsKICAgIH0sCgogICAgYXN5bmMgc2VuZEVsaWdpYmlsaXR5UmVxdWVzdChpZCwgaW5kZXgpIHsKICAgICAgdmFyIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5iaWxsaW5nU2VydmljZS5zZW5kRWxpZ2liaWxpdHlSZXF1ZXN0KGlkKTsKCiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gJ2Vycm9yJykgewogICAgICAgIHRoaXMuc2hvd0Vycm9yKHJlc3BvbnNlLm1lc3NhZ2UpOwogICAgICB9CgogICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09ICdvaycpIHsKICAgICAgICB0aGlzLmVsaWdpYmlsaXR5X3JlcXVlc3RbaW5kZXhdID0gdHJ1ZTsKICAgICAgICB0aGlzLnNob3dTdWNjZXNzKHJlc3BvbnNlLmRhdGEpOwogICAgICB9CiAgICB9CgogIH0KfTs="},{"version":3,"mappings":"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","names":["FilterMatchMode","EligibilityRequestService","data","billing","filters","loading","eligibility_request","eligibility_response","billingService","created","initFilters","mounted","getDataLoaded","methods","showSuccess","message","$toast","add","severity","summary","detail","life","showError","getInsuranceBilling","then","forEach","item","index","eligibility_bundle","response_status","response_bundle_status","error","value","matchMode","STARTS_WITH","formatCurrency","toLocaleString","style","currency","sendEligibilityRequest","id","response","status"],"sourceRoot":"","sources":["/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/src/components/Eligibility/EligibilityRequest.vue"],"sourcesContent":["<template>\n\t<div class=\"grid\">\n\t\t<div class=\"col-3\">\n\t\t\t<Button label=\"Create New Request\" @click=\"$router.push('new-eligibility-request') \" class=\"p-text-button p-button-success\" icon=\"pi pi-plus\"/>\n\t\t</div>\n\t\t<div class=\"col-12\">\n\t\t\t<div class=\"card\">\n\t\t\t\t<Toast />\n\t\t\t\t<h5>Eligibility Request</h5>\n\t\t\t\t<DataTable :value=\"billing\" :paginator=\"true\" class=\"p-datatable-gridlines\" :rows=\"10\" dataKey=\"id\" :rowHover=\"true\" \n\t\t\t\t\t:loading=\"loading\" :filters=\"filters\" responsiveLayout=\"scroll\"\n\t\t\t\t\t:globalFilterFields=\"['id','patient.account_id','patient.patient_id','unit_amount','paid_amount','total_amount','patient.first_name','patient.second_name','patient.third_name']\" >\n\t\t\t\t\t<template #header>\n                        <div class=\"flex justify-content-end flex-column sm:flex-row\">\n                            <span class=\"p-input-icon-left mb-2\">\n                                <i class=\"pi pi-search\" />\n                                <InputText v-model=\"filters['global'].value\" placeholder=\"Keyword Search\" style=\"width: 100%\"/>\n                            </span>\n                        </div>\n                    </template>\n                    <template #empty>\n                        No Eligibilty found.\n                    </template>\n                    <template #loading>\n                        Loading Eligibilty Requests...\n                    </template>\n                    <Column field=\"id\" header=\"Billing ID\" style=\"min-width:12rem\">\n                        <template #body=\"{data}\">\n                            {{data.id}}\n                        </template>\n                    </Column>\n                    <Column header=\"FHIR ID\" field=\"account_id\" style=\"min-width:12rem\">\n                        <template #body=\"{data}\">\n                            {{data.patient.account_id}}\n                        </template>\n                    </Column>\n                    <Column header=\"Patient ID\" field=\"patient\" style=\"min-width:12rem\">\n                        <template #body=\"{data}\">\n                            {{data.patient.patient_id}}\n                        </template>\n                    </Column>\n                    <Column header=\"Patient Name\" field=\"patient_name\" style=\"min-width:12rem\">\n                        <template #body=\"{data}\">\n                            {{data.patient.first_name}} {{data.patient.second_name}} {{data.patient.third_name}}\n                        </template>\n                    </Column>\n                    <Column header=\"Appointment\" field=\"appointment\" style=\"min-width:12rem\">\n                        <template #body=\"{data}\">\n                            {{data.appointment}}\n                        </template>\n                    </Column>\n                    <Column header=\"Unit Amount\" field=\"unit_amount\" style=\"min-width:12rem\">\n                        <template #body=\"{data}\">\n\t\t\t\t\t\t\t{{formatCurrency(data.unit_amount)}}\n                        </template>\n                    </Column>\n                    <Column header=\"Paid Amount\" field=\"paid_amount\" filterField=\"paid_amount\" style=\"min-width:12rem\">\n                        <template #body=\"{data}\">\n\t\t\t\t\t\t\t{{formatCurrency(data.paid_amount)}}\n                        </template>\n                    </Column>\n                    <Column header=\"Total Amount(Inc tax.)\" field=\"total_amount\" style=\"min-width:12rem\">\n                        <template #body=\"{data}\">\n\t\t\t\t\t\t{{formatCurrency(data.total_amount)}}\n                        </template>\n                    </Column>\n                    <Column header=\"Service Note\" field=\"service_note\" style=\"min-width:12rem\">\n                        <template #body=\"{data}\">\n                            {{data.service_note}}\n                        </template>\n                    </Column>\n                    <Column header=\"Billing Note\" field=\"billing_note\" style=\"min-width:12rem\">\n                        <template #body=\"{data}\">\n                            {{data.billing_note}}\n                        </template>\n                    </Column>\n                    <Column header=\"Billing Type\" field=\"status\" style=\"min-width:12rem\">\n                        <template #body=\"{data}\">\n                            {{data.status}}\n                        </template>\n                    </Column>\n                    <Column header=\"Eligibility Request Status\" field=\"eligibility_bundle\" style=\"min-width:12rem\">\n                        <template #body=\"{index}\">\n                            {{eligibility_request[index]==false?\"Not Submitted\":\"Submitted\"}}\n                        </template>\n                    </Column>\n                    <Column header=\"Eligibility Response Status\" field=\"eligibility_bundle\" style=\"min-width:12rem\">\n                        <template #body=\"{index}\">\n                            {{eligibility_response[index]==false?\"Not Received\":\"Received\"}}\n                        </template>\n                    </Column>\n                    <Column header=\"Created On\" field=\"creation_date\" style=\"min-width:12rem\">\n                        <template #body=\"{data}\">\n                            {{data.creation_date}}\n                        </template>\n                    </Column>\n                    <Column style=\"min-width:12rem\">\n                        <template #body=\"{data,index}\">\n\t\t\t\t\t\t\t<div class=\"flex flex-row justify-content-evenly\">\n\t\t\t\t\t\t\t<Button class=\"p-button-raised p-button-rounded p-button-success\" :id=\"data.id\" icon=\"pi pi-send\" v-tooltip=\"'Send Eligibility Request'\"  :disabled=\"eligibility_request[index]==true\" v-on:click=\"sendEligibilityRequest(data.id,index)\"/>\n\t\t\t\t\t\t\t<Button class=\"p-button-raised p-button-rounded p-button-warning\" :id=\"data.id\" icon=\"pi pi-refresh\"  v-tooltip=\"'Resend Eligibility Request'\" :disabled=\"eligibility_response[index]==true\" v-on:click=\"sendEligibilityRequest(data.id,index)\"/>\n\t\t\t\t\t\t\t</div>\n                        </template>\n                    </Column>\n\t\t\t\t</DataTable>\n\t\t\t</div>\n\t\t</div>\t\t\n\t</div>\n</template>\n\n<script>\n\timport {FilterMatchMode} from 'primevue/api';\n\timport EligibilityRequestService from '../../service/EligibilityRequestService';\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tbilling: null,\n\t\t\t\tfilters: null,\n\t\t\t\tloading: true,\n\t\t\t\teligibility_request:[],\n\t\t\t\teligibility_response:[],\n\t\t\t}\n\t\t},\n\t\tbillingService: null,\n\t\tcreated() {\n\t\t\tthis.billingService = new EligibilityRequestService();\n\t\t\tthis.initFilters();\n\t\t},\n\t\tasync mounted() {\n\t\t\tthis.getDataLoaded();\n\t\t},\n\t\tmethods: {\n\t\t\tshowSuccess(message) {this.$toast.add({severity:'success', summary: 'Success Message', detail:message, life: 3000});},\n\t\t\tshowError(message) {this.$toast.add({severity:'error', summary: 'Error Message', detail:message, life: 3000});},\n\t\t\tasync getDataLoaded(){\n\t\t\t\tawait this.billingService.getInsuranceBilling().then(data => {\n\t\t\t\tthis.billing = data.data; \n\t\t\t\tthis.loading = false;\n\t\t\t\tdata.forEach((item,index) => {\n\t\t\t\t\tif(item.eligibility_bundle == null){\n\t\t\t\t\t\tthis.eligibility_request[index] = false;\n\t\t\t\t\t\tthis.eligibility_response[index]= false;\n\t\t\t\t\t}\n\t\t\t\t\tif(item.eligibility_bundle != null){\n\t\t\t\t\t\tthis.eligibility_request[index] = true;\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tvar response_status = item.eligibility_bundle.response_bundle_status;\n\t\t\t\t\t\t\tthis.eligibility_response[index] = response_status;\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tthis.eligibility_response[index] = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t});\n\t\t\t},\n\t\t\tinitFilters() {\n\t\t\t\tthis.filters = {\n\t\t\t\t\t'global': {value: null, matchMode: FilterMatchMode.STARTS_WITH},\n\t\t\t\t}\n\t\t\t},\n\t\t\tformatCurrency(value) {\n\t\t\t\treturn value.toLocaleString('en-US', {style: 'currency', currency: 'SAR'});\n\t\t\t},\n\t\t\tasync sendEligibilityRequest(id,index){\n\t\t\t\tvar response = await this.billingService.sendEligibilityRequest(id);\n\t\t\t\tif (response.status == 'error'){\n\t\t\t\t\tthis.showError(response.message)\n\t\t\t\t}\n\t\t\t\tif (response.status == 'ok'){\n\t\t\t\t\tthis.eligibility_request[index] = true;\n\t\t\t\t\tthis.showSuccess(response.data)\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped lang=\"scss\">\n@import '../../assets/demo/styles/badges.scss';\n\n::v-deep(.p-datatable-frozen-tbody) {\n\tfont-weight: bold;\n}\n\n::v-deep(.p-datatable-scrollable .p-frozen-column) {\n\tfont-weight: bold;\n}\n\n::v-deep(.p-progressbar) {\n\theight: .5rem;\n\tbackground-color: #D8DADC;\n\n\t.p-progressbar-value {\n\t\tbackground-color: #607D8B;\n\t}\n}\n.custom-error .p-tooltip-text {\n    background-color: var(--pink-800);\n    color: rgb(255, 255, 255);\n}\n.custom-error.p-tooltip-right .p-tooltip-arrow {\n    border-right-color: var(--pink-800);\n}\n</style>\n"]}]}