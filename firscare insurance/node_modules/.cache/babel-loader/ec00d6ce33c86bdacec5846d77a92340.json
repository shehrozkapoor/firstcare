{"remainingRequest":"/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/node_modules/babel-loader/lib/index.js!/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/src/components/Eligibility/AddNewEligibilityRequest.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/src/components/Eligibility/AddNewEligibilityRequest.vue","mtime":1656373529704},{"path":"/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/babel.config.js","mtime":1614334623000},{"path":"/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/node_modules/cache-loader/dist/cjs.js","mtime":1657040926905},{"path":"/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/node_modules/babel-loader/lib/index.js","mtime":1657040939560},{"path":"/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/node_modules/cache-loader/dist/cjs.js","mtime":1657040926905},{"path":"/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/node_modules/vue-loader-v16/dist/index.js","mtime":1657040939441}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0Lmhhcy1vd24uanMiOwppbXBvcnQgQmVuZWZpY2lhcnlTZXJ2aWNlcyBmcm9tICdAL3NlcnZpY2UvQmVuZWZpY2lhcnlTZXJ2aWNlcyc7CmltcG9ydCBMb2NhdGlvblNlcnZpY2VzIGZyb20gJ0Avc2VydmljZS9Mb2NhdGlvblNlcnZpY2VzJzsKaW1wb3J0IENvdmVyYWdlU2VydmljZXMgZnJvbSAnQC9zZXJ2aWNlL0NvdmVyYWdlU2VydmljZXMnOwppbXBvcnQgRWxpZ2liaWxpdHlSZXF1ZXN0U2VydmljZSBmcm9tICdAL3NlcnZpY2UvRWxpZ2liaWxpdHlSZXF1ZXN0U2VydmljZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQWRkTmV3RWxpZ2liaWxpdHlSZXF1ZXN0IiwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlbGVjdGVkQmVuZWZpY2lhcnk6IG51bGwsCiAgICAgIGJlbmVmaWNpYXJ5T3B0aW9uczogbnVsbCwKICAgICAgc2VsZWN0ZWRMb2NhdGlvbjogbnVsbCwKICAgICAgbG9jYXRpb25PcHRpb25zOiBudWxsLAogICAgICBjaGVja0NvdmVyYWdlOiBmYWxzZSwKICAgICAgc3RhcnREYXRlOiBudWxsLAogICAgICBwdXJwb3NlRGlzYWJsZWQ6IHRydWUsCiAgICAgIHN1Ym1pdEJ1dHRvbkRpc2FibGVkOiB0cnVlLAogICAgICBlbmREYXRlOiBudWxsLAogICAgICBTZWxlY3RlZEVsaWdpYmlsaXR5UHVyb3NlOiBudWxsLAogICAgICBFbGlnaWJpbGl0eVB1cm9zZU9wdGlvbnM6IFt7CiAgICAgICAgb3B0aW9uOiAnQmVuZWZpdHMnLAogICAgICAgIHZhbHVlOiAnYmVuZWZpdHMnCiAgICAgIH0sIHsKICAgICAgICBvcHRpb246ICdWYWxpZGF0aW9uJywKICAgICAgICB2YWx1ZTogJ3ZhbGlkYXRpb24nCiAgICAgIH1dCiAgICB9OwogIH0sCgogIGJlbmVmaWNpYXJ5U2VydmljZTogbnVsbCwKICBsb2NhdGlvblNlcnZpY2VzOiBudWxsLAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5iZW5lZmljaWFyeVNlcnZpY2UgPSBuZXcgQmVuZWZpY2lhcnlTZXJ2aWNlcygpOwogICAgdGhpcy5sb2NhdGlvblNlcnZpY2VzID0gbmV3IExvY2F0aW9uU2VydmljZXMoKTsKICB9LAoKICBhc3luYyBtb3VudGVkKCkgewogICAgYXdhaXQgdGhpcy5iZW5lZmljaWFyeVNlcnZpY2UuZ2V0QWxsQmVuZWZpY2lhcnkoKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgdGhpcy5iZW5lZmljaWFyeU9wdGlvbnMgPSByZXNwb25zZS5kYXRhOwogICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIHRoaXMuc2hvd0Vycm9yKCdVbmFibGUgdG8gY29ubmVjdCB0aGUgc2VydmVyIHBsZWFzZSBjaGVjayB5b3VyIGludGVybmV0IG9yIHRyeSBhZnRlciBzb21ldGltZSEhIScpOwogICAgfSk7CiAgICBhd2FpdCB0aGlzLmxvY2F0aW9uU2VydmljZXMuZ2V0QWxsTG9jYXRpb25zKCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgIHRoaXMubG9jYXRpb25PcHRpb25zID0gcmVzcG9uc2UuZGF0YTsKICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB0aGlzLnNob3dFcnJvcignVW5hYmxlIHRvIGNvbm5lY3QgdGhlIHNlcnZlciBwbGVhc2UgY2hlY2sgeW91ciBpbnRlcm5ldCBvciB0cnkgYWZ0ZXIgc29tZXRpbWUhISEnKTsKICAgIH0pOwogIH0sCgogIG1ldGhvZHM6IHsKICAgIHNob3dTdWNjZXNzKG1lc3NhZ2UpIHsKICAgICAgdGhpcy4kdG9hc3QuYWRkKHsKICAgICAgICBzZXZlcml0eTogJ3N1Y2Nlc3MnLAogICAgICAgIHN1bW1hcnk6ICdTdWNjZXNzIE1lc3NhZ2UnLAogICAgICAgIGRldGFpbDogbWVzc2FnZSwKICAgICAgICBsaWZlOiA2MDAwCiAgICAgIH0pOwogICAgfSwKCiAgICBzaG93RXJyb3IobWVzc2FnZSkgewogICAgICB0aGlzLiR0b2FzdC5hZGQoewogICAgICAgIHNldmVyaXR5OiAnZXJyb3InLAogICAgICAgIHN1bW1hcnk6ICdFcnJvciBNZXNzYWdlJywKICAgICAgICBkZXRhaWw6IG1lc3NhZ2UsCiAgICAgICAgbGlmZTogNjAwMAogICAgICB9KTsKICAgIH0sCgogICAgYXN5bmMgT25TZWxlY3RlZEJlbmVmaWNpYXJ5KCkgewogICAgICB0aGlzLnB1cnBvc2VEaXNhYmxlZCA9IHRydWU7CiAgICAgIHRoaXMuc3VibWl0QnV0dG9uRGlzYWJsZWQgPSB0cnVlOwogICAgICB0aGlzLlNlbGVjdGVkRWxpZ2liaWxpdHlQdXJvc2UgPSBudWxsOwogICAgICB0aGlzLkVsaWdpYmlsaXR5UHVyb3NlT3B0aW9ucy5mb3JFYWNoKChpdGVtLCBrZXkpID0+IHsKICAgICAgICBpZiAoaXRlbS5vcHRpb24gPT09ICdEaXNjb3ZlcnknKSB7CiAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5FbGlnaWJpbGl0eVB1cm9zZU9wdGlvbnMuc3BsaWNlKGtleSwgMSk7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGNvbnN0IGNvdmVyYWdlX3NlcnZpY2UgPSBuZXcgQ292ZXJhZ2VTZXJ2aWNlcygpOwogICAgICBhd2FpdCBjb3ZlcmFnZV9zZXJ2aWNlLmNoZWNrQ292ZXJhZ2VCZW5lZmljaWFyeSh0aGlzLnNlbGVjdGVkQmVuZWZpY2lhcnkuZG9jdW1lbnRfaWQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnJlc291cmNlVHlwZSA9PSAnQ292ZXJhZ2UnKSB7CiAgICAgICAgICB0aGlzLnB1cnBvc2VEaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgdGhpcy5zdWJtaXRCdXR0b25EaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgdGhpcy5zaG93U3VjY2VzcygiQ292ZXJhZ2UgRXhpc3QhISBubyBvcHRpb24gcHJvdmlkZWQgRGlzY292ZXJ5IGluIFB1cnBvc2UiKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICB0aGlzLnNob3dFcnJvcigiTm8gQ292ZXJhZ2UgRm91bmQhIS5Zb3UgY2FuIG9ubHkgc2VuZCB0aGUgZWxpZ2liaWxpdHkgcmVxdWVzdCBCZW5lZmljaWFyeSB0aGF0IGhhdmUgQ292ZXJhZ2UiKTsKCiAgICAgICAgaWYgKCFPYmplY3QuaGFzT3duKHRoaXMuRWxpZ2liaWxpdHlQdXJvc2VPcHRpb25zLCAyKSkgewogICAgICAgICAgdGhpcy5FbGlnaWJpbGl0eVB1cm9zZU9wdGlvbnMucHVzaCh7CiAgICAgICAgICAgIG9wdGlvbjogJ0Rpc2NvdmVyeScsCiAgICAgICAgICAgIHZhbHVlOiAnZGlzY292ZXJ5JwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLnB1cnBvc2VEaXNhYmxlZCA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCgogICAgYXN5bmMgb25TdWJtaXRGb3JtKCkgewogICAgICBpZiAodGhpcy5zZWxlY3RlZEJlbmVmaWNpYXJ5ID09PSBudWxsIHx8IHRoaXMuc2VsZWN0ZWRMb2NhdGlvbiA9PT0gbnVsbCB8fCB0aGlzLnN0YXJ0RGF0ZSA9PT0gbnVsbCB8fCB0aGlzLlNlbGVjdGVkRWxpZ2liaWxpdHlQdXJvc2UgPT09IG51bGwpIHsKICAgICAgICB0aGlzLnNob3dFcnJvcigiUGxlYXNlIFNlbGVjdCBBbGwgdGhlIEZpZWxkcyB3aXRoICoiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgcHVycG9zZV9saXN0ID0gW107CiAgICAgICAgdGhpcy5TZWxlY3RlZEVsaWdpYmlsaXR5UHVyb3NlLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICBwdXJwb3NlX2xpc3QucHVzaChpdGVtLnZhbHVlKTsKICAgICAgICB9KTsKICAgICAgICBjb25zdCBlbGlnaWJpbGl0eVNlcnZpY2VzID0gbmV3IEVsaWdpYmlsaXR5UmVxdWVzdFNlcnZpY2UoKTsKICAgICAgICBhd2FpdCBlbGlnaWJpbGl0eVNlcnZpY2VzLnNlbmRFbGlnaWJpbGl0eVJlcXVlc3RNYW51YWwodGhpcy5zZWxlY3RlZEJlbmVmaWNpYXJ5LmRvY3VtZW50X2lkLCB0aGlzLnNlbGVjdGVkTG9jYXRpb24uZmhpcl9pZCwgdGhpcy5zdGFydERhdGUsIHRoaXMuZW5kRGF0ZSwgcHVycG9zZV9saXN0KS50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuc2VsZWN0ZWRCZW5lZmljaWFyeSA9IG51bGw7CiAgICAgICAgICB0aGlzLnNlbGVjdGVkTG9jYXRpb24gPSBudWxsOwogICAgICAgICAgdGhpcy5wdXJwb3NlRGlzYWJsZWQgPSB0cnVlOwogICAgICAgICAgdGhpcy5zdWJtaXRCdXR0b25EaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICB0aGlzLmVuZERhdGUgPSBudWxsOwogICAgICAgICAgdGhpcy5zdGFydERhdGUgPSBudWxsOwogICAgICAgICAgdGhpcy5TZWxlY3RlZEVsaWdpYmlsaXR5UHVyb3NlID0gbnVsbDsKICAgICAgICAgIHRoaXMuc2hvd1N1Y2Nlc3MoIkNvdmVyYWdlIEVsaWdpYmlsaXR5IFJlcXVlc3QgU3VibWl0dGVkLnlvdSBjYW4gc2VlIGl0IGluIHRoZSB0cmFuc2FjdGlvbiB0YWIhIik7CiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CgogIH0KfTs="},{"version":3,"mappings":"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","names":["BeneficiaryServices","LocationServices","CoverageServices","EligibilityRequestService","name","data","selectedBeneficiary","beneficiaryOptions","selectedLocation","locationOptions","checkCoverage","startDate","purposeDisabled","submitButtonDisabled","endDate","SelectedEligibilityPurose","EligibilityPuroseOptions","option","value","beneficiaryService","locationServices","created","mounted","getAllBeneficiary","then","response","catch","error","console","log","showError","getAllLocations","methods","showSuccess","message","$toast","add","severity","summary","detail","life","OnSelectedBeneficiary","forEach","item","key","result","splice","coverage_service","checkCoverageBeneficiary","document_id","resourceType","Object","hasOwn","push","onSubmitForm","purpose_list","eligibilityServices","sendEligibilityRequestManual","fhir_id"],"sourceRoot":"","sources":["/Users/shehrozkapoor/Desktop/FIRST_CARE/FIRSTCARE-INSURANCE-FRONTENT/src/components/Eligibility/AddNewEligibilityRequest.vue"],"sourcesContent":["<template>\n    <Toast />\n    <div class=\"grid\">\n        <div class=\"col-12\">\n            <Message severity=\"warn\" class=\"text-lg font-bold\">\"All the Field with <span class=\"font-bold text-pink-700\">*</span> are compulsory\"</Message>\n        </div>\n        <div class=\"col-3\">\n            <label for=\"\" class=\"text-lg font-bold col-12 ml-0 pl-0\">Select Beneficiary <span class=\"font-bold text-pink-700\">*</span></label>\n            <Dropdown v-model=\"selectedBeneficiary\" :options=\"beneficiaryOptions\" optionLabel=\"document_id\" :filter=\"true\" filterPlaceholder=\"search...\" placeholder=\"Select a Beneficiary\" class=\"col-12\" @change=\"OnSelectedBeneficiary\"/>\n        </div>\n        <div class=\"col-3\">\n            <label for=\"\" class=\"text-lg font-bold col-12 ml-0 pl-0\">Select Eligibility Purpose</label>\n            <MultiSelect v-model=\"SelectedEligibilityPurose\" :options=\"EligibilityPuroseOptions\" optionLabel=\"option\" placeholder=\"Select a Eligibility Purpose\" class=\"col-12\" :disabled=\"purposeDisabled\"/>\n        </div>\n        <div class=\"col-3\">\n            <label for=\"\" class=\"text-lg font-bold col-12 ml-0 pl-0\">Select Department/Location</label>\n            <Dropdown v-model=\"selectedLocation\" :options=\"locationOptions\" optionLabel=\"name\" :filter=\"true\" filterPlaceholder=\"search...\" placeholder=\"Select a Department/Location\" class=\"col-12\"/>\n        </div>\n        <div class=\"col-3\">\n            <label for=\"\" class=\"text-lg font-bold col-12 ml-0 pl-0\">Service Start Date<span class=\"font-bold text-pink-700\">*</span></label>\n            <Calendar v-model=\"startDate\" placeholder=\"Select start date\" class=\"col-12 h-4rem m-0 p-0\" dateFormat=\"yy-mm-dd\"/>\n        </div>\n        <div class=\"col-3\">\n            <label for=\"\" class=\"text-lg font-bold col-12 ml-0 pl-0\">Service End Date</label>\n            <Calendar v-model=\"endDate\" placeholder=\"Select end date\" class=\"col-12 h-4rem m-0 p-0\" dateFormat=\"yy-mm-dd\"/>\n        </div>\n        <div class=\"col-12 flex flex-row justify-content-center align-content-center\">\n            <Button label=\"Send Eligibility Request\" icon=\"pi pi-send\" class=\"p-text-button p-button-success col-6\" @click=\"onSubmitForm\" :disabled=\"submitButtonDisabled\"/>\n        </div>\n    </div>\n\n</template>\n\n<script>\nimport BeneficiaryServices from '@/service/BeneficiaryServices';\nimport LocationServices from '@/service/LocationServices';\nimport CoverageServices from '@/service/CoverageServices';\nimport EligibilityRequestService from '@/service/EligibilityRequestService';\nexport default {\n    name:\"AddNewEligibilityRequest\",\n    data(){\n        return{\n            selectedBeneficiary:null,\n            beneficiaryOptions:null,\n            selectedLocation:null,\n            locationOptions:null,\n            checkCoverage:false,\n            startDate:null,\n            purposeDisabled:true,\n            submitButtonDisabled:true,\n            endDate:null,\n            SelectedEligibilityPurose:null,\n            EligibilityPuroseOptions:[\n                {option: 'Benefits', value: 'benefits'},\n                {option: 'Validation', value: 'validation'},\n            ]\n        }\n    },\n    beneficiaryService:null,\n    locationServices:null,\n    created(){\n        this.beneficiaryService = new BeneficiaryServices();\n        this.locationServices = new LocationServices();\n    },\n    async mounted() {\n        await this.beneficiaryService.getAllBeneficiary().then(response =>{\n            this.beneficiaryOptions = response.data;\n        })\n        .catch((error)=>{\n            console.log(error);\n            this.showError('Unable to connect the server please check your internet or try after sometime!!!');\n        });\n        await this.locationServices.getAllLocations().then(response =>{\n            this.locationOptions = response.data;\n        })\n        .catch((error)=>{\n            console.log(error);\n            this.showError('Unable to connect the server please check your internet or try after sometime!!!');\n        });\n    },\n    methods:{\n        showSuccess(message) {this.$toast.add({severity:'success', summary: 'Success Message', detail:message, life: 6000});},\n        showError(message) {this.$toast.add({severity:'error', summary: 'Error Message', detail:message, life: 6000});},\n        async OnSelectedBeneficiary(){\n            this.purposeDisabled = true;\n            this.submitButtonDisabled = true;\n            this.SelectedEligibilityPurose=null;\n\n            this.EligibilityPuroseOptions.forEach((item,key) =>{\n                if(item.option==='Discovery'){\n                    var result = this.EligibilityPuroseOptions.splice(key,1); \n                    console.log(result);\n                }\n            })\n\n\n            const coverage_service = new CoverageServices();\n            await coverage_service.checkCoverageBeneficiary(this.selectedBeneficiary.document_id).then(response =>{\n                if(response.data.resourceType=='Coverage'){\n                    this.purposeDisabled = false;\n                    this.submitButtonDisabled = false;\n                    this.showSuccess(\"Coverage Exist!! no option provided Discovery in Purpose\")\n                }\n            })\n            .catch(() => {\n                this.showError(\"No Coverage Found!!.You can only send the eligibility request Beneficiary that have Coverage\");\n                if(!Object.hasOwn(this.EligibilityPuroseOptions, 2)){\n                    this.EligibilityPuroseOptions.push({option: 'Discovery', value: 'discovery'},)\n                }\n                this.purposeDisabled = false;\n            })\n        },\n        async onSubmitForm(){\n            if(this.selectedBeneficiary === null || this.selectedLocation === null || this.startDate === null || this.SelectedEligibilityPurose === null){\n                this.showError(\"Please Select All the Fields with *\");\n            }\n            else{\n                var purpose_list = [];\n                this.SelectedEligibilityPurose.forEach(item =>{\n                    purpose_list.push(item.value);\n                });\n                const eligibilityServices = new EligibilityRequestService();\n                await eligibilityServices.sendEligibilityRequestManual(this.selectedBeneficiary.document_id,this.selectedLocation.fhir_id,this.startDate,this.endDate,purpose_list).then(()=>{\n                    this.selectedBeneficiary=null;\n                    this.selectedLocation=null;\n                    this.purposeDisabled=true;\n                    this.submitButtonDisabled=true;\n                    this.endDate=null;\n                    this.startDate=null;\n                    this.SelectedEligibilityPurose=null;\n                    this.showSuccess(\"Coverage Eligibility Request Submitted.you can see it in the transaction tab!\")\n                })\n                .catch(error => {\n                    console.log(error);\n                })\n            }\n        }\n    }\n}\n</script>"]}]}