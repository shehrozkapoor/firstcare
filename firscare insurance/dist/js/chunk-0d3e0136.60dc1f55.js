(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d3e0136"],{"01a6":function(e,t,n){},"12b4":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("c7eb"),a=n("1da1"),r=n("d4ec"),l=n("bee2"),c=(n("d3b7"),n("1659")),u=new c["a"],o=function(){function e(){Object(r["a"])(this,e)}return Object(l["a"])(e,[{key:"getInsuranceBilling",value:function(){var e=Object(a["a"])(Object(i["a"])().mark((function e(){var t,n;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(u.billing_url,{headers:{Authorization:u.token}});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"sendEligibilityRequest",value:function(){var e=Object(a["a"])(Object(i["a"])().mark((function e(t){var n,a;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new FormData,n.append("billing-id",t),e.next=4,fetch(u.send_eligibility_request_patient_healthcare,{method:"POST",headers:{Authorization:u.token},body:n}).then((function(e){return e.json()})).then((function(e){return e}))["catch"]((function(e){return e}));case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sendEligibilityRequestManual",value:function(){var e=Object(a["a"])(Object(i["a"])().mark((function e(t,n,a,r,l){var c,o;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(l),c=new FormData,c.append("document_id",t),c.append("eligibility_purpose",l),c.append("location_id",n),c.append("start_date",u.convertDateFormat(a)),c.append("end_date",u.convertDateFormat(r)),e.next=9,fetch(u.send_eligibility_request_manual,{method:"POST",headers:{Authorization:u.token},body:c}).then((function(e){return e.json()})).then((function(e){return e}))["catch"]((function(e){return e}));case 9:return o=e.sent,e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));function t(t,n,i,a,r){return e.apply(this,arguments)}return t}()}]),e}()},"1d57":function(e,t,n){var i=n("23e7"),a=n("da84"),r=n("20cc").setTimeout;i({global:!0,bind:!0,forced:a.setTimeout!==r},{setTimeout:r})},"20cc":function(e,t,n){var i=n("da84"),a=n("2ba4"),r=n("1626"),l=n("342f"),c=n("f36a"),u=n("d6d6"),o=/MSIE .\./.test(l),s=i.Function,d=function(e){return o?function(t,n){var i=u(arguments.length,1)>2,l=r(t)?t:s(t),o=i?c(arguments,2):void 0;return e(i?function(){a(l,this,o)}:l,n)}:e};e.exports={setTimeout:d(i.setTimeout),setInterval:d(i.setInterval)}},"2ca8":function(e,t,n){var i=n("23e7"),a=n("da84"),r=n("20cc").setInterval;i({global:!0,bind:!0,forced:a.setInterval!==r},{setInterval:r})},4795:function(e,t,n){n("2ca8"),n("1d57")},"76c8":function(e,t,n){"use strict";n("01a6")},d209:function(e,t,n){"use strict";n.r(t);var i=n("7a23"),a=Object(i["R"])("data-v-5a8baed2");Object(i["y"])("data-v-5a8baed2");var r={class:"grid"},l={class:"col-3"},c={class:"col-12"},u={class:"card"},o=Object(i["l"])("h5",null,"Eligibility Request",-1),s={class:"flex justify-content-end flex-column sm:flex-row"},d={class:"p-input-icon-left mb-2"},b=Object(i["l"])("i",{class:"pi pi-search"},null,-1),f=Object(i["k"])(" No Eligibilty found. "),p=Object(i["k"])(" Loading Eligibilty Requests... "),j={class:"flex flex-row justify-content-evenly"};Object(i["w"])();var O=a((function(e,t,n,O,h,m){var y=Object(i["D"])("Button"),g=Object(i["D"])("Toast"),v=Object(i["D"])("InputText"),_=Object(i["D"])("Column"),w=Object(i["D"])("DataTable"),k=Object(i["E"])("tooltip");return Object(i["v"])(),Object(i["g"])("div",r,[Object(i["l"])("div",l,[Object(i["l"])(y,{label:"Create New Request",onClick:t[1]||(t[1]=function(t){return e.$router.push("new-eligibility-request")}),class:"p-text-button p-button-success",icon:"pi pi-plus"})]),Object(i["l"])("div",c,[Object(i["l"])("div",u,[Object(i["l"])(g),o,Object(i["l"])(w,{value:h.billing,paginator:!0,class:"p-datatable-gridlines",rows:10,dataKey:"id",rowHover:!0,loading:h.loading,filters:h.filters,responsiveLayout:"scroll",globalFilterFields:["id","patient.account_id","patient.patient_id","unit_amount","paid_amount","total_amount","patient.first_name","patient.second_name","patient.third_name"]},{header:a((function(){return[Object(i["l"])("div",s,[Object(i["l"])("span",d,[b,Object(i["l"])(v,{modelValue:h.filters["global"].value,"onUpdate:modelValue":t[2]||(t[2]=function(e){return h.filters["global"].value=e}),placeholder:"Keyword Search",style:{width:"100%"}},null,8,["modelValue"])])])]})),empty:a((function(){return[f]})),loading:a((function(){return[p]})),default:a((function(){return[Object(i["l"])(_,{field:"id",header:"Billing ID",style:{"min-width":"12rem"}},{body:a((function(e){var t=e.data;return[Object(i["k"])(Object(i["H"])(t.id),1)]})),_:1}),Object(i["l"])(_,{header:"FHIR ID",field:"account_id",style:{"min-width":"12rem"}},{body:a((function(e){var t=e.data;return[Object(i["k"])(Object(i["H"])(t.patient.account_id),1)]})),_:1}),Object(i["l"])(_,{header:"Patient ID",field:"patient",style:{"min-width":"12rem"}},{body:a((function(e){var t=e.data;return[Object(i["k"])(Object(i["H"])(t.patient.patient_id),1)]})),_:1}),Object(i["l"])(_,{header:"Patient Name",field:"patient_name",style:{"min-width":"12rem"}},{body:a((function(e){var t=e.data;return[Object(i["k"])(Object(i["H"])(t.patient.first_name)+" "+Object(i["H"])(t.patient.second_name)+" "+Object(i["H"])(t.patient.third_name),1)]})),_:1}),Object(i["l"])(_,{header:"Appointment",field:"appointment",style:{"min-width":"12rem"}},{body:a((function(e){var t=e.data;return[Object(i["k"])(Object(i["H"])(t.appointment),1)]})),_:1}),Object(i["l"])(_,{header:"Unit Amount",field:"unit_amount",style:{"min-width":"12rem"}},{body:a((function(e){var t=e.data;return[Object(i["k"])(Object(i["H"])(m.formatCurrency(t.unit_amount)),1)]})),_:1}),Object(i["l"])(_,{header:"Paid Amount",field:"paid_amount",filterField:"paid_amount",style:{"min-width":"12rem"}},{body:a((function(e){var t=e.data;return[Object(i["k"])(Object(i["H"])(m.formatCurrency(t.paid_amount)),1)]})),_:1}),Object(i["l"])(_,{header:"Total Amount(Inc tax.)",field:"total_amount",style:{"min-width":"12rem"}},{body:a((function(e){var t=e.data;return[Object(i["k"])(Object(i["H"])(m.formatCurrency(t.total_amount)),1)]})),_:1}),Object(i["l"])(_,{header:"Service Note",field:"service_note",style:{"min-width":"12rem"}},{body:a((function(e){var t=e.data;return[Object(i["k"])(Object(i["H"])(t.service_note),1)]})),_:1}),Object(i["l"])(_,{header:"Billing Note",field:"billing_note",style:{"min-width":"12rem"}},{body:a((function(e){var t=e.data;return[Object(i["k"])(Object(i["H"])(t.billing_note),1)]})),_:1}),Object(i["l"])(_,{header:"Billing Type",field:"status",style:{"min-width":"12rem"}},{body:a((function(e){var t=e.data;return[Object(i["k"])(Object(i["H"])(t.status),1)]})),_:1}),Object(i["l"])(_,{header:"Eligibility Request Status",field:"eligibility_bundle",style:{"min-width":"12rem"}},{body:a((function(e){var t=e.index;return[Object(i["k"])(Object(i["H"])(0==h.eligibility_request[t]?"Not Submitted":"Submitted"),1)]})),_:1}),Object(i["l"])(_,{header:"Eligibility Response Status",field:"eligibility_bundle",style:{"min-width":"12rem"}},{body:a((function(e){var t=e.index;return[Object(i["k"])(Object(i["H"])(0==h.eligibility_response[t]?"Not Received":"Received"),1)]})),_:1}),Object(i["l"])(_,{header:"Created On",field:"creation_date",style:{"min-width":"12rem"}},{body:a((function(e){var t=e.data;return[Object(i["k"])(Object(i["H"])(t.creation_date),1)]})),_:1}),Object(i["l"])(_,{style:{"min-width":"12rem"}},{body:a((function(e){var t=e.data,n=e.index;return[Object(i["l"])("div",j,[Object(i["O"])(Object(i["l"])(y,{class:"p-button-raised p-button-rounded p-button-success",id:t.id,icon:"pi pi-send",disabled:1==h.eligibility_request[n],onClick:function(e){return m.sendEligibilityRequest(t.id,n)}},null,8,["id","disabled","onClick"]),[[k,"Send Eligibility Request"]]),Object(i["O"])(Object(i["l"])(y,{class:"p-button-raised p-button-rounded p-button-warning",id:t.id,icon:"pi pi-refresh",disabled:1==h.eligibility_response[n],onClick:function(e){return m.sendEligibilityRequest(t.id,n)}},null,8,["id","disabled","onClick"]),[[k,"Resend Eligibility Request"]])])]})),_:1})]})),_:1},8,["value","loading","filters","globalFilterFields"])])])])})),h=n("c7eb"),m=n("1da1"),y=(n("4795"),n("4160"),n("d3b7"),n("159b"),n("0393")),g=n("12b4"),v={data:function(){return{billing:null,filters:null,loading:!0,eligibility_request:[],eligibility_response:[]}},billingService:null,created:function(){this.billingService=new g["a"],this.initFilters()},mounted:function(){var e=this;return Object(m["a"])(Object(h["a"])().mark((function t(){return Object(h["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getDataLoaded(),setInterval((function(){e.getDataLoaded()}),3e4);case 2:case"end":return t.stop()}}),t)})))()},methods:{showSuccess:function(e){this.$toast.add({severity:"success",summary:"Success Message",detail:e,life:3e3})},showError:function(e){this.$toast.add({severity:"error",summary:"Error Message",detail:e,life:3e3})},getDataLoaded:function(){var e=this;return Object(m["a"])(Object(h["a"])().mark((function t(){return Object(h["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("running"),t.next=3,e.billingService.getInsuranceBilling().then((function(t){e.billing=t,e.loading=!1,t.forEach((function(t,n){if(null==t.eligibility_bundle&&(e.eligibility_request[n]=!1,e.eligibility_response[n]=!1),null!=t.eligibility_bundle){e.eligibility_request[n]=!0;try{var i=t.eligibility_bundle.response_bundle_status;e.eligibility_response[n]=i}catch(a){e.eligibility_response[n]=!1}}}))}));case 3:case"end":return t.stop()}}),t)})))()},initFilters:function(){this.filters={global:{value:null,matchMode:y["a"].STARTS_WITH}}},formatCurrency:function(e){return e.toLocaleString("en-US",{style:"currency",currency:"SAR"})},sendEligibilityRequest:function(e,t){var n=this;return Object(m["a"])(Object(h["a"])().mark((function i(){var a;return Object(h["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,n.billingService.sendEligibilityRequest(e);case 2:a=i.sent,"error"==a.status&&n.showError(a.message),"ok"==a.status&&(n.eligibility_request[t]=!0,n.showSuccess(a.data));case 5:case"end":return i.stop()}}),i)})))()}}},_=(n("76c8"),n("6b0d")),w=n.n(_);const k=w()(v,[["render",O],["__scopeId","data-v-5a8baed2"]]);t["default"]=k}}]);
//# sourceMappingURL=chunk-0d3e0136.60dc1f55.js.map