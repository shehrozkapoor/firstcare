(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-475a1f9c"],{"0541":function(e,t,n){var a=n("23e7"),r=n("1a2d");a({target:"Object",stat:!0},{hasOwn:r})},"083a":function(e,t,n){"use strict";var a=n("0d51"),r=TypeError;e.exports=function(e,t){if(!delete e[t])throw r("Cannot delete property "+a(t)+" of "+a(e))}},"12b4":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("c7eb"),r=n("1da1"),i=n("d4ec"),c=n("bee2"),o=(n("d3b7"),n("1659")),l=new o["a"],u=function(){function e(){Object(i["a"])(this,e)}return Object(c["a"])(e,[{key:"getInsuranceBilling",value:function(){var e=Object(r["a"])(Object(a["a"])().mark((function e(){var t,n;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(l.billing_url,{headers:{Authorization:l.token}});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"sendEligibilityRequest",value:function(){var e=Object(r["a"])(Object(a["a"])().mark((function e(t){var n,r;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new FormData,n.append("billing-id",t),e.next=4,fetch(l.send_eligibility_request_patient_healthcare,{method:"POST",headers:{Authorization:l.token},body:n}).then((function(e){return e.json()})).then((function(e){return e}))["catch"]((function(e){return e}));case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sendEligibilityRequestManual",value:function(){var e=Object(r["a"])(Object(a["a"])().mark((function e(t,n,r,i,c){var o,u;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(c),o=new FormData,o.append("document_id",t),o.append("eligibility_purpose",c),o.append("location_id",n),o.append("start_date",l.convertDateFormat(r)),o.append("end_date",l.convertDateFormat(i)),e.next=9,fetch(l.send_eligibility_request_manual,{method:"POST",headers:{Authorization:l.token},body:o}).then((function(e){return e.json()})).then((function(e){return e}))["catch"]((function(e){return e}));case 9:return u=e.sent,e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)})));function t(t,n,a,r,i){return e.apply(this,arguments)}return t}()}]),e}()},3511:function(e,t){var n=TypeError,a=9007199254740991;e.exports=function(e){if(e>a)throw n("Maximum allowed index exceeded");return e}},"4e43":function(e,t,n){"use strict";n.r(t);var a=n("7a23"),r={class:"grid"},i={class:"col-12"},c=Object(a["k"])('"All the Field with '),o=Object(a["l"])("span",{class:"font-bold text-pink-700"},"*",-1),l=Object(a["k"])(' are compulsory"'),u={class:"col-3"},s=Object(a["l"])("label",{for:"",class:"text-lg font-bold col-12 ml-0 pl-0"},[Object(a["k"])("Select Beneficiary "),Object(a["l"])("span",{class:"font-bold text-pink-700"},"*")],-1),d={class:"col-3"},b=Object(a["l"])("label",{for:"",class:"text-lg font-bold col-12 ml-0 pl-0"},"Select Eligibility Purpose",-1),p={class:"col-3"},f=Object(a["l"])("label",{for:"",class:"text-lg font-bold col-12 ml-0 pl-0"},"Select Department/Location",-1),h={class:"col-3"},m=Object(a["l"])("label",{for:"",class:"text-lg font-bold col-12 ml-0 pl-0"},[Object(a["k"])("Service Start Date"),Object(a["l"])("span",{class:"font-bold text-pink-700"},"*")],-1),v={class:"col-3"},y=Object(a["l"])("label",{for:"",class:"text-lg font-bold col-12 ml-0 pl-0"},"Service End Date",-1),O={class:"col-12 flex flex-row justify-content-center align-content-center"};function j(e,t,n,j,g,_){var w=Object(a["D"])("Toast"),k=Object(a["D"])("Message"),D=Object(a["D"])("Dropdown"),x=Object(a["D"])("MultiSelect"),S=Object(a["D"])("Calendar"),B=Object(a["D"])("Button");return Object(a["v"])(),Object(a["g"])(a["a"],null,[Object(a["l"])(w),Object(a["l"])("div",r,[Object(a["l"])("div",i,[Object(a["l"])(k,{severity:"warn",class:"text-lg font-bold"},{default:Object(a["N"])((function(){return[c,o,l]})),_:1})]),Object(a["l"])("div",u,[s,Object(a["l"])(D,{modelValue:g.selectedBeneficiary,"onUpdate:modelValue":t[1]||(t[1]=function(e){return g.selectedBeneficiary=e}),options:g.beneficiaryOptions,optionLabel:"document_id",filter:!0,filterPlaceholder:"search...",placeholder:"Select a Beneficiary",class:"col-12",onChange:_.OnSelectedBeneficiary},null,8,["modelValue","options","onChange"])]),Object(a["l"])("div",d,[b,Object(a["l"])(x,{modelValue:g.SelectedEligibilityPurose,"onUpdate:modelValue":t[2]||(t[2]=function(e){return g.SelectedEligibilityPurose=e}),options:g.EligibilityPuroseOptions,optionLabel:"option",placeholder:"Select a Eligibility Purpose",class:"col-12",disabled:g.purposeDisabled},null,8,["modelValue","options","disabled"])]),Object(a["l"])("div",p,[f,Object(a["l"])(D,{modelValue:g.selectedLocation,"onUpdate:modelValue":t[3]||(t[3]=function(e){return g.selectedLocation=e}),options:g.locationOptions,optionLabel:"name",filter:!0,filterPlaceholder:"search...",placeholder:"Select a Department/Location",class:"col-12"},null,8,["modelValue","options"])]),Object(a["l"])("div",h,[m,Object(a["l"])(S,{modelValue:g.startDate,"onUpdate:modelValue":t[4]||(t[4]=function(e){return g.startDate=e}),placeholder:"Select start date",class:"col-12 h-4rem m-0 p-0",dateFormat:"yy-mm-dd"},null,8,["modelValue"])]),Object(a["l"])("div",v,[y,Object(a["l"])(S,{modelValue:g.endDate,"onUpdate:modelValue":t[5]||(t[5]=function(e){return g.endDate=e}),placeholder:"Select end date",class:"col-12 h-4rem m-0 p-0",dateFormat:"yy-mm-dd"},null,8,["modelValue"])]),Object(a["l"])("div",O,[Object(a["l"])(B,{label:"Send Eligibility Request",icon:"pi pi-send",class:"p-text-button p-button-success col-6",onClick:_.onSubmitForm,disabled:g.submitButtonDisabled},null,8,["onClick","disabled"])])])],64)}var g=n("c7eb"),_=n("1da1"),w=(n("4160"),n("d3b7"),n("159b"),n("a434"),n("0541"),n("b164")),k=n("d4ec"),D=n("bee2"),x=n("bc3a"),S=n.n(x),B=n("1659"),E=new B["a"],P=function(){function e(){Object(k["a"])(this,e)}return Object(D["a"])(e,[{key:"getAllLocations",value:function(){var e=Object(_["a"])(Object(g["a"])().mark((function e(){var t;return Object(g["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S()({url:E.department,headers:{Authorization:E.token}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),A=new B["a"],F=function(){function e(){Object(k["a"])(this,e)}return Object(D["a"])(e,[{key:"checkCoverageBeneficiary",value:function(){var e=Object(_["a"])(Object(g["a"])().mark((function e(t){var n;return Object(g["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S()({url:A.check_coverage_request,method:"GET",headers:{Authorization:A.token},params:{document_id:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),V=n("12b4"),C={name:"AddNewEligibilityRequest",data:function(){return{selectedBeneficiary:null,beneficiaryOptions:null,selectedLocation:null,locationOptions:null,checkCoverage:!1,startDate:null,purposeDisabled:!0,submitButtonDisabled:!0,endDate:null,SelectedEligibilityPurose:null,EligibilityPuroseOptions:[{option:"Benefits",value:"benefits"},{option:"Validation",value:"validation"}]}},beneficiaryService:null,locationServices:null,created:function(){this.beneficiaryService=new w["a"],this.locationServices=new P},mounted:function(){var e=this;return Object(_["a"])(Object(g["a"])().mark((function t(){return Object(g["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.beneficiaryService.getAllBeneficiary().then((function(t){e.beneficiaryOptions=t.data}))["catch"]((function(t){console.log(t),e.showError("Unable to connect the server please check your internet or try after sometime!!!")}));case 2:return t.next=4,e.locationServices.getAllLocations().then((function(t){e.locationOptions=t.data}))["catch"]((function(t){console.log(t),e.showError("Unable to connect the server please check your internet or try after sometime!!!")}));case 4:case"end":return t.stop()}}),t)})))()},methods:{showSuccess:function(e){this.$toast.add({severity:"success",summary:"Success Message",detail:e,life:6e3})},showError:function(e){this.$toast.add({severity:"error",summary:"Error Message",detail:e,life:6e3})},OnSelectedBeneficiary:function(){var e=this;return Object(_["a"])(Object(g["a"])().mark((function t(){var n;return Object(g["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.purposeDisabled=!0,e.submitButtonDisabled=!0,e.SelectedEligibilityPurose=null,e.EligibilityPuroseOptions.forEach((function(t,n){if("Discovery"===t.option){var a=e.EligibilityPuroseOptions.splice(n,1);console.log(a)}})),n=new F,t.next=7,n.checkCoverageBeneficiary(e.selectedBeneficiary.document_id).then((function(t){console.log(t),"Coverage"==t.data.resourceType&&(e.purposeDisabled=!1,e.submitButtonDisabled=!1,e.showSuccess("Coverage Exist!! no option provided Discovery in Purpose"))}))["catch"]((function(){e.showError("No Coverage Found!!.You can only send the eligibility request Beneficiary that have Coverage"),Object.hasOwn(e.EligibilityPuroseOptions,2)||e.EligibilityPuroseOptions.push({option:"Discovery",value:"discovery"}),e.purposeDisabled=!1}));case 7:case"end":return t.stop()}}),t)})))()},onSubmitForm:function(){var e=this;return Object(_["a"])(Object(g["a"])().mark((function t(){var n,a;return Object(g["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==e.selectedBeneficiary&&null!==e.selectedLocation&&null!==e.startDate&&null!==e.SelectedEligibilityPurose){t.next=4;break}e.showError("Please Select All the Fields with *"),t.next=9;break;case 4:return n=[],e.SelectedEligibilityPurose.forEach((function(e){n.push(e.value)})),a=new V["a"],t.next=9,a.sendEligibilityRequestManual(e.selectedBeneficiary.document_id,e.selectedLocation.fhir_id,e.startDate,e.endDate,n).then((function(t){console.log(t),e.selectedBeneficiary=null,e.selectedLocation=null,e.purposeDisabled=!0,e.submitButtonDisabled=!0,e.endDate=null,e.startDate=null,e.SelectedEligibilityPurose=null,e.showSuccess("Coverage Eligibility Request Submitted.you can see it in the transaction tab!")}))["catch"]((function(e){console.log(e)}));case 9:case"end":return t.stop()}}),t)})))()}}},L=n("6b0d"),z=n.n(L);const T=z()(C,[["render",j]]);t["default"]=T},a434:function(e,t,n){"use strict";var a=n("23e7"),r=n("7b0b"),i=n("23cb"),c=n("5926"),o=n("07fa"),l=n("3511"),u=n("65f0"),s=n("8418"),d=n("083a"),b=n("1dde"),p=b("splice"),f=Math.max,h=Math.min;a({target:"Array",proto:!0,forced:!p},{splice:function(e,t){var n,a,b,p,m,v,y=r(this),O=o(y),j=i(e,O),g=arguments.length;for(0===g?n=a=0:1===g?(n=0,a=O-j):(n=g-2,a=h(f(c(t),0),O-j)),l(O+n-a),b=u(y,a),p=0;p<a;p++)m=j+p,m in y&&s(b,p,y[m]);if(b.length=a,n<a){for(p=j;p<O-a;p++)m=p+a,v=p+n,m in y?y[v]=y[m]:d(y,v);for(p=O;p>O-a+n;p--)d(y,p-1)}else if(n>a)for(p=O-a;p>j;p--)m=p+a-1,v=p+n-1,m in y?y[v]=y[m]:d(y,v);for(p=0;p<n;p++)y[p+j]=arguments[p+2];return y.length=O-a+n,b}})},b164:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("c7eb"),r=n("1da1"),i=n("d4ec"),c=n("bee2"),o=n("bc3a"),l=n.n(o),u=n("1659"),s=new u["a"],d=function(){function e(){Object(i["a"])(this,e)}return Object(c["a"])(e,[{key:"getAllBeneficiary",value:function(){var e=Object(r["a"])(Object(a["a"])().mark((function e(){var t;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l()({url:s.getPatient,headers:{Authorization:s.token}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getSearchBeneficiary",value:function(){var e=Object(r["a"])(Object(a["a"])().mark((function e(t,n,r,i,c,o,u,d,b){var p,f,h;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l()({url:s.getPatient,headers:{Authorization:s.token},params:{document_id:null!==t&&void 0!==t?t:"",first_name:null!==n&&void 0!==n?n:"",second_name:null!==r&&void 0!==r?r:"",file_id:null!==i&&void 0!==i?i:"",number:null!==c&&void 0!==c?c:"",start_date:null!==(p=s.convertDateFormat(o))&&void 0!==p?p:"",end_date:null!==(f=s.convertDateFormat(u))&&void 0!==f?f:"",insurance_plan:null!==d&&void 0!==d?d:"",gender:null!==b&&void 0!==b?b:""}});case 2:return h=e.sent,e.abrupt("return",h.data);case 4:case"end":return e.stop()}}),e)})));function t(t,n,a,r,i,c,o,l,u){return e.apply(this,arguments)}return t}()},{key:"addNewBeneficiary",value:function(){var e=Object(r["a"])(Object(a["a"])().mark((function e(t,n,r,i,c,o,u,d,b,p,f,h,m,v,y,O,j,g,_){var w,k;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return w={first_name:t,second_name:n,third_name:r,file_id:i,DOB_hijri:s.convertDateFormat(c),DOB:s.convertDateFormat(o),e_health_id:u,document_id:d,phone_number:b,emergency_contact_number:p,email:f,insurance_plan:h,document_type:m,residency_type:v,nationality:y,maritail_status:O,gender:j,blood_group:g,preffered_language:_},e.next=3,l()({url:s.addNewPatient,method:"POST",headers:{Authorization:s.token},data:w});case 3:return k=e.sent,e.abrupt("return",k.data);case 5:case"end":return e.stop()}}),e)})));function t(t,n,a,r,i,c,o,l,u,s,d,b,p,f,h,m,v,y,O){return e.apply(this,arguments)}return t}()},{key:"updateBeneficiary",value:function(){var e=Object(r["a"])(Object(a["a"])().mark((function e(t){var n,r;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={first_name:t.first_name,second_name:t.second_name,third_name:t.third_name,file_id:t.file_id,DOB_hijri:s.convertDateFormat(t.DOB_hijri),DOB:s.convertDateFormat(t.DOB),e_health_id:t.e_health_id,document_id:t.document_id,phone_number:t.contact_info.phone_number,emergency_contact_number:t.contact_info.emergency_phone_number,email:t.contact_info.email,insurance_plan:t.insurance_plan,document_type:t.document_type,residency_type:t.residency_type,nationality:t.nationality,maritail_status:t.maritail_status,gender:t.gender,blood_group:t.blood_group,preffered_language:t.preffered_language},console.log("this is data:".concat(n)),e.next=4,l()({url:s.addNewPatient,method:"PUT",headers:{Authorization:s.token},data:n});case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getInsuranceSeatchBeneficiary",value:function(){var e=Object(r["a"])(Object(a["a"])().mark((function e(t){var n;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l()({method:"GET",url:s.getInsuranceSearchBeneficiary,params:{PatientKey:t},headers:{Authorization:s.token}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"saveInsuranceSeatchBeneficiaryDetails",value:function(){var e=Object(r["a"])(Object(a["a"])().mark((function e(t,n){var r,i;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={insurance_payload:t,document_id:n},e.next=3,l()({method:"POST",url:s.getInsuranceSearchBeneficiary,headers:{Authorization:s.token},data:r});case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getInsuranceDetails",value:function(){var e=Object(r["a"])(Object(a["a"])().mark((function e(t){var n;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l()({url:s.insurance,method:"GET",headers:{Authorization:s.token},params:{document_id:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()}}]);
//# sourceMappingURL=chunk-475a1f9c.1f405399.js.map