{"ast":null,"code":"import { openBlock, createElementBlock, normalizeClass, normalizeStyle, renderSlot, createElementVNode, Fragment, renderList, createCommentVNode } from 'vue';\nvar script = {\n  name: 'VirtualScroller',\n  emits: ['update:numToleratedItems', 'scroll', 'scroll-index-change', 'lazy-load'],\n  props: {\n    id: {\n      type: String,\n      default: null\n    },\n    style: null,\n    class: null,\n    items: {\n      type: Array,\n      default: null\n    },\n    itemSize: {\n      type: [Number, Array],\n      default: 0\n    },\n    scrollHeight: null,\n    scrollWidth: null,\n    orientation: {\n      type: String,\n      default: 'vertical'\n    },\n    numToleratedItems: {\n      type: Number,\n      default: null\n    },\n    delay: {\n      type: Number,\n      default: 0\n    },\n    lazy: {\n      type: Boolean,\n      default: false\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    loaderDisabled: {\n      type: Boolean,\n      default: false\n    },\n    columns: {\n      type: Array,\n      default: null\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    showSpacer: {\n      type: Boolean,\n      default: true\n    },\n    showLoader: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      first: this.isBoth() ? {\n        rows: 0,\n        cols: 0\n      } : 0,\n      last: this.isBoth() ? {\n        rows: 0,\n        cols: 0\n      } : 0,\n      numItemsInViewport: this.isBoth() ? {\n        rows: 0,\n        cols: 0\n      } : 0,\n      lastScrollPos: this.isBoth() ? {\n        top: 0,\n        left: 0\n      } : 0,\n      d_numToleratedItems: this.numToleratedItems,\n      d_loading: this.loading,\n      loaderArr: [],\n      spacerStyle: {},\n      contentStyle: {}\n    };\n  },\n\n  element: null,\n  content: null,\n  lastScrollPos: null,\n  scrollTimeout: null,\n\n  mounted() {\n    this.init();\n    this.lastScrollPos = this.isBoth() ? {\n      top: 0,\n      left: 0\n    } : 0;\n  },\n\n  watch: {\n    numToleratedItems(newValue) {\n      this.d_numToleratedItems = newValue;\n    },\n\n    loading(newValue) {\n      this.d_loading = newValue;\n    },\n\n    items(newValue, oldValue) {\n      if (!oldValue || oldValue.length !== (newValue || []).length) {\n        this.init();\n      }\n    },\n\n    orientation() {\n      this.lastScrollPos = this.isBoth() ? {\n        top: 0,\n        left: 0\n      } : 0;\n    }\n\n  },\n  methods: {\n    init() {\n      this.setSize();\n      this.calculateOptions();\n      this.setSpacerSize();\n    },\n\n    isVertical() {\n      return this.orientation === 'vertical';\n    },\n\n    isHorizontal() {\n      return this.orientation === 'horizontal';\n    },\n\n    isBoth() {\n      return this.orientation === 'both';\n    },\n\n    scrollTo(options) {\n      this.element && this.element.scrollTo(options);\n    },\n\n    scrollToIndex(index, behavior = 'auto') {\n      const both = this.isBoth();\n      const horizontal = this.isHorizontal();\n      const first = this.first;\n      const {\n        numToleratedItems\n      } = this.calculateNumItems();\n      const itemSize = this.itemSize;\n      const contentPos = this.getContentPosition();\n\n      const calculateFirst = (_index = 0, _numT) => _index <= _numT ? 0 : _index;\n\n      const calculateCoord = (_first, _size, _cpos) => _first * _size + _cpos;\n\n      const scrollTo = (left = 0, top = 0) => this.scrollTo({\n        left,\n        top,\n        behavior\n      });\n\n      if (both) {\n        const newFirst = {\n          rows: calculateFirst(index[0], numToleratedItems[0]),\n          cols: calculateFirst(index[1], numToleratedItems[1])\n        };\n\n        if (newFirst.rows !== first.rows || newFirst.cols !== first.cols) {\n          scrollTo(calculateCoord(newFirst.cols, itemSize[1], contentPos.left), calculateCoord(newFirst.rows, itemSize[0], contentPos.top));\n          this.first = newFirst;\n        }\n      } else {\n        const newFirst = calculateFirst(index, numToleratedItems);\n\n        if (newFirst !== first) {\n          horizontal ? scrollTo(calculateCoord(newFirst, itemSize, contentPos.left), 0) : scrollTo(0, calculateCoord(newFirst, itemSize, contentPos.top));\n          this.first = newFirst;\n        }\n      }\n    },\n\n    scrollInView(index, to, behavior = 'auto') {\n      if (to) {\n        const both = this.isBoth();\n        const horizontal = this.isHorizontal();\n        const {\n          first,\n          viewport\n        } = this.getRenderedRange();\n\n        const scrollTo = (left = 0, top = 0) => this.scrollTo({\n          left,\n          top,\n          behavior\n        });\n\n        const isToStart = to === 'to-start';\n        const isToEnd = to === 'to-end';\n\n        if (isToStart) {\n          if (both) {\n            if (viewport.first.rows - first.rows > index[0]) {\n              scrollTo(viewport.first.cols * this.itemSize[1], (viewport.first.rows - 1) * this.itemSize[0]);\n            } else if (viewport.first.cols - first.cols > index[1]) {\n              scrollTo((viewport.first.cols - 1) * this.itemSize[1], viewport.first.rows * this.itemSize[0]);\n            }\n          } else {\n            if (viewport.first - first > index) {\n              const pos = (viewport.first - 1) * this.itemSize;\n              horizontal ? scrollTo(pos, 0) : scrollTo(0, pos);\n            }\n          }\n        } else if (isToEnd) {\n          if (both) {\n            if (viewport.last.rows - first.rows <= index[0] + 1) {\n              scrollTo(viewport.first.cols * this.itemSize[1], (viewport.first.rows + 1) * this.itemSize[0]);\n            } else if (viewport.last.cols - first.cols <= index[1] + 1) {\n              scrollTo((viewport.first.cols + 1) * this.itemSize[1], viewport.first.rows * this.itemSize[0]);\n            }\n          } else {\n            if (viewport.last - first <= index + 1) {\n              const pos = (viewport.first + 1) * this.itemSize;\n              horizontal ? scrollTo(pos, 0) : scrollTo(0, pos);\n            }\n          }\n        }\n      } else {\n        this.scrollToIndex(index, behavior);\n      }\n    },\n\n    getRenderedRange() {\n      const calculateFirstInViewport = (_pos, _size) => Math.floor(_pos / (_size || _pos));\n\n      let firstInViewport = this.first;\n      let lastInViewport = 0;\n\n      if (this.element) {\n        const both = this.isBoth();\n        const horizontal = this.isHorizontal();\n        const scrollTop = this.element.scrollTop;\n        const scrollLeft = this.element.scrollLeft;\n\n        if (both) {\n          firstInViewport = {\n            rows: calculateFirstInViewport(scrollTop, this.itemSize[0]),\n            cols: calculateFirstInViewport(scrollLeft, this.itemSize[1])\n          };\n          lastInViewport = {\n            rows: firstInViewport.rows + this.numItemsInViewport.rows,\n            cols: firstInViewport.cols + this.numItemsInViewport.cols\n          };\n        } else {\n          const scrollPos = horizontal ? scrollLeft : scrollTop;\n          firstInViewport = calculateFirstInViewport(scrollPos, this.itemSize);\n          lastInViewport = firstInViewport + this.numItemsInViewport;\n        }\n      }\n\n      return {\n        first: this.first,\n        last: this.last,\n        viewport: {\n          first: firstInViewport,\n          last: lastInViewport\n        }\n      };\n    },\n\n    calculateNumItems() {\n      const both = this.isBoth();\n      const horizontal = this.isHorizontal();\n      const itemSize = this.itemSize;\n      const contentPos = this.getContentPosition();\n      const contentWidth = this.element ? this.element.offsetWidth - contentPos.left : 0;\n      const contentHeight = this.element ? this.element.offsetHeight - contentPos.top : 0;\n\n      const calculateNumItemsInViewport = (_contentSize, _itemSize) => Math.ceil(_contentSize / (_itemSize || _contentSize));\n\n      const calculateNumToleratedItems = _numItems => Math.ceil(_numItems / 2);\n\n      const numItemsInViewport = both ? {\n        rows: calculateNumItemsInViewport(contentHeight, itemSize[0]),\n        cols: calculateNumItemsInViewport(contentWidth, itemSize[1])\n      } : calculateNumItemsInViewport(horizontal ? contentWidth : contentHeight, itemSize);\n      const numToleratedItems = this.d_numToleratedItems || (both ? [calculateNumToleratedItems(numItemsInViewport.rows), calculateNumToleratedItems(numItemsInViewport.cols)] : calculateNumToleratedItems(numItemsInViewport));\n      return {\n        numItemsInViewport,\n        numToleratedItems\n      };\n    },\n\n    calculateOptions() {\n      const both = this.isBoth();\n      const first = this.first;\n      const {\n        numItemsInViewport,\n        numToleratedItems\n      } = this.calculateNumItems();\n\n      const calculateLast = (_first, _num, _numT, _isCols) => this.getLast(_first + _num + (_first < _numT ? 2 : 3) * _numT, _isCols);\n\n      const last = both ? {\n        rows: calculateLast(first.rows, numItemsInViewport.rows, numToleratedItems[0]),\n        cols: calculateLast(first.cols, numItemsInViewport.cols, numToleratedItems[1], true)\n      } : calculateLast(first, numItemsInViewport, numToleratedItems);\n      this.last = last;\n      this.numItemsInViewport = numItemsInViewport;\n      this.d_numToleratedItems = numToleratedItems;\n      this.$emit('update:numToleratedItems', this.d_numToleratedItems);\n\n      if (this.showLoader) {\n        this.loaderArr = both ? Array.from({\n          length: numItemsInViewport.rows\n        }).map(() => Array.from({\n          length: numItemsInViewport.cols\n        })) : Array.from({\n          length: numItemsInViewport\n        });\n      }\n\n      if (this.lazy) {\n        this.$emit('lazy-load', {\n          first,\n          last\n        });\n      }\n    },\n\n    getLast(last = 0, isCols) {\n      if (this.items) {\n        return Math.min(isCols ? (this.columns || this.items[0]).length : this.items.length, last);\n      }\n\n      return 0;\n    },\n\n    getContentPosition() {\n      if (this.content) {\n        const style = getComputedStyle(this.content);\n        const left = parseInt(style.paddingLeft, 10) + Math.max(parseInt(style.left, 10), 0);\n        const right = parseInt(style.paddingRight, 10) + Math.max(parseInt(style.right, 10), 0);\n        const top = parseInt(style.paddingTop, 10) + Math.max(parseInt(style.top, 10), 0);\n        const bottom = parseInt(style.paddingBottom, 10) + Math.max(parseInt(style.bottom, 10), 0);\n        return {\n          left,\n          right,\n          top,\n          bottom,\n          x: left + right,\n          y: top + bottom\n        };\n      }\n\n      return {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        x: 0,\n        y: 0\n      };\n    },\n\n    setSize() {\n      if (this.element) {\n        const both = this.isBoth();\n        const horizontal = this.isHorizontal();\n        const parentElement = this.element.parentElement;\n        const width = this.scrollWidth || `${this.element.offsetWidth || parentElement.offsetWidth}px`;\n        const height = this.scrollHeight || `${this.element.offsetHeight || parentElement.offsetHeight}px`;\n\n        const setProp = (_name, _value) => this.element.style[_name] = _value;\n\n        if (both || horizontal) {\n          setProp('height', height);\n          setProp('width', width);\n        } else {\n          setProp('height', height);\n        }\n      }\n    },\n\n    setSpacerSize() {\n      const items = this.items;\n\n      if (items) {\n        const both = this.isBoth();\n        const horizontal = this.isHorizontal();\n        const contentPos = this.getContentPosition();\n\n        const setProp = (_name, _value, _size, _cpos = 0) => this.spacerStyle = { ...this.spacerStyle,\n          ...{\n            [`${_name}`]: (_value || []).length * _size + _cpos + 'px'\n          }\n        };\n\n        if (both) {\n          setProp('height', items, this.itemSize[0], contentPos.y);\n          setProp('width', this.columns || items[1], this.itemSize[1], contentPos.x);\n        } else {\n          horizontal ? setProp('width', this.columns || items, this.itemSize, contentPos.x) : setProp('height', items, this.itemSize, contentPos.y);\n        }\n      }\n    },\n\n    setContentPosition(pos) {\n      if (this.content) {\n        const both = this.isBoth();\n        const horizontal = this.isHorizontal();\n        const first = pos ? pos.first : this.first;\n\n        const calculateTranslateVal = (_first, _size) => _first * _size;\n\n        const setTransform = (_x = 0, _y = 0) => {\n          this.contentStyle = { ...this.contentStyle,\n            ...{\n              transform: `translate3d(${_x}px, ${_y}px, 0)`\n            }\n          };\n        };\n\n        if (both) {\n          setTransform(calculateTranslateVal(first.cols, this.itemSize[1]), calculateTranslateVal(first.rows, this.itemSize[0]));\n        } else {\n          const translateVal = calculateTranslateVal(first, this.itemSize);\n          horizontal ? setTransform(translateVal, 0) : setTransform(0, translateVal);\n        }\n      }\n    },\n\n    onScrollPositionChange(event) {\n      const target = event.target;\n      const both = this.isBoth();\n      const horizontal = this.isHorizontal();\n      const contentPos = this.getContentPosition();\n\n      const calculateScrollPos = (_pos, _cpos) => _pos ? _pos > _cpos ? _pos - _cpos : _pos : 0;\n\n      const calculateCurrentIndex = (_pos, _size) => Math.floor(_pos / (_size || _pos));\n\n      const calculateTriggerIndex = (_currentIndex, _first, _last, _num, _numT, _isScrollDownOrRight) => {\n        return _currentIndex <= _numT ? _numT : _isScrollDownOrRight ? _last - _num - _numT : _first + _numT - 1;\n      };\n\n      const calculateFirst = (_currentIndex, _triggerIndex, _first, _last, _num, _numT, _isScrollDownOrRight) => {\n        if (_currentIndex <= _numT) return 0;else return Math.max(0, _isScrollDownOrRight ? _currentIndex < _triggerIndex ? _first : _currentIndex - _numT : _currentIndex > _triggerIndex ? _first : _currentIndex - 2 * _numT);\n      };\n\n      const calculateLast = (_currentIndex, _first, _last, _num, _numT, _isCols) => {\n        let lastValue = _first + _num + 2 * _numT;\n\n        if (_currentIndex >= _numT) {\n          lastValue += _numT + 1;\n        }\n\n        return this.getLast(lastValue, _isCols);\n      };\n\n      const scrollTop = calculateScrollPos(target.scrollTop, contentPos.top);\n      const scrollLeft = calculateScrollPos(target.scrollLeft, contentPos.left);\n      let newFirst = 0;\n      let newLast = this.last;\n      let isRangeChanged = false;\n\n      if (both) {\n        const isScrollDown = this.lastScrollPos.top <= scrollTop;\n        const isScrollRight = this.lastScrollPos.left <= scrollLeft;\n        const currentIndex = {\n          rows: calculateCurrentIndex(scrollTop, this.itemSize[0]),\n          cols: calculateCurrentIndex(scrollLeft, this.itemSize[1])\n        };\n        const triggerIndex = {\n          rows: calculateTriggerIndex(currentIndex.rows, this.first.rows, this.last.rows, this.numItemsInViewport.rows, this.d_numToleratedItems[0], isScrollDown),\n          cols: calculateTriggerIndex(currentIndex.cols, this.first.cols, this.last.cols, this.numItemsInViewport.cols, this.d_numToleratedItems[1], isScrollRight)\n        };\n        newFirst = {\n          rows: calculateFirst(currentIndex.rows, triggerIndex.rows, this.first.rows, this.last.rows, this.numItemsInViewport.rows, this.d_numToleratedItems[0], isScrollDown),\n          cols: calculateFirst(currentIndex.cols, triggerIndex.cols, this.first.cols, this.last.cols, this.numItemsInViewport.cols, this.d_numToleratedItems[1], isScrollRight)\n        };\n        newLast = {\n          rows: calculateLast(currentIndex.rows, newFirst.rows, this.last.rows, this.numItemsInViewport.rows, this.d_numToleratedItems[0]),\n          cols: calculateLast(currentIndex.cols, newFirst.cols, this.last.cols, this.numItemsInViewport.cols, this.d_numToleratedItems[1], true)\n        };\n        isRangeChanged = newFirst.rows !== this.first.rows && newLast.rows !== this.last.rows || newFirst.cols !== this.first.cols && newLast.cols !== this.last.cols;\n        this.lastScrollPos = {\n          top: scrollTop,\n          left: scrollLeft\n        };\n      } else {\n        const scrollPos = horizontal ? scrollLeft : scrollTop;\n        const isScrollDownOrRight = this.lastScrollPos <= scrollPos;\n        const currentIndex = calculateCurrentIndex(scrollPos, this.itemSize);\n        const triggerIndex = calculateTriggerIndex(currentIndex, this.first, this.last, this.numItemsInViewport, this.d_numToleratedItems, isScrollDownOrRight);\n        newFirst = calculateFirst(currentIndex, triggerIndex, this.first, this.last, this.numItemsInViewport, this.d_numToleratedItems, isScrollDownOrRight);\n        newLast = calculateLast(currentIndex, newFirst, this.last, this.numItemsInViewport, this.d_numToleratedItems);\n        isRangeChanged = newFirst !== this.first && newLast !== this.last;\n        this.lastScrollPos = scrollPos;\n      }\n\n      return {\n        first: newFirst,\n        last: newLast,\n        isRangeChanged\n      };\n    },\n\n    onScrollChange(event) {\n      const {\n        first,\n        last,\n        isRangeChanged\n      } = this.onScrollPositionChange(event);\n\n      if (isRangeChanged) {\n        const newState = {\n          first,\n          last\n        };\n        this.setContentPosition(newState);\n        this.first = first;\n        this.last = last;\n        this.$emit('scroll-index-change', newState);\n\n        if (this.lazy) {\n          this.$emit('lazy-load', newState);\n        }\n      }\n    },\n\n    onScroll(event) {\n      this.$emit('scroll', event);\n\n      if (this.delay) {\n        if (this.scrollTimeout) {\n          clearTimeout(this.scrollTimeout);\n        }\n\n        if (!this.d_loading && this.showLoader) {\n          const {\n            isRangeChanged: changed\n          } = this.onScrollPositionChange(event);\n          changed && (this.d_loading = true);\n        }\n\n        this.scrollTimeout = setTimeout(() => {\n          this.onScrollChange(event);\n\n          if (this.d_loading && this.showLoader && !this.lazy) {\n            this.d_loading = false;\n          }\n        }, this.delay);\n      } else {\n        this.onScrollChange(event);\n      }\n    },\n\n    getOptions(renderedIndex) {\n      const count = (this.items || []).length;\n      const index = this.isBoth() ? this.first.rows + renderedIndex : this.first + renderedIndex;\n      return {\n        index,\n        count,\n        first: index === 0,\n        last: index === count - 1,\n        even: index % 2 === 0,\n        odd: index % 2 !== 0\n      };\n    },\n\n    getLoaderOptions(index, extOptions) {\n      let count = this.loaderArr.length;\n      return {\n        index,\n        count,\n        first: index === 0,\n        last: index === count - 1,\n        even: index % 2 === 0,\n        odd: index % 2 !== 0,\n        ...extOptions\n      };\n    },\n\n    elementRef(el) {\n      this.element = el;\n    },\n\n    contentRef(el) {\n      this.content = el;\n    }\n\n  },\n  computed: {\n    containerClass() {\n      return ['p-virtualscroller', {\n        'p-both-scroll': this.isBoth(),\n        'p-horizontal-scroll': this.isHorizontal()\n      }, this.class];\n    },\n\n    contentClass() {\n      return ['p-virtualscroller-content', {\n        'p-virtualscroller-loading': this.d_loading\n      }];\n    },\n\n    loaderClass() {\n      return ['p-virtualscroller-loader', {\n        'p-component-overlay': !this.$slots.loader\n      }];\n    },\n\n    loadedItems() {\n      const items = this.items;\n\n      if (items && !this.d_loading) {\n        if (this.isBoth()) {\n          return items.slice(this.first.rows, this.last.rows).map(item => this.columns ? item : item.slice(this.first.cols, this.last.cols));\n        } else if (this.isHorizontal() && this.columns) return items;else return items.slice(this.first, this.last);\n      }\n\n      return [];\n    },\n\n    loadedRows() {\n      return this.d_loading ? this.loaderDisabled ? this.loaderArr : [] : this.loadedItems;\n    },\n\n    loadedColumns() {\n      if (this.columns) {\n        const both = this.isBoth();\n        const horizontal = this.isHorizontal();\n\n        if (both || horizontal) {\n          return this.d_loading && this.loaderDisabled ? both ? this.loaderArr[0] : this.loaderArr : this.columns.slice(both ? this.first.cols : this.first, both ? this.last.cols : this.last);\n        }\n      }\n\n      return this.columns;\n    }\n\n  }\n};\nconst _hoisted_1 = {\n  key: 1,\n  class: \"p-virtualscroller-loading-icon pi pi-spinner pi-spin\"\n};\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return !$props.disabled ? (openBlock(), createElementBlock(\"div\", {\n    key: 0,\n    ref: $options.elementRef,\n    class: normalizeClass($options.containerClass),\n    tabindex: 0,\n    style: normalizeStyle($props.style),\n    onScroll: _cache[0] || (_cache[0] = (...args) => $options.onScroll && $options.onScroll(...args))\n  }, [renderSlot(_ctx.$slots, \"content\", {\n    styleClass: $options.contentClass,\n    items: $options.loadedItems,\n    getItemOptions: $options.getOptions,\n    loading: $data.d_loading,\n    getLoaderOptions: $options.getLoaderOptions,\n    itemSize: $props.itemSize,\n    rows: $options.loadedRows,\n    columns: $options.loadedColumns,\n    contentRef: $options.contentRef,\n    spacerStyle: $data.spacerStyle,\n    contentStyle: $data.contentStyle,\n    vertical: $options.isVertical(),\n    horizontal: $options.isHorizontal(),\n    both: $options.isBoth()\n  }, () => [createElementVNode(\"div\", {\n    ref: $options.contentRef,\n    class: normalizeClass($options.contentClass),\n    style: normalizeStyle($data.contentStyle)\n  }, [(openBlock(true), createElementBlock(Fragment, null, renderList($options.loadedItems, (item, index) => {\n    return renderSlot(_ctx.$slots, \"item\", {\n      key: index,\n      item: item,\n      options: $options.getOptions(index)\n    });\n  }), 128))], 6)]), $props.showSpacer ? (openBlock(), createElementBlock(\"div\", {\n    key: 0,\n    class: \"p-virtualscroller-spacer\",\n    style: normalizeStyle($data.spacerStyle)\n  }, null, 4)) : createCommentVNode(\"\", true), !$props.loaderDisabled && $props.showLoader && $data.d_loading ? (openBlock(), createElementBlock(\"div\", {\n    key: 1,\n    class: normalizeClass($options.loaderClass)\n  }, [_ctx.$slots && _ctx.$slots.loader ? (openBlock(true), createElementBlock(Fragment, {\n    key: 0\n  }, renderList($data.loaderArr, (_, index) => {\n    return renderSlot(_ctx.$slots, \"loader\", {\n      key: index,\n      options: $options.getLoaderOptions(index, $options.isBoth() && {\n        numCols: _ctx.d_numItemsInViewport.cols\n      })\n    });\n  }), 128)) : (openBlock(), createElementBlock(\"i\", _hoisted_1))], 2)) : createCommentVNode(\"\", true)], 38)) : (openBlock(), createElementBlock(Fragment, {\n    key: 1\n  }, [renderSlot(_ctx.$slots, \"default\"), renderSlot(_ctx.$slots, \"content\", {\n    items: $props.items,\n    rows: $props.items,\n    columns: $options.loadedColumns\n  })], 64));\n}\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \"\\n.p-virtualscroller {\\n    position: relative;\\n    overflow: auto;\\n    contain: strict;\\n    -webkit-transform: translateZ(0);\\n            transform: translateZ(0);\\n    will-change: scroll-position;\\n    outline: 0 none;\\n}\\n.p-virtualscroller-content {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    contain: content;\\n    min-height: 100%;\\n    min-width: 100%;\\n    will-change: transform;\\n}\\n.p-virtualscroller-spacer {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    height: 1px;\\n    width: 1px;\\n    -webkit-transform-origin: 0 0;\\n            transform-origin: 0 0;\\n    pointer-events: none;\\n}\\n.p-virtualscroller .p-virtualscroller-loader {\\n    position: sticky;\\n    top: 0;\\n    left: 0;\\n    width: 100%;\\n    height: 100%;\\n}\\n.p-virtualscroller-loader.p-component-overlay {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n    -webkit-box-pack: center;\\n        -ms-flex-pack: center;\\n            justify-content: center;\\n}\\n\";\nstyleInject(css_248z);\nscript.render = render;\nexport { script as default };","map":{"version":3,"sources":["/Users/shehrozkapoor/Desktop/FIRST_CARE/firstcare-frontend/node_modules/primevue/virtualscroller/virtualscroller.esm.js"],"names":["openBlock","createElementBlock","normalizeClass","normalizeStyle","renderSlot","createElementVNode","Fragment","renderList","createCommentVNode","script","name","emits","props","id","type","String","default","style","class","items","Array","itemSize","Number","scrollHeight","scrollWidth","orientation","numToleratedItems","delay","lazy","Boolean","disabled","loaderDisabled","columns","loading","showSpacer","showLoader","data","first","isBoth","rows","cols","last","numItemsInViewport","lastScrollPos","top","left","d_numToleratedItems","d_loading","loaderArr","spacerStyle","contentStyle","element","content","scrollTimeout","mounted","init","watch","newValue","oldValue","length","methods","setSize","calculateOptions","setSpacerSize","isVertical","isHorizontal","scrollTo","options","scrollToIndex","index","behavior","both","horizontal","calculateNumItems","contentPos","getContentPosition","calculateFirst","_index","_numT","calculateCoord","_first","_size","_cpos","newFirst","scrollInView","to","viewport","getRenderedRange","isToStart","isToEnd","pos","calculateFirstInViewport","_pos","Math","floor","firstInViewport","lastInViewport","scrollTop","scrollLeft","scrollPos","contentWidth","offsetWidth","contentHeight","offsetHeight","calculateNumItemsInViewport","_contentSize","_itemSize","ceil","calculateNumToleratedItems","_numItems","calculateLast","_num","_isCols","getLast","$emit","from","map","isCols","min","getComputedStyle","parseInt","paddingLeft","max","right","paddingRight","paddingTop","bottom","paddingBottom","x","y","parentElement","width","height","setProp","_name","_value","setContentPosition","calculateTranslateVal","setTransform","_x","_y","transform","translateVal","onScrollPositionChange","event","target","calculateScrollPos","calculateCurrentIndex","calculateTriggerIndex","_currentIndex","_last","_isScrollDownOrRight","_triggerIndex","lastValue","newLast","isRangeChanged","isScrollDown","isScrollRight","currentIndex","triggerIndex","isScrollDownOrRight","onScrollChange","newState","onScroll","clearTimeout","changed","setTimeout","getOptions","renderedIndex","count","even","odd","getLoaderOptions","extOptions","elementRef","el","contentRef","computed","containerClass","contentClass","loaderClass","$slots","loader","loadedItems","slice","item","loadedRows","loadedColumns","_hoisted_1","key","render","_ctx","_cache","$props","$setup","$data","$options","ref","tabindex","args","styleClass","getItemOptions","vertical","_","numCols","d_numItemsInViewport","styleInject","css","insertAt","document","head","getElementsByTagName","createElement","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","css_248z"],"mappings":"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","sourcesContent":["import { openBlock, createElementBlock, normalizeClass, normalizeStyle, renderSlot, createElementVNode, Fragment, renderList, createCommentVNode } from 'vue';\n\nvar script = {\n    name: 'VirtualScroller',\n    emits: ['update:numToleratedItems', 'scroll', 'scroll-index-change', 'lazy-load'],\n    props: {\n        id: {\n            type: String,\n            default: null\n        },\n        style: null,\n        class: null,\n        items: {\n            type: Array,\n            default: null\n        },\n        itemSize: {\n            type: [Number,Array],\n            default: 0\n        },\n        scrollHeight: null,\n        scrollWidth: null,\n        orientation: {\n            type: String,\n            default: 'vertical'\n        },\n        numToleratedItems: {\n            type: Number,\n            default: null\n        },\n        delay: {\n            type: Number,\n            default: 0\n        },\n        lazy: {\n            type: Boolean,\n            default: false\n        },\n        disabled: {\n            type: Boolean,\n            default: false\n        },\n        loaderDisabled: {\n            type: Boolean,\n            default: false\n        },\n        columns: {\n            type: Array,\n            default: null\n        },\n        loading: {\n            type: Boolean,\n            default: false\n        },\n        showSpacer: {\n            type: Boolean,\n            default: true\n        },\n        showLoader: {\n            type: Boolean,\n            default: false\n        }\n    },\n    data() {\n        return {\n            first: this.isBoth() ? { rows: 0, cols: 0 } : 0,\n            last: this.isBoth() ? { rows: 0, cols: 0 } : 0,\n            numItemsInViewport: this.isBoth() ? { rows: 0, cols: 0 } : 0,\n            lastScrollPos: this.isBoth() ? { top: 0, left: 0 } : 0,\n            d_numToleratedItems: this.numToleratedItems,\n            d_loading: this.loading,\n            loaderArr: [],\n            spacerStyle: {},\n            contentStyle: {}\n        }\n    },\n    element: null,\n    content: null,\n    lastScrollPos: null,\n    scrollTimeout: null,\n    mounted() {\n        this.init();\n\n        this.lastScrollPos = this.isBoth() ? { top: 0, left: 0 } : 0;\n    },\n    watch: {\n        numToleratedItems(newValue) {\n            this.d_numToleratedItems = newValue;\n        },\n        loading(newValue) {\n            this.d_loading = newValue;\n        },\n        items(newValue, oldValue) {\n            if (!oldValue || oldValue.length !== (newValue || []).length) {\n                this.init();\n            }\n        },\n        orientation() {\n            this.lastScrollPos = this.isBoth() ? { top: 0, left: 0 } : 0;\n        }\n    },\n    methods: {\n        init() {\n            this.setSize();\n            this.calculateOptions();\n            this.setSpacerSize();\n        },\n        isVertical() {\n            return this.orientation === 'vertical';\n        },\n        isHorizontal() {\n            return this.orientation === 'horizontal';\n        },\n        isBoth() {\n            return this.orientation === 'both';\n        },\n        scrollTo(options) {\n            this.element && this.element.scrollTo(options);\n        },\n        scrollToIndex(index, behavior = 'auto') {\n            const both = this.isBoth();\n            const horizontal = this.isHorizontal();\n            const first = this.first;\n            const { numToleratedItems } = this.calculateNumItems();\n            const itemSize = this.itemSize;\n            const contentPos = this.getContentPosition();\n            const calculateFirst = (_index = 0, _numT) => (_index <= _numT ? 0 : _index);\n            const calculateCoord = (_first, _size, _cpos) => (_first * _size) + _cpos;\n            const scrollTo = (left = 0, top = 0) => this.scrollTo({ left, top, behavior });\n\n            if (both) {\n                const newFirst = { rows: calculateFirst(index[0], numToleratedItems[0]), cols: calculateFirst(index[1], numToleratedItems[1]) };\n                if (newFirst.rows !== first.rows || newFirst.cols !== first.cols) {\n                    scrollTo(calculateCoord(newFirst.cols, itemSize[1], contentPos.left), calculateCoord(newFirst.rows, itemSize[0], contentPos.top));\n                    this.first = newFirst;\n                }\n            }\n            else {\n                const newFirst = calculateFirst(index, numToleratedItems);\n\n                if (newFirst !== first) {\n                    horizontal ? scrollTo(calculateCoord(newFirst, itemSize, contentPos.left), 0) : scrollTo(0, calculateCoord(newFirst, itemSize, contentPos.top));\n                    this.first = newFirst;\n                }\n            }\n        },\n        scrollInView(index, to, behavior = 'auto') {\n            if (to) {\n                const both = this.isBoth();\n                const horizontal = this.isHorizontal();\n                const { first, viewport } = this.getRenderedRange();\n                const scrollTo = (left = 0, top = 0) => this.scrollTo({ left, top, behavior });\n                const isToStart = to === 'to-start';\n                const isToEnd = to === 'to-end';\n\n                if (isToStart) {\n                    if (both) {\n                        if (viewport.first.rows - first.rows > index[0]) {\n                            scrollTo(viewport.first.cols * this.itemSize[1], (viewport.first.rows - 1) * this.itemSize[0]);\n                        }\n                        else if (viewport.first.cols - first.cols > index[1]) {\n                            scrollTo((viewport.first.cols - 1) * this.itemSize[1], viewport.first.rows * this.itemSize[0]);\n                        }\n                    }\n                    else {\n                        if (viewport.first - first > index) {\n                            const pos = (viewport.first - 1) * this.itemSize;\n                            horizontal ? scrollTo(pos, 0) : scrollTo(0, pos);\n                        }\n                    }\n                }\n                else if (isToEnd) {\n                    if (both) {\n                        if (viewport.last.rows - first.rows <= index[0] + 1) {\n                            scrollTo(viewport.first.cols * this.itemSize[1], (viewport.first.rows + 1) * this.itemSize[0]);\n                        }\n                        else if (viewport.last.cols - first.cols <= index[1] + 1) {\n                            scrollTo((viewport.first.cols + 1) * this.itemSize[1], viewport.first.rows * this.itemSize[0]);\n                        }\n                    }\n                    else {\n                        if (viewport.last - first <= index + 1) {\n                            const pos = (viewport.first + 1) * this.itemSize;\n                            horizontal ? scrollTo(pos, 0) : scrollTo(0, pos);\n                        }\n                    }\n                }\n            }\n            else {\n                this.scrollToIndex(index, behavior);\n            }\n        },\n        getRenderedRange() {\n            const calculateFirstInViewport = (_pos, _size) => Math.floor(_pos / (_size || _pos));\n\n            let firstInViewport = this.first;\n            let lastInViewport = 0;\n\n            if (this.element) {\n                const both = this.isBoth();\n                const horizontal = this.isHorizontal();\n                const scrollTop = this.element.scrollTop;\n                const scrollLeft = this.element.scrollLeft;\n\n                if (both) {\n                    firstInViewport = { rows: calculateFirstInViewport(scrollTop, this.itemSize[0]), cols: calculateFirstInViewport(scrollLeft, this.itemSize[1]) };\n                    lastInViewport = { rows: firstInViewport.rows + this.numItemsInViewport.rows, cols: firstInViewport.cols + this.numItemsInViewport.cols };\n                }\n                else {\n                    const scrollPos = horizontal ? scrollLeft : scrollTop;\n                    firstInViewport = calculateFirstInViewport(scrollPos, this.itemSize);\n                    lastInViewport = firstInViewport + this.numItemsInViewport;\n                }\n            }\n\n            return {\n                first: this.first,\n                last: this.last,\n                viewport: {\n                    first: firstInViewport,\n                    last: lastInViewport\n                }\n            };\n        },\n        calculateNumItems() {\n            const both = this.isBoth();\n            const horizontal = this.isHorizontal();\n            const itemSize = this.itemSize;\n            const contentPos = this.getContentPosition();\n            const contentWidth = this.element ? this.element.offsetWidth - contentPos.left : 0;\n            const contentHeight = this.element ? this.element.offsetHeight - contentPos.top : 0;\n            const calculateNumItemsInViewport = (_contentSize, _itemSize) => Math.ceil(_contentSize / (_itemSize || _contentSize));\n            const calculateNumToleratedItems = (_numItems) => Math.ceil(_numItems / 2);\n            const numItemsInViewport = both ?\n                { rows: calculateNumItemsInViewport(contentHeight, itemSize[0]), cols: calculateNumItemsInViewport(contentWidth, itemSize[1]) } :\n                calculateNumItemsInViewport((horizontal ? contentWidth : contentHeight), itemSize);\n\n            const numToleratedItems = this.d_numToleratedItems || (both ?\n                [calculateNumToleratedItems(numItemsInViewport.rows), calculateNumToleratedItems(numItemsInViewport.cols)] :\n                calculateNumToleratedItems(numItemsInViewport));\n\n            return { numItemsInViewport, numToleratedItems };\n        },\n        calculateOptions() {\n            const both = this.isBoth();\n            const first = this.first;\n            const { numItemsInViewport, numToleratedItems } = this.calculateNumItems();\n            const calculateLast = (_first, _num, _numT, _isCols) => this.getLast(_first + _num + ((_first < _numT ? 2 : 3) * _numT), _isCols);\n            const last = both ?\n                { rows: calculateLast(first.rows, numItemsInViewport.rows, numToleratedItems[0]), cols: calculateLast(first.cols, numItemsInViewport.cols, numToleratedItems[1], true) } :\n                calculateLast(first, numItemsInViewport, numToleratedItems);\n\n            this.last = last;\n            this.numItemsInViewport = numItemsInViewport;\n            this.d_numToleratedItems = numToleratedItems;\n            this.$emit('update:numToleratedItems', this.d_numToleratedItems);\n\n            if (this.showLoader) {\n                this.loaderArr = both ?\n                    Array.from({ length: numItemsInViewport.rows }).map(() => Array.from({ length: numItemsInViewport.cols })) :\n                    Array.from({ length: numItemsInViewport });\n            }\n\n            if (this.lazy) {\n                this.$emit('lazy-load', { first, last });\n            }\n        },\n        getLast(last = 0, isCols) {\n            if (this.items) {\n                return Math.min((isCols ? (this.columns || this.items[0]).length : this.items.length), last);\n            }\n\n            return 0;\n        },\n        getContentPosition() {\n            if (this.content) {\n                const style = getComputedStyle(this.content);\n                const left = parseInt(style.paddingLeft, 10) + Math.max(parseInt(style.left, 10), 0);\n                const right = parseInt(style.paddingRight, 10) + Math.max(parseInt(style.right, 10), 0);\n                const top = parseInt(style.paddingTop, 10) + Math.max(parseInt(style.top, 10), 0);\n                const bottom = parseInt(style.paddingBottom, 10) + Math.max(parseInt(style.bottom, 10), 0);\n\n                return { left, right, top, bottom, x: left + right, y: top + bottom };\n            }\n\n            return { left: 0, right: 0, top: 0, bottom: 0, x: 0, y: 0 };\n        },\n        setSize() {\n            if (this.element) {\n                const both = this.isBoth();\n                const horizontal = this.isHorizontal();\n                const parentElement = this.element.parentElement;\n                const width = this.scrollWidth || `${(this.element.offsetWidth || parentElement.offsetWidth)}px`;\n                const height = this.scrollHeight || `${(this.element.offsetHeight || parentElement.offsetHeight)}px`;\n                const setProp = (_name, _value) => this.element.style[_name] = _value;\n\n                if (both || horizontal) {\n                    setProp('height', height);\n                    setProp('width', width);\n                }\n                else {\n                    setProp('height', height);\n                }\n            }\n        },\n        setSpacerSize() {\n            const items = this.items;\n\n            if (items) {\n                const both = this.isBoth();\n                const horizontal = this.isHorizontal();\n                const contentPos = this.getContentPosition();\n                const setProp = (_name, _value, _size, _cpos = 0) => this.spacerStyle = { ...this.spacerStyle, ...{ [`${_name}`]: (((_value || []).length * _size) + _cpos) + 'px' } };\n\n                if (both) {\n                    setProp('height', items, this.itemSize[0], contentPos.y);\n                    setProp('width', (this.columns || items[1]), this.itemSize[1], contentPos.x);\n                }\n                else {\n                    horizontal ? setProp('width', (this.columns || items), this.itemSize, contentPos.x) : setProp('height', items, this.itemSize, contentPos.y);\n                }\n            }\n        },\n        setContentPosition(pos) {\n            if (this.content) {\n                const both = this.isBoth();\n                const horizontal = this.isHorizontal();\n                const first = pos ? pos.first : this.first;\n                const calculateTranslateVal = (_first, _size) => (_first * _size);\n                const setTransform = (_x = 0, _y = 0) => {\n                    this.contentStyle = { ...this.contentStyle, ...{ transform: `translate3d(${_x}px, ${_y}px, 0)` } };\n                };\n\n                if (both) {\n                    setTransform(calculateTranslateVal(first.cols, this.itemSize[1]), calculateTranslateVal(first.rows, this.itemSize[0]));\n                }\n                else {\n                    const translateVal = calculateTranslateVal(first, this.itemSize);\n                    horizontal ? setTransform(translateVal, 0) : setTransform(0, translateVal);\n                }\n            }\n        },\n        onScrollPositionChange(event) {\n            const target = event.target;\n            const both = this.isBoth();\n            const horizontal = this.isHorizontal();\n            const contentPos = this.getContentPosition();\n            const calculateScrollPos = (_pos, _cpos) => _pos ? (_pos > _cpos ? _pos - _cpos : _pos) : 0;\n            const calculateCurrentIndex = (_pos, _size) => Math.floor(_pos / (_size || _pos));\n            const calculateTriggerIndex = (_currentIndex, _first, _last, _num, _numT, _isScrollDownOrRight) => {\n                return (_currentIndex <= _numT ? _numT : (_isScrollDownOrRight ? (_last - _num - _numT) : (_first + _numT - 1)))\n            };\n            const calculateFirst = (_currentIndex, _triggerIndex, _first, _last, _num, _numT, _isScrollDownOrRight) => {\n                if (_currentIndex <= _numT)\n                    return 0;\n                else\n                    return Math.max(0, _isScrollDownOrRight ?\n                            (_currentIndex < _triggerIndex ? _first : _currentIndex - _numT) :\n                            (_currentIndex > _triggerIndex ? _first : _currentIndex - (2 * _numT)));\n            };\n            const calculateLast = (_currentIndex, _first, _last, _num, _numT, _isCols) => {\n                let lastValue = _first + _num + (2 * _numT);\n\n                if (_currentIndex >= _numT) {\n                    lastValue += (_numT + 1);\n                }\n\n                return this.getLast(lastValue, _isCols);\n            };\n\n            const scrollTop = calculateScrollPos(target.scrollTop, contentPos.top);\n            const scrollLeft = calculateScrollPos(target.scrollLeft, contentPos.left);\n\n            let newFirst = 0;\n            let newLast = this.last;\n            let isRangeChanged = false;\n\n            if (both) {\n                const isScrollDown = this.lastScrollPos.top <= scrollTop;\n                const isScrollRight = this.lastScrollPos.left <= scrollLeft;\n                const currentIndex = { rows: calculateCurrentIndex(scrollTop, this.itemSize[0]), cols: calculateCurrentIndex(scrollLeft, this.itemSize[1]) };\n                const triggerIndex = {\n                    rows: calculateTriggerIndex(currentIndex.rows, this.first.rows, this.last.rows, this.numItemsInViewport.rows, this.d_numToleratedItems[0], isScrollDown),\n                    cols: calculateTriggerIndex(currentIndex.cols, this.first.cols, this.last.cols, this.numItemsInViewport.cols, this.d_numToleratedItems[1], isScrollRight)\n                };\n\n                newFirst = {\n                    rows: calculateFirst(currentIndex.rows, triggerIndex.rows, this.first.rows, this.last.rows, this.numItemsInViewport.rows, this.d_numToleratedItems[0], isScrollDown),\n                    cols: calculateFirst(currentIndex.cols, triggerIndex.cols, this.first.cols, this.last.cols, this.numItemsInViewport.cols, this.d_numToleratedItems[1], isScrollRight)\n                };\n                newLast = {\n                    rows: calculateLast(currentIndex.rows, newFirst.rows, this.last.rows, this.numItemsInViewport.rows, this.d_numToleratedItems[0]),\n                    cols: calculateLast(currentIndex.cols, newFirst.cols, this.last.cols, this.numItemsInViewport.cols, this.d_numToleratedItems[1], true)\n                };\n\n                isRangeChanged = (newFirst.rows !== this.first.rows && newLast.rows !== this.last.rows) || (newFirst.cols !== this.first.cols && newLast.cols !== this.last.cols);\n\n                this.lastScrollPos = { top: scrollTop, left: scrollLeft };\n            }\n            else {\n                const scrollPos = horizontal ? scrollLeft : scrollTop;\n                const isScrollDownOrRight = this.lastScrollPos <= scrollPos;\n                const currentIndex = calculateCurrentIndex(scrollPos, this.itemSize);\n                const triggerIndex = calculateTriggerIndex(currentIndex, this.first, this.last, this.numItemsInViewport, this.d_numToleratedItems, isScrollDownOrRight);\n\n                newFirst = calculateFirst(currentIndex, triggerIndex, this.first, this.last, this.numItemsInViewport, this.d_numToleratedItems, isScrollDownOrRight);\n                newLast = calculateLast(currentIndex, newFirst, this.last, this.numItemsInViewport, this.d_numToleratedItems);\n                isRangeChanged = newFirst !== this.first && newLast !== this.last;\n\n                this.lastScrollPos = scrollPos;\n            }\n\n            return {\n                first: newFirst,\n                last: newLast,\n                isRangeChanged\n            }\n        },\n        onScrollChange(event) {\n            const { first, last, isRangeChanged } = this.onScrollPositionChange(event);\n\n            if (isRangeChanged) {\n                const newState = { first, last };\n\n                this.setContentPosition(newState);\n\n                this.first = first;\n                this.last = last;\n\n                this.$emit('scroll-index-change', newState);\n\n                if (this.lazy) {\n                    this.$emit('lazy-load', newState);\n                }\n            }\n        },\n        onScroll(event) {\n            this.$emit('scroll', event);\n\n            if (this.delay) {\n                if (this.scrollTimeout) {\n                    clearTimeout(this.scrollTimeout);\n                }\n\n                if (!this.d_loading && this.showLoader) {\n                    const { isRangeChanged: changed } = this.onScrollPositionChange(event);\n                    changed && (this.d_loading = true);\n                }\n\n                this.scrollTimeout = setTimeout(() => {\n                    this.onScrollChange(event);\n\n                    if (this.d_loading && this.showLoader && !this.lazy) {\n                        this.d_loading = false;\n                    }\n                }, this.delay);\n            }\n            else {\n                this.onScrollChange(event);\n            }\n        },\n        getOptions(renderedIndex) {\n            const count = (this.items || []).length;\n            const index = this.isBoth() ? this.first.rows + renderedIndex : this.first + renderedIndex;\n            return {\n                index,\n                count,\n                first: index === 0,\n                last: index === (count - 1),\n                even: index % 2 === 0,\n                odd: index % 2 !== 0\n            };\n        },\n        getLoaderOptions(index, extOptions) {\n            let count = this.loaderArr.length;\n            return {\n                index,\n                count,\n                first: index === 0,\n                last: index === (count - 1),\n                even: index % 2 === 0,\n                odd: index % 2 !== 0,\n                ...extOptions\n            }\n        },\n        elementRef(el) {\n            this.element = el;\n        },\n        contentRef(el) {\n            this.content = el;\n        }\n    },\n    computed: {\n        containerClass() {\n            return ['p-virtualscroller', {\n                'p-both-scroll': this.isBoth(),\n                'p-horizontal-scroll': this.isHorizontal()\n            }, this.class];\n        },\n        contentClass() {\n            return ['p-virtualscroller-content', {\n                'p-virtualscroller-loading': this.d_loading\n            }];\n        },\n        loaderClass() {\n            return ['p-virtualscroller-loader', {\n                'p-component-overlay': !this.$slots.loader\n            }];\n        },\n        loadedItems() {\n            const items = this.items;\n            if (items && !this.d_loading) {\n                if (this.isBoth()) {\n                    return items.slice(this.first.rows, this.last.rows).map(item => this.columns ? item : item.slice(this.first.cols, this.last.cols));\n                }\n                else if (this.isHorizontal() && this.columns)\n                    return items;\n                else\n                    return items.slice(this.first, this.last);\n            }\n\n            return [];\n        },\n        loadedRows() {\n            return this.d_loading ? (this.loaderDisabled ? this.loaderArr : []) : this.loadedItems;\n        },\n        loadedColumns() {\n            if (this.columns) {\n                const both = this.isBoth();\n                const horizontal = this.isHorizontal();\n\n                if (both || horizontal) {\n                    return this.d_loading && this.loaderDisabled ?\n                    (both ? this.loaderArr[0] : this.loaderArr):\n                    this.columns.slice((both ? this.first.cols : this.first), (both ? this.last.cols : this.last));\n                }\n            }\n\n            return this.columns;\n        }\n    }\n};\n\nconst _hoisted_1 = {\n  key: 1,\n  class: \"p-virtualscroller-loading-icon pi pi-spinner pi-spin\"\n};\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return (!$props.disabled)\n    ? (openBlock(), createElementBlock(\"div\", {\n        key: 0,\n        ref: $options.elementRef,\n        class: normalizeClass($options.containerClass),\n        tabindex: 0,\n        style: normalizeStyle($props.style),\n        onScroll: _cache[0] || (_cache[0] = (...args) => ($options.onScroll && $options.onScroll(...args)))\n      }, [\n        renderSlot(_ctx.$slots, \"content\", {\n          styleClass: $options.contentClass,\n          items: $options.loadedItems,\n          getItemOptions: $options.getOptions,\n          loading: $data.d_loading,\n          getLoaderOptions: $options.getLoaderOptions,\n          itemSize: $props.itemSize,\n          rows: $options.loadedRows,\n          columns: $options.loadedColumns,\n          contentRef: $options.contentRef,\n          spacerStyle: $data.spacerStyle,\n          contentStyle: $data.contentStyle,\n          vertical: $options.isVertical(),\n          horizontal: $options.isHorizontal(),\n          both: $options.isBoth()\n        }, () => [\n          createElementVNode(\"div\", {\n            ref: $options.contentRef,\n            class: normalizeClass($options.contentClass),\n            style: normalizeStyle($data.contentStyle)\n          }, [\n            (openBlock(true), createElementBlock(Fragment, null, renderList($options.loadedItems, (item, index) => {\n              return renderSlot(_ctx.$slots, \"item\", {\n                key: index,\n                item: item,\n                options: $options.getOptions(index)\n              })\n            }), 128))\n          ], 6)\n        ]),\n        ($props.showSpacer)\n          ? (openBlock(), createElementBlock(\"div\", {\n              key: 0,\n              class: \"p-virtualscroller-spacer\",\n              style: normalizeStyle($data.spacerStyle)\n            }, null, 4))\n          : createCommentVNode(\"\", true),\n        (!$props.loaderDisabled && $props.showLoader && $data.d_loading)\n          ? (openBlock(), createElementBlock(\"div\", {\n              key: 1,\n              class: normalizeClass($options.loaderClass)\n            }, [\n              (_ctx.$slots && _ctx.$slots.loader)\n                ? (openBlock(true), createElementBlock(Fragment, { key: 0 }, renderList($data.loaderArr, (_, index) => {\n                    return renderSlot(_ctx.$slots, \"loader\", {\n                      key: index,\n                      options: $options.getLoaderOptions(index, $options.isBoth() && { numCols: _ctx.d_numItemsInViewport.cols })\n                    })\n                  }), 128))\n                : (openBlock(), createElementBlock(\"i\", _hoisted_1))\n            ], 2))\n          : createCommentVNode(\"\", true)\n      ], 38))\n    : (openBlock(), createElementBlock(Fragment, { key: 1 }, [\n        renderSlot(_ctx.$slots, \"default\"),\n        renderSlot(_ctx.$slots, \"content\", {\n          items: $props.items,\n          rows: $props.items,\n          columns: $options.loadedColumns\n        })\n      ], 64))\n}\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \"\\n.p-virtualscroller {\\n    position: relative;\\n    overflow: auto;\\n    contain: strict;\\n    -webkit-transform: translateZ(0);\\n            transform: translateZ(0);\\n    will-change: scroll-position;\\n    outline: 0 none;\\n}\\n.p-virtualscroller-content {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    contain: content;\\n    min-height: 100%;\\n    min-width: 100%;\\n    will-change: transform;\\n}\\n.p-virtualscroller-spacer {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    height: 1px;\\n    width: 1px;\\n    -webkit-transform-origin: 0 0;\\n            transform-origin: 0 0;\\n    pointer-events: none;\\n}\\n.p-virtualscroller .p-virtualscroller-loader {\\n    position: sticky;\\n    top: 0;\\n    left: 0;\\n    width: 100%;\\n    height: 100%;\\n}\\n.p-virtualscroller-loader.p-component-overlay {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n    -webkit-box-pack: center;\\n        -ms-flex-pack: center;\\n            justify-content: center;\\n}\\n\";\nstyleInject(css_248z);\n\nscript.render = render;\n\nexport { script as default };\n"]},"metadata":{},"sourceType":"module"}