{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.object.set-prototype-of.js\";\nimport \"core-js/modules/es.object.get-prototype-of.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.reflect.construct.js\";\nimport \"core-js/modules/es.reflect.get.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.symbol.iterator.js\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get.apply(this, arguments);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport { BasePlugin } from \"../base/index.mjs\";\nimport Hooks from \"../../pluginHooks.mjs\";\nimport { offset, outerHeight, outerWidth } from \"../../helpers/dom/element.mjs\";\nimport { arrayEach, arrayMap } from \"../../helpers/array.mjs\";\nimport EventManager from \"../../eventManager.mjs\";\nimport { CellCoords, CellRange } from \"../../3rdparty/walkontable/src/index.mjs\";\nimport { getDeltas, getDragDirectionAndRange, DIRECTIONS, getMappedFillHandleSetting } from \"./utils.mjs\";\nHooks.getSingleton().register('modifyAutofillRange');\nHooks.getSingleton().register('beforeAutofill');\nHooks.getSingleton().register('afterAutofill');\nexport var PLUGIN_KEY = 'autofill';\nexport var PLUGIN_PRIORITY = 20;\nvar INSERT_ROW_ALTER_ACTION_NAME = 'insert_row';\nvar INTERVAL_FOR_ADDING_ROW = 200;\n/**\n * This plugin provides \"drag-down\" and \"copy-down\" functionalities, both operated using the small square in the right\n * bottom of the cell selection.\n *\n * \"Drag-down\" expands the value of the selected cells to the neighbouring cells when you drag the small\n * square in the corner.\n *\n * \"Copy-down\" copies the value of the selection to all empty cells below when you double click the small square.\n *\n * @class Autofill\n * @plugin Autofill\n */\n\nexport var Autofill = /*#__PURE__*/function (_BasePlugin) {\n  _inherits(Autofill, _BasePlugin);\n\n  var _super = _createSuper(Autofill);\n\n  function Autofill(hotInstance) {\n    var _this;\n\n    _classCallCheck(this, Autofill);\n\n    _this = _super.call(this, hotInstance);\n    /**\n     * Event manager instance.\n     *\n     * @private\n     * @type {EventManager}\n     */\n\n    _this.eventManager = new EventManager(_assertThisInitialized(_this));\n    /**\n     * Specifies if adding new row started.\n     *\n     * @private\n     * @type {boolean}\n     */\n\n    _this.addingStarted = false;\n    /**\n     * Specifies if there was mouse down on the cell corner.\n     *\n     * @private\n     * @type {boolean}\n     */\n\n    _this.mouseDownOnCellCorner = false;\n    /**\n     * Specifies if mouse was dragged outside Handsontable.\n     *\n     * @private\n     * @type {boolean}\n     */\n\n    _this.mouseDragOutside = false;\n    /**\n     * Specifies how many cell levels were dragged using the handle.\n     *\n     * @private\n     * @type {boolean}\n     */\n\n    _this.handleDraggedCells = 0;\n    /**\n     * Specifies allowed directions of drag (`'horizontal'` or '`vertical`').\n     *\n     * @private\n     * @type {string[]}\n     */\n\n    _this.directions = [];\n    /**\n     * Specifies if can insert new rows if needed.\n     *\n     * @type {boolean}\n     */\n\n    _this.autoInsertRow = false;\n    return _this;\n  }\n  /**\n   * Checks if the plugin is enabled in the Handsontable settings.\n   *\n   * @returns {boolean}\n   */\n\n\n  _createClass(Autofill, [{\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return this.hot.getSettings().fillHandle;\n    }\n    /**\n     * Enables the plugin functionality for this Handsontable instance.\n     */\n\n  }, {\n    key: \"enablePlugin\",\n    value: function enablePlugin() {\n      var _this2 = this;\n\n      if (this.enabled) {\n        return;\n      }\n\n      this.mapSettings();\n      this.registerEvents();\n      this.addHook('afterOnCellCornerMouseDown', function (event) {\n        return _this2.onAfterCellCornerMouseDown(event);\n      });\n      this.addHook('afterOnCellCornerDblClick', function (event) {\n        return _this2.onCellCornerDblClick(event);\n      });\n      this.addHook('beforeOnCellMouseOver', function (_, coords) {\n        return _this2.onBeforeCellMouseOver(coords);\n      });\n\n      _get(_getPrototypeOf(Autofill.prototype), \"enablePlugin\", this).call(this);\n    }\n    /**\n     * Updates the plugin state. This method is executed when {@link Core#updateSettings} is invoked.\n     */\n\n  }, {\n    key: \"updatePlugin\",\n    value: function updatePlugin() {\n      this.disablePlugin();\n      this.enablePlugin();\n\n      _get(_getPrototypeOf(Autofill.prototype), \"updatePlugin\", this).call(this);\n    }\n    /**\n     * Disables the plugin functionality for this Handsontable instance.\n     */\n\n  }, {\n    key: \"disablePlugin\",\n    value: function disablePlugin() {\n      this.clearMappedSettings();\n\n      _get(_getPrototypeOf(Autofill.prototype), \"disablePlugin\", this).call(this);\n    }\n    /**\n     * Gets selection data.\n     *\n     * @private\n     * @returns {object[]} Ranges Array of objects with properties `startRow`, `startCol`, `endRow` and `endCol`.\n     */\n\n  }, {\n    key: \"getSelectionData\",\n    value: function getSelectionData() {\n      var _this3 = this;\n\n      var selection = this.hot.getSelectedRangeLast();\n\n      var _selection$getTopLeft = selection.getTopLeftCorner(),\n          startRow = _selection$getTopLeft.row,\n          startCol = _selection$getTopLeft.col;\n\n      var _selection$getBottomR = selection.getBottomRightCorner(),\n          endRow = _selection$getBottomR.row,\n          endCol = _selection$getBottomR.col;\n\n      var copyableRanges = this.hot.runHooks('modifyCopyableRange', [{\n        startRow: startRow,\n        startCol: startCol,\n        endRow: endRow,\n        endCol: endCol\n      }]);\n      var copyableRows = [];\n      var copyableColumns = [];\n      var data = [];\n      arrayEach(copyableRanges, function (range) {\n        for (var visualRow = range.startRow; visualRow <= range.endRow; visualRow += 1) {\n          if (copyableRows.indexOf(visualRow) === -1) {\n            copyableRows.push(visualRow);\n          }\n        }\n\n        for (var visualColumn = range.startCol; visualColumn <= range.endCol; visualColumn += 1) {\n          if (copyableColumns.indexOf(visualColumn) === -1) {\n            copyableColumns.push(visualColumn);\n          }\n        }\n      });\n      arrayEach(copyableRows, function (row) {\n        var rowSet = [];\n        arrayEach(copyableColumns, function (column) {\n          rowSet.push(_this3.hot.getCopyableData(row, column));\n        });\n        data.push(rowSet);\n      });\n      return data;\n    }\n    /**\n     * Try to apply fill values to the area in fill border, omitting the selection border.\n     *\n     * @private\n     * @returns {boolean} Reports if fill was applied.\n     *\n     * @fires Hooks#modifyAutofillRange\n     * @fires Hooks#beforeAutofill\n     * @fires Hooks#afterAutofill\n     */\n\n  }, {\n    key: \"fillIn\",\n    value: function fillIn() {\n      if (this.hot.selection.highlight.getFill().isEmpty()) {\n        return false;\n      } // Fill area may starts or ends with invisible cell. There won't be any information about it as highlighted\n      // selection store just renderable indexes (It's part of Walkontable). I extrapolate where the start or/and\n      // the end is.\n\n\n      var _this$hot$selection$h = this.hot.selection.highlight.getFill().getVisualCorners(),\n          _this$hot$selection$h2 = _slicedToArray(_this$hot$selection$h, 4),\n          fillStartRow = _this$hot$selection$h2[0],\n          fillStartColumn = _this$hot$selection$h2[1],\n          fillEndRow = _this$hot$selection$h2[2],\n          fillEndColumn = _this$hot$selection$h2[3];\n\n      var selectionRangeLast = this.hot.getSelectedRangeLast();\n      var topLeftCorner = selectionRangeLast.getTopLeftCorner();\n      var bottomRightCorner = selectionRangeLast.getBottomRightCorner();\n      this.resetSelectionOfDraggedArea();\n      var cornersOfSelectedCells = [topLeftCorner.row, topLeftCorner.col, bottomRightCorner.row, bottomRightCorner.col];\n      var cornersOfSelectionAndDragAreas = this.hot.runHooks('modifyAutofillRange', [Math.min(topLeftCorner.row, fillStartRow), Math.min(topLeftCorner.col, fillStartColumn), Math.max(bottomRightCorner.row, fillEndRow), Math.max(bottomRightCorner.col, fillEndColumn)], cornersOfSelectedCells);\n\n      var _getDragDirectionAndR = getDragDirectionAndRange(cornersOfSelectedCells, cornersOfSelectionAndDragAreas),\n          directionOfDrag = _getDragDirectionAndR.directionOfDrag,\n          startOfDragCoords = _getDragDirectionAndR.startOfDragCoords,\n          endOfDragCoords = _getDragDirectionAndR.endOfDragCoords;\n\n      if (startOfDragCoords && startOfDragCoords.row > -1 && startOfDragCoords.col > -1) {\n        var selectionData = this.getSelectionData();\n        var sourceRange = selectionRangeLast.clone();\n        var targetRange = new CellRange(startOfDragCoords, startOfDragCoords, endOfDragCoords);\n        var beforeAutofillHookResult = this.hot.runHooks('beforeAutofill', selectionData, sourceRange, targetRange, directionOfDrag);\n\n        if (beforeAutofillHookResult === false) {\n          this.hot.selection.highlight.getFill().clear();\n          this.hot.render();\n          return false;\n        }\n\n        var deltas = getDeltas(startOfDragCoords, endOfDragCoords, selectionData, directionOfDrag);\n        var fillData = beforeAutofillHookResult;\n        var res = beforeAutofillHookResult;\n\n        if (['up', 'left'].indexOf(directionOfDrag) > -1 && !(res.length === 1 && res[0].length === 0)) {\n          fillData = [];\n\n          if (directionOfDrag === 'up') {\n            var dragLength = endOfDragCoords.row - startOfDragCoords.row + 1;\n            var fillOffset = dragLength % res.length;\n\n            for (var i = 0; i < dragLength; i++) {\n              fillData.push(res[(i + (res.length - fillOffset)) % res.length]);\n            }\n          } else {\n            var _dragLength = endOfDragCoords.col - startOfDragCoords.col + 1;\n\n            var _fillOffset = _dragLength % res[0].length;\n\n            for (var _i2 = 0; _i2 < res.length; _i2++) {\n              fillData.push([]);\n\n              for (var j = 0; j < _dragLength; j++) {\n                fillData[_i2].push(res[_i2][(j + (res[_i2].length - _fillOffset)) % res[_i2].length]);\n              }\n            }\n          }\n        }\n\n        this.hot.populateFromArray(startOfDragCoords.row, startOfDragCoords.col, fillData, endOfDragCoords.row, endOfDragCoords.col, \"\".concat(this.pluginName, \".fill\"), null, directionOfDrag, deltas);\n        this.setSelection(cornersOfSelectionAndDragAreas);\n        this.hot.runHooks('afterAutofill', fillData, sourceRange, targetRange, directionOfDrag);\n        this.hot.render();\n      } else {\n        // reset to avoid some range bug\n        this.hot._refreshBorders();\n      }\n\n      return true;\n    }\n    /**\n     * Reduces the selection area if the handle was dragged outside of the table or on headers.\n     *\n     * @private\n     * @param {CellCoords} coords Indexes of selection corners.\n     * @returns {CellCoords}\n     */\n\n  }, {\n    key: \"reduceSelectionAreaIfNeeded\",\n    value: function reduceSelectionAreaIfNeeded(coords) {\n      if (coords.row < 0) {\n        coords.row = 0;\n      }\n\n      if (coords.col < 0) {\n        coords.col = 0;\n      }\n\n      return coords;\n    }\n    /**\n     * Gets the coordinates of the drag & drop borders.\n     *\n     * @private\n     * @param {CellCoords} coordsOfSelection `CellCoords` coord object.\n     * @returns {CellCoords}\n     */\n\n  }, {\n    key: \"getCoordsOfDragAndDropBorders\",\n    value: function getCoordsOfDragAndDropBorders(coordsOfSelection) {\n      var currentSelection = this.hot.getSelectedRangeLast();\n      var bottomRightCorner = currentSelection.getBottomRightCorner();\n      var coords = coordsOfSelection;\n\n      if (this.directions.includes(DIRECTIONS.vertical) && this.directions.includes(DIRECTIONS.horizontal)) {\n        var topLeftCorner = currentSelection.getTopLeftCorner();\n\n        if (bottomRightCorner.col <= coordsOfSelection.col || topLeftCorner.col >= coordsOfSelection.col) {\n          coords = new CellCoords(bottomRightCorner.row, coordsOfSelection.col);\n        }\n\n        if (bottomRightCorner.row < coordsOfSelection.row || topLeftCorner.row > coordsOfSelection.row) {\n          coords = new CellCoords(coordsOfSelection.row, bottomRightCorner.col);\n        }\n      } else if (this.directions.includes(DIRECTIONS.vertical)) {\n        coords = new CellCoords(coordsOfSelection.row, bottomRightCorner.col);\n      } else if (this.directions.includes(DIRECTIONS.horizontal)) {\n        coords = new CellCoords(bottomRightCorner.row, coordsOfSelection.col);\n      } else {\n        // wrong direction\n        return;\n      }\n\n      return this.reduceSelectionAreaIfNeeded(coords);\n    }\n    /**\n     * Show the fill border.\n     *\n     * @private\n     * @param {CellCoords} coordsOfSelection `CellCoords` coord object.\n     */\n\n  }, {\n    key: \"showBorder\",\n    value: function showBorder(coordsOfSelection) {\n      var coordsOfDragAndDropBorders = this.getCoordsOfDragAndDropBorders(coordsOfSelection);\n\n      if (coordsOfDragAndDropBorders) {\n        this.redrawBorders(coordsOfDragAndDropBorders);\n      }\n    }\n    /**\n     * Add new row.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"addRow\",\n    value: function addRow() {\n      var _this4 = this;\n\n      this.hot._registerTimeout(function () {\n        _this4.hot.alter(INSERT_ROW_ALTER_ACTION_NAME, void 0, 1, \"\".concat(_this4.pluginName, \".fill\"));\n\n        _this4.addingStarted = false;\n      }, INTERVAL_FOR_ADDING_ROW);\n    }\n    /**\n     * Add new rows if they are needed to continue auto-filling values.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"addNewRowIfNeeded\",\n    value: function addNewRowIfNeeded() {\n      if (!this.hot.selection.highlight.getFill().isEmpty() && this.addingStarted === false && this.autoInsertRow) {\n        var cornersOfSelectedCells = this.hot.getSelectedLast();\n        var cornersOfSelectedDragArea = this.hot.selection.highlight.getFill().getVisualCorners();\n        var nrOfTableRows = this.hot.countRows();\n\n        if (cornersOfSelectedCells[2] < nrOfTableRows - 1 && cornersOfSelectedDragArea[2] === nrOfTableRows - 1) {\n          this.addingStarted = true;\n          this.addRow();\n        }\n      }\n    }\n    /**\n     * Get index of last adjacent filled in row.\n     *\n     * @private\n     * @param {Array} cornersOfSelectedCells Indexes of selection corners.\n     * @returns {number} Gives number greater than or equal to zero when selection adjacent can be applied.\n     *                   Or -1 when selection adjacent can't be applied.\n     */\n\n  }, {\n    key: \"getIndexOfLastAdjacentFilledInRow\",\n    value: function getIndexOfLastAdjacentFilledInRow(cornersOfSelectedCells) {\n      var data = this.hot.getData();\n      var nrOfTableRows = this.hot.countRows();\n      var lastFilledInRowIndex;\n\n      for (var rowIndex = cornersOfSelectedCells[2] + 1; rowIndex < nrOfTableRows; rowIndex++) {\n        for (var columnIndex = cornersOfSelectedCells[1]; columnIndex <= cornersOfSelectedCells[3]; columnIndex++) {\n          var dataInCell = data[rowIndex][columnIndex];\n\n          if (dataInCell) {\n            return -1;\n          }\n        }\n\n        var dataInNextLeftCell = data[rowIndex][cornersOfSelectedCells[1] - 1];\n        var dataInNextRightCell = data[rowIndex][cornersOfSelectedCells[3] + 1];\n\n        if (!!dataInNextLeftCell || !!dataInNextRightCell) {\n          lastFilledInRowIndex = rowIndex;\n        }\n      }\n\n      return lastFilledInRowIndex;\n    }\n    /**\n     * Adds a selection from the start area to the specific row index.\n     *\n     * @private\n     * @param {Array} selectStartArea Selection area from which we start to create more comprehensive selection.\n     * @param {number} rowIndex The row index into the selection will be added.\n     */\n\n  }, {\n    key: \"addSelectionFromStartAreaToSpecificRowIndex\",\n    value: function addSelectionFromStartAreaToSpecificRowIndex(selectStartArea, rowIndex) {\n      this.hot.selection.highlight.getFill().clear().add(new CellCoords(selectStartArea[0], selectStartArea[1])).add(new CellCoords(rowIndex, selectStartArea[3])).commit();\n    }\n    /**\n     * Sets selection based on passed corners.\n     *\n     * @private\n     * @param {Array} cornersOfArea An array witch defines selection.\n     */\n\n  }, {\n    key: \"setSelection\",\n    value: function setSelection(cornersOfArea) {\n      var _this$hot;\n\n      (_this$hot = this.hot).selectCell.apply(_this$hot, _toConsumableArray(arrayMap(cornersOfArea, function (index) {\n        return Math.max(index, 0);\n      })).concat([false, false]));\n    }\n    /**\n     * Try to select cells down to the last row in the left column and then returns if selection was applied.\n     *\n     * @private\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"selectAdjacent\",\n    value: function selectAdjacent() {\n      var cornersOfSelectedCells = this.hot.getSelectedLast();\n      var lastFilledInRowIndex = this.getIndexOfLastAdjacentFilledInRow(cornersOfSelectedCells);\n\n      if (lastFilledInRowIndex === -1 || lastFilledInRowIndex === void 0) {\n        return false;\n      }\n\n      this.addSelectionFromStartAreaToSpecificRowIndex(cornersOfSelectedCells, lastFilledInRowIndex);\n      return true;\n    }\n    /**\n     * Resets selection of dragged area.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"resetSelectionOfDraggedArea\",\n    value: function resetSelectionOfDraggedArea() {\n      this.handleDraggedCells = 0;\n      this.hot.selection.highlight.getFill().clear();\n    }\n    /**\n     * Redraws borders.\n     *\n     * @private\n     * @param {CellCoords} coords `CellCoords` coord object.\n     */\n\n  }, {\n    key: \"redrawBorders\",\n    value: function redrawBorders(coords) {\n      this.hot.selection.highlight.getFill().clear().add(this.hot.getSelectedRangeLast().from).add(this.hot.getSelectedRangeLast().to).add(coords).commit();\n      this.hot.view.render();\n    }\n    /**\n     * Get if mouse was dragged outside.\n     *\n     * @private\n     * @param {MouseEvent} event `mousemove` event properties.\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"getIfMouseWasDraggedOutside\",\n    value: function getIfMouseWasDraggedOutside(event) {\n      var documentElement = this.hot.rootDocument.documentElement;\n      var tableBottom = offset(this.hot.table).top - (this.hot.rootWindow.pageYOffset || documentElement.scrollTop) + outerHeight(this.hot.table);\n      var tableRight = offset(this.hot.table).left - (this.hot.rootWindow.pageXOffset || documentElement.scrollLeft) + outerWidth(this.hot.table);\n      return event.clientY > tableBottom && event.clientX <= tableRight;\n    }\n    /**\n     * Bind the events used by the plugin.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"registerEvents\",\n    value: function registerEvents() {\n      var _this5 = this;\n\n      var documentElement = this.hot.rootDocument.documentElement;\n      this.eventManager.addEventListener(documentElement, 'mouseup', function () {\n        return _this5.onMouseUp();\n      });\n      this.eventManager.addEventListener(documentElement, 'mousemove', function (event) {\n        return _this5.onMouseMove(event);\n      });\n    }\n    /**\n     * On cell corner double click callback.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"onCellCornerDblClick\",\n    value: function onCellCornerDblClick() {\n      var selectionApplied = this.selectAdjacent();\n\n      if (selectionApplied) {\n        this.fillIn();\n      }\n    }\n    /**\n     * On after cell corner mouse down listener.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"onAfterCellCornerMouseDown\",\n    value: function onAfterCellCornerMouseDown() {\n      this.handleDraggedCells = 1;\n      this.mouseDownOnCellCorner = true;\n    }\n    /**\n     * On before cell mouse over listener.\n     *\n     * @private\n     * @param {CellCoords} coords `CellCoords` coord object.\n     */\n\n  }, {\n    key: \"onBeforeCellMouseOver\",\n    value: function onBeforeCellMouseOver(coords) {\n      if (this.mouseDownOnCellCorner && !this.hot.view.isMouseDown() && this.handleDraggedCells) {\n        this.handleDraggedCells += 1;\n        this.showBorder(coords);\n        this.addNewRowIfNeeded();\n      }\n    }\n    /**\n     * On mouse up listener.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"onMouseUp\",\n    value: function onMouseUp() {\n      if (this.handleDraggedCells) {\n        if (this.handleDraggedCells > 1) {\n          this.fillIn();\n        }\n\n        this.handleDraggedCells = 0;\n        this.mouseDownOnCellCorner = false;\n      }\n    }\n    /**\n     * On mouse move listener.\n     *\n     * @private\n     * @param {MouseEvent} event `mousemove` event properties.\n     */\n\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(event) {\n      var mouseWasDraggedOutside = this.getIfMouseWasDraggedOutside(event);\n\n      if (this.addingStarted === false && this.handleDraggedCells > 0 && mouseWasDraggedOutside) {\n        this.mouseDragOutside = true;\n        this.addingStarted = true;\n      } else {\n        this.mouseDragOutside = false;\n      }\n\n      if (this.mouseDragOutside && this.autoInsertRow) {\n        this.addRow();\n      }\n    }\n    /**\n     * Clears mapped settings.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"clearMappedSettings\",\n    value: function clearMappedSettings() {\n      this.directions.length = 0;\n      this.autoInsertRow = false;\n    }\n    /**\n     * Map settings.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"mapSettings\",\n    value: function mapSettings() {\n      var mappedSettings = getMappedFillHandleSetting(this.hot.getSettings().fillHandle);\n      this.directions = mappedSettings.directions;\n      this.autoInsertRow = mappedSettings.autoInsertRow;\n    }\n    /**\n     * Destroys the plugin instance.\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Autofill.prototype), \"destroy\", this).call(this);\n    }\n  }], [{\n    key: \"PLUGIN_KEY\",\n    get: function get() {\n      return PLUGIN_KEY;\n    }\n  }, {\n    key: \"PLUGIN_PRIORITY\",\n    get: function get() {\n      return PLUGIN_PRIORITY;\n    }\n  }]);\n\n  return Autofill;\n}(BasePlugin);","map":{"version":3,"sources":["/Users/shehrozkapoor/Desktop/FIRST_CARE/firstcare-frontend/node_modules/handsontable/plugins/autofill/autofill.mjs"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","iter","Array","from","isArray","_arrayLikeToArray","_slicedToArray","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","o","minLen","n","Object","toString","call","slice","name","test","len","length","arr2","_i","_arr","_n","_d","_s","_e","next","done","push","value","err","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","_get","Reflect","get","property","receiver","base","_superPropBase","desc","getOwnPropertyDescriptor","arguments","apply","object","hasOwnProperty","_getPrototypeOf","_inherits","subClass","superClass","create","_setPrototypeOf","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","BasePlugin","Hooks","offset","outerHeight","outerWidth","arrayEach","arrayMap","EventManager","CellCoords","CellRange","getDeltas","getDragDirectionAndRange","DIRECTIONS","getMappedFillHandleSetting","getSingleton","register","PLUGIN_KEY","PLUGIN_PRIORITY","INSERT_ROW_ALTER_ACTION_NAME","INTERVAL_FOR_ADDING_ROW","Autofill","_BasePlugin","_super","hotInstance","_this","eventManager","addingStarted","mouseDownOnCellCorner","mouseDragOutside","handleDraggedCells","directions","autoInsertRow","isEnabled","hot","getSettings","fillHandle","enablePlugin","_this2","enabled","mapSettings","registerEvents","addHook","event","onAfterCellCornerMouseDown","onCellCornerDblClick","_","coords","onBeforeCellMouseOver","updatePlugin","disablePlugin","clearMappedSettings","getSelectionData","_this3","selection","getSelectedRangeLast","_selection$getTopLeft","getTopLeftCorner","startRow","row","startCol","col","_selection$getBottomR","getBottomRightCorner","endRow","endCol","copyableRanges","runHooks","copyableRows","copyableColumns","data","range","visualRow","indexOf","visualColumn","rowSet","column","getCopyableData","fillIn","highlight","getFill","isEmpty","_this$hot$selection$h","getVisualCorners","_this$hot$selection$h2","fillStartRow","fillStartColumn","fillEndRow","fillEndColumn","selectionRangeLast","topLeftCorner","bottomRightCorner","resetSelectionOfDraggedArea","cornersOfSelectedCells","cornersOfSelectionAndDragAreas","Math","min","max","_getDragDirectionAndR","directionOfDrag","startOfDragCoords","endOfDragCoords","selectionData","sourceRange","clone","targetRange","beforeAutofillHookResult","clear","render","deltas","fillData","res","dragLength","fillOffset","_dragLength","_fillOffset","_i2","j","populateFromArray","concat","pluginName","setSelection","_refreshBorders","reduceSelectionAreaIfNeeded","getCoordsOfDragAndDropBorders","coordsOfSelection","currentSelection","includes","vertical","horizontal","showBorder","coordsOfDragAndDropBorders","redrawBorders","addRow","_this4","_registerTimeout","alter","addNewRowIfNeeded","getSelectedLast","cornersOfSelectedDragArea","nrOfTableRows","countRows","getIndexOfLastAdjacentFilledInRow","getData","lastFilledInRowIndex","rowIndex","columnIndex","dataInCell","dataInNextLeftCell","dataInNextRightCell","addSelectionFromStartAreaToSpecificRowIndex","selectStartArea","add","commit","cornersOfArea","_this$hot","selectCell","index","selectAdjacent","to","view","getIfMouseWasDraggedOutside","documentElement","rootDocument","tableBottom","table","top","rootWindow","pageYOffset","scrollTop","tableRight","left","pageXOffset","scrollLeft","clientY","clientX","_this5","addEventListener","onMouseUp","onMouseMove","selectionApplied","isMouseDown","mouseWasDraggedOutside","mappedSettings","destroy"],"mappings":"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","sourcesContent":["function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.object.set-prototype-of.js\";\nimport \"core-js/modules/es.object.get-prototype-of.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.reflect.construct.js\";\nimport \"core-js/modules/es.reflect.get.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.symbol.iterator.js\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { BasePlugin } from \"../base/index.mjs\";\nimport Hooks from \"../../pluginHooks.mjs\";\nimport { offset, outerHeight, outerWidth } from \"../../helpers/dom/element.mjs\";\nimport { arrayEach, arrayMap } from \"../../helpers/array.mjs\";\nimport EventManager from \"../../eventManager.mjs\";\nimport { CellCoords, CellRange } from \"../../3rdparty/walkontable/src/index.mjs\";\nimport { getDeltas, getDragDirectionAndRange, DIRECTIONS, getMappedFillHandleSetting } from \"./utils.mjs\";\nHooks.getSingleton().register('modifyAutofillRange');\nHooks.getSingleton().register('beforeAutofill');\nHooks.getSingleton().register('afterAutofill');\nexport var PLUGIN_KEY = 'autofill';\nexport var PLUGIN_PRIORITY = 20;\nvar INSERT_ROW_ALTER_ACTION_NAME = 'insert_row';\nvar INTERVAL_FOR_ADDING_ROW = 200;\n/**\n * This plugin provides \"drag-down\" and \"copy-down\" functionalities, both operated using the small square in the right\n * bottom of the cell selection.\n *\n * \"Drag-down\" expands the value of the selected cells to the neighbouring cells when you drag the small\n * square in the corner.\n *\n * \"Copy-down\" copies the value of the selection to all empty cells below when you double click the small square.\n *\n * @class Autofill\n * @plugin Autofill\n */\n\nexport var Autofill = /*#__PURE__*/function (_BasePlugin) {\n  _inherits(Autofill, _BasePlugin);\n\n  var _super = _createSuper(Autofill);\n\n  function Autofill(hotInstance) {\n    var _this;\n\n    _classCallCheck(this, Autofill);\n\n    _this = _super.call(this, hotInstance);\n    /**\n     * Event manager instance.\n     *\n     * @private\n     * @type {EventManager}\n     */\n\n    _this.eventManager = new EventManager(_assertThisInitialized(_this));\n    /**\n     * Specifies if adding new row started.\n     *\n     * @private\n     * @type {boolean}\n     */\n\n    _this.addingStarted = false;\n    /**\n     * Specifies if there was mouse down on the cell corner.\n     *\n     * @private\n     * @type {boolean}\n     */\n\n    _this.mouseDownOnCellCorner = false;\n    /**\n     * Specifies if mouse was dragged outside Handsontable.\n     *\n     * @private\n     * @type {boolean}\n     */\n\n    _this.mouseDragOutside = false;\n    /**\n     * Specifies how many cell levels were dragged using the handle.\n     *\n     * @private\n     * @type {boolean}\n     */\n\n    _this.handleDraggedCells = 0;\n    /**\n     * Specifies allowed directions of drag (`'horizontal'` or '`vertical`').\n     *\n     * @private\n     * @type {string[]}\n     */\n\n    _this.directions = [];\n    /**\n     * Specifies if can insert new rows if needed.\n     *\n     * @type {boolean}\n     */\n\n    _this.autoInsertRow = false;\n    return _this;\n  }\n  /**\n   * Checks if the plugin is enabled in the Handsontable settings.\n   *\n   * @returns {boolean}\n   */\n\n\n  _createClass(Autofill, [{\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return this.hot.getSettings().fillHandle;\n    }\n    /**\n     * Enables the plugin functionality for this Handsontable instance.\n     */\n\n  }, {\n    key: \"enablePlugin\",\n    value: function enablePlugin() {\n      var _this2 = this;\n\n      if (this.enabled) {\n        return;\n      }\n\n      this.mapSettings();\n      this.registerEvents();\n      this.addHook('afterOnCellCornerMouseDown', function (event) {\n        return _this2.onAfterCellCornerMouseDown(event);\n      });\n      this.addHook('afterOnCellCornerDblClick', function (event) {\n        return _this2.onCellCornerDblClick(event);\n      });\n      this.addHook('beforeOnCellMouseOver', function (_, coords) {\n        return _this2.onBeforeCellMouseOver(coords);\n      });\n\n      _get(_getPrototypeOf(Autofill.prototype), \"enablePlugin\", this).call(this);\n    }\n    /**\n     * Updates the plugin state. This method is executed when {@link Core#updateSettings} is invoked.\n     */\n\n  }, {\n    key: \"updatePlugin\",\n    value: function updatePlugin() {\n      this.disablePlugin();\n      this.enablePlugin();\n\n      _get(_getPrototypeOf(Autofill.prototype), \"updatePlugin\", this).call(this);\n    }\n    /**\n     * Disables the plugin functionality for this Handsontable instance.\n     */\n\n  }, {\n    key: \"disablePlugin\",\n    value: function disablePlugin() {\n      this.clearMappedSettings();\n\n      _get(_getPrototypeOf(Autofill.prototype), \"disablePlugin\", this).call(this);\n    }\n    /**\n     * Gets selection data.\n     *\n     * @private\n     * @returns {object[]} Ranges Array of objects with properties `startRow`, `startCol`, `endRow` and `endCol`.\n     */\n\n  }, {\n    key: \"getSelectionData\",\n    value: function getSelectionData() {\n      var _this3 = this;\n\n      var selection = this.hot.getSelectedRangeLast();\n\n      var _selection$getTopLeft = selection.getTopLeftCorner(),\n          startRow = _selection$getTopLeft.row,\n          startCol = _selection$getTopLeft.col;\n\n      var _selection$getBottomR = selection.getBottomRightCorner(),\n          endRow = _selection$getBottomR.row,\n          endCol = _selection$getBottomR.col;\n\n      var copyableRanges = this.hot.runHooks('modifyCopyableRange', [{\n        startRow: startRow,\n        startCol: startCol,\n        endRow: endRow,\n        endCol: endCol\n      }]);\n      var copyableRows = [];\n      var copyableColumns = [];\n      var data = [];\n      arrayEach(copyableRanges, function (range) {\n        for (var visualRow = range.startRow; visualRow <= range.endRow; visualRow += 1) {\n          if (copyableRows.indexOf(visualRow) === -1) {\n            copyableRows.push(visualRow);\n          }\n        }\n\n        for (var visualColumn = range.startCol; visualColumn <= range.endCol; visualColumn += 1) {\n          if (copyableColumns.indexOf(visualColumn) === -1) {\n            copyableColumns.push(visualColumn);\n          }\n        }\n      });\n      arrayEach(copyableRows, function (row) {\n        var rowSet = [];\n        arrayEach(copyableColumns, function (column) {\n          rowSet.push(_this3.hot.getCopyableData(row, column));\n        });\n        data.push(rowSet);\n      });\n      return data;\n    }\n    /**\n     * Try to apply fill values to the area in fill border, omitting the selection border.\n     *\n     * @private\n     * @returns {boolean} Reports if fill was applied.\n     *\n     * @fires Hooks#modifyAutofillRange\n     * @fires Hooks#beforeAutofill\n     * @fires Hooks#afterAutofill\n     */\n\n  }, {\n    key: \"fillIn\",\n    value: function fillIn() {\n      if (this.hot.selection.highlight.getFill().isEmpty()) {\n        return false;\n      } // Fill area may starts or ends with invisible cell. There won't be any information about it as highlighted\n      // selection store just renderable indexes (It's part of Walkontable). I extrapolate where the start or/and\n      // the end is.\n\n\n      var _this$hot$selection$h = this.hot.selection.highlight.getFill().getVisualCorners(),\n          _this$hot$selection$h2 = _slicedToArray(_this$hot$selection$h, 4),\n          fillStartRow = _this$hot$selection$h2[0],\n          fillStartColumn = _this$hot$selection$h2[1],\n          fillEndRow = _this$hot$selection$h2[2],\n          fillEndColumn = _this$hot$selection$h2[3];\n\n      var selectionRangeLast = this.hot.getSelectedRangeLast();\n      var topLeftCorner = selectionRangeLast.getTopLeftCorner();\n      var bottomRightCorner = selectionRangeLast.getBottomRightCorner();\n      this.resetSelectionOfDraggedArea();\n      var cornersOfSelectedCells = [topLeftCorner.row, topLeftCorner.col, bottomRightCorner.row, bottomRightCorner.col];\n      var cornersOfSelectionAndDragAreas = this.hot.runHooks('modifyAutofillRange', [Math.min(topLeftCorner.row, fillStartRow), Math.min(topLeftCorner.col, fillStartColumn), Math.max(bottomRightCorner.row, fillEndRow), Math.max(bottomRightCorner.col, fillEndColumn)], cornersOfSelectedCells);\n\n      var _getDragDirectionAndR = getDragDirectionAndRange(cornersOfSelectedCells, cornersOfSelectionAndDragAreas),\n          directionOfDrag = _getDragDirectionAndR.directionOfDrag,\n          startOfDragCoords = _getDragDirectionAndR.startOfDragCoords,\n          endOfDragCoords = _getDragDirectionAndR.endOfDragCoords;\n\n      if (startOfDragCoords && startOfDragCoords.row > -1 && startOfDragCoords.col > -1) {\n        var selectionData = this.getSelectionData();\n        var sourceRange = selectionRangeLast.clone();\n        var targetRange = new CellRange(startOfDragCoords, startOfDragCoords, endOfDragCoords);\n        var beforeAutofillHookResult = this.hot.runHooks('beforeAutofill', selectionData, sourceRange, targetRange, directionOfDrag);\n\n        if (beforeAutofillHookResult === false) {\n          this.hot.selection.highlight.getFill().clear();\n          this.hot.render();\n          return false;\n        }\n\n        var deltas = getDeltas(startOfDragCoords, endOfDragCoords, selectionData, directionOfDrag);\n        var fillData = beforeAutofillHookResult;\n        var res = beforeAutofillHookResult;\n\n        if (['up', 'left'].indexOf(directionOfDrag) > -1 && !(res.length === 1 && res[0].length === 0)) {\n          fillData = [];\n\n          if (directionOfDrag === 'up') {\n            var dragLength = endOfDragCoords.row - startOfDragCoords.row + 1;\n            var fillOffset = dragLength % res.length;\n\n            for (var i = 0; i < dragLength; i++) {\n              fillData.push(res[(i + (res.length - fillOffset)) % res.length]);\n            }\n          } else {\n            var _dragLength = endOfDragCoords.col - startOfDragCoords.col + 1;\n\n            var _fillOffset = _dragLength % res[0].length;\n\n            for (var _i2 = 0; _i2 < res.length; _i2++) {\n              fillData.push([]);\n\n              for (var j = 0; j < _dragLength; j++) {\n                fillData[_i2].push(res[_i2][(j + (res[_i2].length - _fillOffset)) % res[_i2].length]);\n              }\n            }\n          }\n        }\n\n        this.hot.populateFromArray(startOfDragCoords.row, startOfDragCoords.col, fillData, endOfDragCoords.row, endOfDragCoords.col, \"\".concat(this.pluginName, \".fill\"), null, directionOfDrag, deltas);\n        this.setSelection(cornersOfSelectionAndDragAreas);\n        this.hot.runHooks('afterAutofill', fillData, sourceRange, targetRange, directionOfDrag);\n        this.hot.render();\n      } else {\n        // reset to avoid some range bug\n        this.hot._refreshBorders();\n      }\n\n      return true;\n    }\n    /**\n     * Reduces the selection area if the handle was dragged outside of the table or on headers.\n     *\n     * @private\n     * @param {CellCoords} coords Indexes of selection corners.\n     * @returns {CellCoords}\n     */\n\n  }, {\n    key: \"reduceSelectionAreaIfNeeded\",\n    value: function reduceSelectionAreaIfNeeded(coords) {\n      if (coords.row < 0) {\n        coords.row = 0;\n      }\n\n      if (coords.col < 0) {\n        coords.col = 0;\n      }\n\n      return coords;\n    }\n    /**\n     * Gets the coordinates of the drag & drop borders.\n     *\n     * @private\n     * @param {CellCoords} coordsOfSelection `CellCoords` coord object.\n     * @returns {CellCoords}\n     */\n\n  }, {\n    key: \"getCoordsOfDragAndDropBorders\",\n    value: function getCoordsOfDragAndDropBorders(coordsOfSelection) {\n      var currentSelection = this.hot.getSelectedRangeLast();\n      var bottomRightCorner = currentSelection.getBottomRightCorner();\n      var coords = coordsOfSelection;\n\n      if (this.directions.includes(DIRECTIONS.vertical) && this.directions.includes(DIRECTIONS.horizontal)) {\n        var topLeftCorner = currentSelection.getTopLeftCorner();\n\n        if (bottomRightCorner.col <= coordsOfSelection.col || topLeftCorner.col >= coordsOfSelection.col) {\n          coords = new CellCoords(bottomRightCorner.row, coordsOfSelection.col);\n        }\n\n        if (bottomRightCorner.row < coordsOfSelection.row || topLeftCorner.row > coordsOfSelection.row) {\n          coords = new CellCoords(coordsOfSelection.row, bottomRightCorner.col);\n        }\n      } else if (this.directions.includes(DIRECTIONS.vertical)) {\n        coords = new CellCoords(coordsOfSelection.row, bottomRightCorner.col);\n      } else if (this.directions.includes(DIRECTIONS.horizontal)) {\n        coords = new CellCoords(bottomRightCorner.row, coordsOfSelection.col);\n      } else {\n        // wrong direction\n        return;\n      }\n\n      return this.reduceSelectionAreaIfNeeded(coords);\n    }\n    /**\n     * Show the fill border.\n     *\n     * @private\n     * @param {CellCoords} coordsOfSelection `CellCoords` coord object.\n     */\n\n  }, {\n    key: \"showBorder\",\n    value: function showBorder(coordsOfSelection) {\n      var coordsOfDragAndDropBorders = this.getCoordsOfDragAndDropBorders(coordsOfSelection);\n\n      if (coordsOfDragAndDropBorders) {\n        this.redrawBorders(coordsOfDragAndDropBorders);\n      }\n    }\n    /**\n     * Add new row.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"addRow\",\n    value: function addRow() {\n      var _this4 = this;\n\n      this.hot._registerTimeout(function () {\n        _this4.hot.alter(INSERT_ROW_ALTER_ACTION_NAME, void 0, 1, \"\".concat(_this4.pluginName, \".fill\"));\n\n        _this4.addingStarted = false;\n      }, INTERVAL_FOR_ADDING_ROW);\n    }\n    /**\n     * Add new rows if they are needed to continue auto-filling values.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"addNewRowIfNeeded\",\n    value: function addNewRowIfNeeded() {\n      if (!this.hot.selection.highlight.getFill().isEmpty() && this.addingStarted === false && this.autoInsertRow) {\n        var cornersOfSelectedCells = this.hot.getSelectedLast();\n        var cornersOfSelectedDragArea = this.hot.selection.highlight.getFill().getVisualCorners();\n        var nrOfTableRows = this.hot.countRows();\n\n        if (cornersOfSelectedCells[2] < nrOfTableRows - 1 && cornersOfSelectedDragArea[2] === nrOfTableRows - 1) {\n          this.addingStarted = true;\n          this.addRow();\n        }\n      }\n    }\n    /**\n     * Get index of last adjacent filled in row.\n     *\n     * @private\n     * @param {Array} cornersOfSelectedCells Indexes of selection corners.\n     * @returns {number} Gives number greater than or equal to zero when selection adjacent can be applied.\n     *                   Or -1 when selection adjacent can't be applied.\n     */\n\n  }, {\n    key: \"getIndexOfLastAdjacentFilledInRow\",\n    value: function getIndexOfLastAdjacentFilledInRow(cornersOfSelectedCells) {\n      var data = this.hot.getData();\n      var nrOfTableRows = this.hot.countRows();\n      var lastFilledInRowIndex;\n\n      for (var rowIndex = cornersOfSelectedCells[2] + 1; rowIndex < nrOfTableRows; rowIndex++) {\n        for (var columnIndex = cornersOfSelectedCells[1]; columnIndex <= cornersOfSelectedCells[3]; columnIndex++) {\n          var dataInCell = data[rowIndex][columnIndex];\n\n          if (dataInCell) {\n            return -1;\n          }\n        }\n\n        var dataInNextLeftCell = data[rowIndex][cornersOfSelectedCells[1] - 1];\n        var dataInNextRightCell = data[rowIndex][cornersOfSelectedCells[3] + 1];\n\n        if (!!dataInNextLeftCell || !!dataInNextRightCell) {\n          lastFilledInRowIndex = rowIndex;\n        }\n      }\n\n      return lastFilledInRowIndex;\n    }\n    /**\n     * Adds a selection from the start area to the specific row index.\n     *\n     * @private\n     * @param {Array} selectStartArea Selection area from which we start to create more comprehensive selection.\n     * @param {number} rowIndex The row index into the selection will be added.\n     */\n\n  }, {\n    key: \"addSelectionFromStartAreaToSpecificRowIndex\",\n    value: function addSelectionFromStartAreaToSpecificRowIndex(selectStartArea, rowIndex) {\n      this.hot.selection.highlight.getFill().clear().add(new CellCoords(selectStartArea[0], selectStartArea[1])).add(new CellCoords(rowIndex, selectStartArea[3])).commit();\n    }\n    /**\n     * Sets selection based on passed corners.\n     *\n     * @private\n     * @param {Array} cornersOfArea An array witch defines selection.\n     */\n\n  }, {\n    key: \"setSelection\",\n    value: function setSelection(cornersOfArea) {\n      var _this$hot;\n\n      (_this$hot = this.hot).selectCell.apply(_this$hot, _toConsumableArray(arrayMap(cornersOfArea, function (index) {\n        return Math.max(index, 0);\n      })).concat([false, false]));\n    }\n    /**\n     * Try to select cells down to the last row in the left column and then returns if selection was applied.\n     *\n     * @private\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"selectAdjacent\",\n    value: function selectAdjacent() {\n      var cornersOfSelectedCells = this.hot.getSelectedLast();\n      var lastFilledInRowIndex = this.getIndexOfLastAdjacentFilledInRow(cornersOfSelectedCells);\n\n      if (lastFilledInRowIndex === -1 || lastFilledInRowIndex === void 0) {\n        return false;\n      }\n\n      this.addSelectionFromStartAreaToSpecificRowIndex(cornersOfSelectedCells, lastFilledInRowIndex);\n      return true;\n    }\n    /**\n     * Resets selection of dragged area.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"resetSelectionOfDraggedArea\",\n    value: function resetSelectionOfDraggedArea() {\n      this.handleDraggedCells = 0;\n      this.hot.selection.highlight.getFill().clear();\n    }\n    /**\n     * Redraws borders.\n     *\n     * @private\n     * @param {CellCoords} coords `CellCoords` coord object.\n     */\n\n  }, {\n    key: \"redrawBorders\",\n    value: function redrawBorders(coords) {\n      this.hot.selection.highlight.getFill().clear().add(this.hot.getSelectedRangeLast().from).add(this.hot.getSelectedRangeLast().to).add(coords).commit();\n      this.hot.view.render();\n    }\n    /**\n     * Get if mouse was dragged outside.\n     *\n     * @private\n     * @param {MouseEvent} event `mousemove` event properties.\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"getIfMouseWasDraggedOutside\",\n    value: function getIfMouseWasDraggedOutside(event) {\n      var documentElement = this.hot.rootDocument.documentElement;\n      var tableBottom = offset(this.hot.table).top - (this.hot.rootWindow.pageYOffset || documentElement.scrollTop) + outerHeight(this.hot.table);\n      var tableRight = offset(this.hot.table).left - (this.hot.rootWindow.pageXOffset || documentElement.scrollLeft) + outerWidth(this.hot.table);\n      return event.clientY > tableBottom && event.clientX <= tableRight;\n    }\n    /**\n     * Bind the events used by the plugin.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"registerEvents\",\n    value: function registerEvents() {\n      var _this5 = this;\n\n      var documentElement = this.hot.rootDocument.documentElement;\n      this.eventManager.addEventListener(documentElement, 'mouseup', function () {\n        return _this5.onMouseUp();\n      });\n      this.eventManager.addEventListener(documentElement, 'mousemove', function (event) {\n        return _this5.onMouseMove(event);\n      });\n    }\n    /**\n     * On cell corner double click callback.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"onCellCornerDblClick\",\n    value: function onCellCornerDblClick() {\n      var selectionApplied = this.selectAdjacent();\n\n      if (selectionApplied) {\n        this.fillIn();\n      }\n    }\n    /**\n     * On after cell corner mouse down listener.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"onAfterCellCornerMouseDown\",\n    value: function onAfterCellCornerMouseDown() {\n      this.handleDraggedCells = 1;\n      this.mouseDownOnCellCorner = true;\n    }\n    /**\n     * On before cell mouse over listener.\n     *\n     * @private\n     * @param {CellCoords} coords `CellCoords` coord object.\n     */\n\n  }, {\n    key: \"onBeforeCellMouseOver\",\n    value: function onBeforeCellMouseOver(coords) {\n      if (this.mouseDownOnCellCorner && !this.hot.view.isMouseDown() && this.handleDraggedCells) {\n        this.handleDraggedCells += 1;\n        this.showBorder(coords);\n        this.addNewRowIfNeeded();\n      }\n    }\n    /**\n     * On mouse up listener.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"onMouseUp\",\n    value: function onMouseUp() {\n      if (this.handleDraggedCells) {\n        if (this.handleDraggedCells > 1) {\n          this.fillIn();\n        }\n\n        this.handleDraggedCells = 0;\n        this.mouseDownOnCellCorner = false;\n      }\n    }\n    /**\n     * On mouse move listener.\n     *\n     * @private\n     * @param {MouseEvent} event `mousemove` event properties.\n     */\n\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(event) {\n      var mouseWasDraggedOutside = this.getIfMouseWasDraggedOutside(event);\n\n      if (this.addingStarted === false && this.handleDraggedCells > 0 && mouseWasDraggedOutside) {\n        this.mouseDragOutside = true;\n        this.addingStarted = true;\n      } else {\n        this.mouseDragOutside = false;\n      }\n\n      if (this.mouseDragOutside && this.autoInsertRow) {\n        this.addRow();\n      }\n    }\n    /**\n     * Clears mapped settings.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"clearMappedSettings\",\n    value: function clearMappedSettings() {\n      this.directions.length = 0;\n      this.autoInsertRow = false;\n    }\n    /**\n     * Map settings.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"mapSettings\",\n    value: function mapSettings() {\n      var mappedSettings = getMappedFillHandleSetting(this.hot.getSettings().fillHandle);\n      this.directions = mappedSettings.directions;\n      this.autoInsertRow = mappedSettings.autoInsertRow;\n    }\n    /**\n     * Destroys the plugin instance.\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Autofill.prototype), \"destroy\", this).call(this);\n    }\n  }], [{\n    key: \"PLUGIN_KEY\",\n    get: function get() {\n      return PLUGIN_KEY;\n    }\n  }, {\n    key: \"PLUGIN_PRIORITY\",\n    get: function get() {\n      return PLUGIN_PRIORITY;\n    }\n  }]);\n\n  return Autofill;\n}(BasePlugin);"]},"metadata":{},"sourceType":"module"}