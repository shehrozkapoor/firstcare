{"ast":null,"code":"require(\"core-js/modules/es.error.cause.js\");\n\n/*! version : 4.17.37\n =========================================================\n bootstrap-datetimejs\n\n https://github.com/Eonasdan/bootstrap-datetimepicker\n\n Modified by: @balbarak\n\n Copyright (c) 2015 Jonathan Peterson\n =========================================================\n */\n\n/*\n The MIT License (MIT)\n\n\n */\n\n/*global define:false */\n\n/*global exports:false */\n\n/*global require:false */\n\n/*global jQuery:false */\n\n/*global moment:false */\n(function (factory) {\n  'use strict';\n\n  if (typeof define === 'function' && define.amd) {\n    // AMD is used - Register as an anonymous module.\n    define(['jquery', 'moment'], factory);\n  } else if (typeof exports === 'object') {\n    factory(require('jquery'), require('moment'));\n  } else {\n    // Neither AMD nor CommonJS used. Use global variables.\n    if (typeof jQuery === 'undefined') {\n      throw 'bootstrap-hijri-datepicker requires jQuery to be loaded first';\n    }\n\n    if (typeof moment === 'undefined') {\n      throw 'bootstrap-hijri-datepicker requires Moment.js to be loaded first';\n    }\n\n    factory(jQuery, moment);\n  }\n})(function ($, moment) {\n  'use strict';\n\n  if (!moment) {\n    throw new Error('bootstrap-hijri-datepicker requires Moment.js to be loaded first');\n  }\n\n  var hijriDatePicker = function (element, options) {\n    var picker = {},\n        date,\n        viewDate,\n        unset = true,\n        input,\n        component = false,\n        widget = false,\n        use24Hours,\n        minViewModeNumber = 0,\n        actualFormat,\n        parseFormats,\n        currentViewMode,\n        datePickerModes = [{\n      clsName: 'days',\n      navFnc: options.hijri ? 'iMonth' : 'Month',\n      navStep: 1\n    }, {\n      clsName: 'months',\n      navFnc: options.hijri ? 'iYear' : 'y',\n      navStep: 1\n    }, {\n      clsName: 'years',\n      navFnc: options.hijri ? 'iYear' : 'y',\n      navStep: 10\n    }, {\n      clsName: 'decades',\n      navFnc: options.hijri ? 'iYear' : 'y',\n      navStep: 100\n    }],\n        viewModes = ['days', 'months', 'years', 'decades'],\n        verticalModes = ['top', 'bottom', 'auto'],\n        horizontalModes = ['left', 'right', 'auto'],\n        toolbarPlacements = ['default', 'top', 'bottom'],\n        keyMap = {\n      'up': 38,\n      38: 'up',\n      'down': 40,\n      40: 'down',\n      'left': 37,\n      37: 'left',\n      'right': 39,\n      39: 'right',\n      'tab': 9,\n      9: 'tab',\n      'escape': 27,\n      27: 'escape',\n      'enter': 13,\n      13: 'enter',\n      'pageUp': 33,\n      33: 'pageUp',\n      'pageDown': 34,\n      34: 'pageDown',\n      'shift': 16,\n      16: 'shift',\n      'control': 17,\n      17: 'control',\n      'space': 32,\n      32: 'space',\n      't': 84,\n      84: 't',\n      'delete': 46,\n      46: 'delete'\n    },\n        keyState = {},\n        getMoment = function (d) {\n      var tzEnabled = false,\n          returnMoment,\n          currentZoneOffset,\n          incomingZoneOffset,\n          timeZoneIndicator,\n          dateWithTimeZoneInfo;\n\n      if (moment.tz !== undefined && options.timeZone !== undefined && options.timeZone !== null && options.timeZone !== '') {\n        tzEnabled = true;\n      }\n\n      if (d === undefined || d === null) {\n        if (tzEnabled) {\n          returnMoment = moment().tz(options.timeZone).startOf('day');\n        } else {\n          returnMoment = moment().startOf('day');\n        }\n      } else {\n        if (tzEnabled) {\n          currentZoneOffset = moment().tz(options.timeZone).utcOffset();\n          incomingZoneOffset = moment(d, parseFormats, options.useStrict).utcOffset();\n\n          if (incomingZoneOffset !== currentZoneOffset) {\n            timeZoneIndicator = moment().tz(options.timeZone).format('Z');\n            dateWithTimeZoneInfo = moment(d, parseFormats, options.useStrict).format('YYYY-MM-DD[T]HH:mm:ss') + timeZoneIndicator;\n            returnMoment = moment(dateWithTimeZoneInfo, parseFormats, options.useStrict).tz(options.timeZone);\n          } else {\n            returnMoment = moment(d, parseFormats, options.useStrict).tz(options.timeZone);\n          }\n        } else {\n          returnMoment = moment(d, parseFormats, options.useStrict);\n        }\n      }\n\n      return returnMoment;\n    },\n        isEnabled = function (granularity) {\n      if (typeof granularity !== 'string' || granularity.length > 1) {\n        throw new TypeError('isEnabled expects a single character string parameter');\n      }\n\n      switch (granularity) {\n        case 'y':\n          return actualFormat.indexOf('Y') !== -1;\n\n        case 'M':\n          return actualFormat.indexOf('M') !== -1;\n\n        case 'd':\n          return actualFormat.toLowerCase().indexOf('d') !== -1;\n\n        case 'h':\n        case 'H':\n          return actualFormat.toLowerCase().indexOf('hh:') !== -1;\n\n        case 'm':\n          return actualFormat.indexOf('m') !== -1;\n\n        case 's':\n          return actualFormat.indexOf('s') !== -1;\n\n        default:\n          return false;\n      }\n    },\n        hasTime = function () {\n      return isEnabled('h') || isEnabled('m') || isEnabled('s');\n    },\n        hasDate = function () {\n      return isEnabled('y') || isEnabled('M') || isEnabled('d');\n    },\n        getDatePickerTemplate = function () {\n      var headTemplate = $('<thead>').append($('<tr>').append($('<th>').addClass('prev').attr('data-action', 'previous').append($('<span>').html(options.icons.previous))).append($('<th>').addClass('picker-switch').attr('data-action', 'pickerSwitch').attr('colspan', options.calendarWeeks ? '6' : '5')).append($('<th>').addClass('next').attr('data-action', 'next').append($('<span>').html(options.icons.next)))),\n          contTemplate = $('<tbody>').append($('<tr>').append($('<td>').attr('colspan', options.calendarWeeks ? '8' : '7')));\n      return [$('<div>').addClass('datepicker-days').append($('<table>').addClass('table-condensed').append(headTemplate).append($('<tbody>'))), $('<div>').addClass('datepicker-months').append($('<table>').addClass('table-condensed').append(headTemplate.clone()).append(contTemplate.clone())), $('<div>').addClass('datepicker-years').append($('<table>').addClass('table-condensed').append(headTemplate.clone()).append(contTemplate.clone())), $('<div>').addClass('datepicker-decades').append($('<table>').addClass('table-condensed').append(headTemplate.clone()).append(contTemplate.clone()))];\n    },\n        getTimePickerMainTemplate = function () {\n      var topRow = $('<tr>'),\n          middleRow = $('<tr>'),\n          bottomRow = $('<tr>');\n\n      if (isEnabled('h')) {\n        topRow.append($('<td>').append($('<a>').attr({\n          href: '#',\n          tabindex: '-1',\n          'title': options.tooltips.incrementHour\n        }).addClass('btn').attr('data-action', 'incrementHours').append($('<span>').addClass(options.icons.up))));\n        middleRow.append($('<td>').append($('<span>').addClass('timepicker-hour').attr({\n          'data-time-component': 'hours',\n          'title': options.tooltips.pickHour\n        }).attr('data-action', 'showHours')));\n        bottomRow.append($('<td>').append($('<a>').attr({\n          href: '#',\n          tabindex: '-1',\n          'title': options.tooltips.decrementHour\n        }).addClass('btn').attr('data-action', 'decrementHours').append($('<span>').addClass(options.icons.down))));\n      }\n\n      if (isEnabled('m')) {\n        if (isEnabled('h')) {\n          topRow.append($('<td>').addClass('separator'));\n          middleRow.append($('<td>').addClass('separator').html(':'));\n          bottomRow.append($('<td>').addClass('separator'));\n        }\n\n        topRow.append($('<td>').append($('<a>').attr({\n          href: '#',\n          tabindex: '-1',\n          'title': options.tooltips.incrementMinute\n        }).addClass('btn').attr('data-action', 'incrementMinutes').append($('<span>').addClass(options.icons.up))));\n        middleRow.append($('<td>').append($('<span>').addClass('timepicker-minute').attr({\n          'data-time-component': 'minutes',\n          'title': options.tooltips.pickMinute\n        }).attr('data-action', 'showMinutes')));\n        bottomRow.append($('<td>').append($('<a>').attr({\n          href: '#',\n          tabindex: '-1',\n          'title': options.tooltips.decrementMinute\n        }).addClass('btn').attr('data-action', 'decrementMinutes').append($('<span>').addClass(options.icons.down))));\n      }\n\n      if (isEnabled('s')) {\n        if (isEnabled('m')) {\n          topRow.append($('<td>').addClass('separator'));\n          middleRow.append($('<td>').addClass('separator').html(':'));\n          bottomRow.append($('<td>').addClass('separator'));\n        }\n\n        topRow.append($('<td>').append($('<a>').attr({\n          href: '#',\n          tabindex: '-1',\n          'title': options.tooltips.incrementSecond\n        }).addClass('btn').attr('data-action', 'incrementSeconds').append($('<span>').addClass(options.icons.up))));\n        middleRow.append($('<td>').append($('<span>').addClass('timepicker-second').attr({\n          'data-time-component': 'seconds',\n          'title': options.tooltips.pickSecond\n        }).attr('data-action', 'showSeconds')));\n        bottomRow.append($('<td>').append($('<a>').attr({\n          href: '#',\n          tabindex: '-1',\n          'title': options.tooltips.decrementSecond\n        }).addClass('btn').attr('data-action', 'decrementSeconds').append($('<span>').addClass(options.icons.down))));\n      }\n\n      if (!use24Hours) {\n        topRow.append($('<td>').addClass('separator'));\n        middleRow.append($('<td>').append($('<button>').addClass('btn btn-primary').attr({\n          'data-action': 'togglePeriod',\n          tabindex: '-1',\n          'title': options.tooltips.togglePeriod\n        })));\n        bottomRow.append($('<td>').addClass('separator'));\n      }\n\n      return $('<div>').addClass('timepicker-picker').append($('<table>').addClass('table-condensed').append([topRow, middleRow, bottomRow]));\n    },\n        getTimePickerTemplate = function () {\n      var hoursView = $('<div>').addClass('timepicker-hours').append($('<table>').addClass('table-condensed')),\n          minutesView = $('<div>').addClass('timepicker-minutes').append($('<table>').addClass('table-condensed')),\n          secondsView = $('<div>').addClass('timepicker-seconds').append($('<table>').addClass('table-condensed')),\n          ret = [getTimePickerMainTemplate()];\n\n      if (isEnabled('h')) {\n        ret.push(hoursView);\n      }\n\n      if (isEnabled('m')) {\n        ret.push(minutesView);\n      }\n\n      if (isEnabled('s')) {\n        ret.push(secondsView);\n      }\n\n      return ret;\n    },\n        getToolbar = function () {\n      var row = [];\n\n      if (options.showTodayButton) {\n        //let todayButton = $('<a data-action=\"todya\" title=\"title\" class=\"hijri-date-toolbar-item btn btn-sm btn-primary\"></a>').html(options.icons.today);\n        //row.push($('<td>').append(todayButton));\n        row.push($('<td>').append($('<a>').attr({\n          'data-action': 'today',\n          'title': options.tooltips.today\n        }).append($('<span>').html(options.icons.today))));\n      }\n\n      if (!options.sideBySide && hasDate() && hasTime()) {\n        row.push($('<td>').append($('<a>').attr({\n          'data-action': 'togglePicker',\n          'title': options.tooltips.selectTime\n        }).append($('<span>').addClass(options.icons.time))));\n      }\n\n      if (options.showClear) {\n        row.push($('<td>').append($('<a>').attr({\n          'data-action': 'clear',\n          'title': options.tooltips.clear\n        }).append($('<span>').html(options.icons.clear))));\n      }\n\n      if (options.showClose) {\n        row.push($('<td>').append($('<a>').attr({\n          'data-action': 'close',\n          'title': options.tooltips.close\n        }).append($('<span>').html(options.icons.close))));\n      }\n\n      if (options.showSwitcher) {\n        let text = options.hijriText;\n\n        if (options.hijri) {\n          text = options.gregorianText;\n        }\n\n        row.push($('<td>').append($('<a>').attr({\n          'data-action': 'switchDate',\n          'title': options.tooltips.close\n        }).append($('<span class=\"data-switch-button\">').html(text))));\n      }\n\n      return $('<table>').addClass('table-condensed').append($('<tbody>').append($('<tr>').append(row)));\n    },\n        getTemplate = function () {\n      var template = $('<div>').addClass('bootstrap-datetimepicker-widget dropdown-menu'),\n          dateView = $('<div>').addClass('datepicker').append(getDatePickerTemplate()),\n          timeView = $('<div>').addClass('timepicker').append(getTimePickerTemplate()),\n          content = $('<ul>').addClass('list-unstyled'),\n          toolbar = $('<li>').addClass('picker-switch' + (options.collapse ? ' accordion-toggle' : '')).append(getToolbar());\n\n      if (options.inline) {\n        template.removeClass('dropdown-menu');\n      }\n\n      if (use24Hours) {\n        template.addClass('usetwentyfour');\n      }\n\n      if (isEnabled('s') && !use24Hours) {\n        template.addClass('wider');\n      }\n\n      if (options.sideBySide && hasDate() && hasTime()) {\n        template.addClass('timepicker-sbs');\n\n        if (options.toolbarPlacement === 'top') {\n          template.append(toolbar);\n        }\n\n        template.append($('<div>').addClass('row').append(dateView.addClass('col-md-6')).append(timeView.addClass('col-md-6')));\n\n        if (options.toolbarPlacement === 'bottom') {\n          template.append(toolbar);\n        }\n\n        return template;\n      }\n\n      if (options.toolbarPlacement === 'top') {\n        content.append(toolbar);\n      }\n\n      if (hasDate()) {\n        content.append($('<li>').addClass(options.collapse && hasTime() ? 'collapse in' : '').append(dateView));\n      }\n\n      if (options.toolbarPlacement === 'default') {\n        content.append(toolbar);\n      }\n\n      if (hasTime()) {\n        content.append($('<li>').addClass(options.collapse && hasDate() ? 'collapse' : '').append(timeView));\n      }\n\n      if (options.toolbarPlacement === 'bottom') {\n        content.append(toolbar);\n      }\n\n      return template.append(content);\n    },\n        dataToOptions = function () {\n      var eData,\n          dataOptions = {};\n\n      if (element.is('input') || options.inline) {\n        eData = element.data();\n      } else {\n        eData = element.find('input').data();\n      }\n\n      if (eData.dateOptions && eData.dateOptions instanceof Object) {\n        dataOptions = $.extend(true, dataOptions, eData.dateOptions);\n      }\n\n      $.each(options, function (key) {\n        var attributeName = 'date' + key.charAt(0).toUpperCase() + key.slice(1);\n\n        if (eData[attributeName] !== undefined) {\n          dataOptions[key] = eData[attributeName];\n        }\n      });\n      return dataOptions;\n    },\n        place = function () {\n      var position = (component || element).position(),\n          offset = (component || element).offset(),\n          vertical = options.widgetPositioning.vertical,\n          horizontal = options.widgetPositioning.horizontal,\n          parent;\n\n      if (options.widgetParent) {\n        parent = options.widgetParent.append(widget);\n      } else if (element.is('input')) {\n        parent = element.after(widget).parent();\n      } else if (options.inline) {\n        parent = element.append(widget);\n        return;\n      } else {\n        parent = element;\n        element.children().first().after(widget);\n      } // Top and bottom logic\n\n\n      if (vertical === 'auto') {\n        if (offset.top + widget.height() * 1.5 >= $(window).height() + $(window).scrollTop() && widget.height() + element.outerHeight() < offset.top) {\n          vertical = 'top';\n        } else {\n          vertical = 'bottom';\n        }\n      } // Left and right logic\n\n\n      if (horizontal === 'auto') {\n        if (parent.width() < offset.left + widget.outerWidth() / 2 && offset.left + widget.outerWidth() > $(window).width()) {\n          horizontal = 'right';\n        } else {\n          horizontal = 'left';\n        }\n      }\n\n      if (vertical === 'top') {\n        widget.addClass('top').removeClass('bottom');\n      } else {\n        widget.addClass('bottom').removeClass('top');\n      }\n\n      if (horizontal === 'right') {\n        widget.addClass('pull-right');\n      } else {\n        widget.removeClass('pull-right');\n      } // find the first parent element that has a relative css positioning\n\n\n      if (parent.css('position') !== 'relative') {\n        parent = parent.parents().filter(function () {\n          return $(this).css('position') === 'relative';\n        }).first();\n      }\n\n      if (parent.length === 0) {\n        throw new Error('datetimepicker component should be placed within a relative positioned container');\n      }\n\n      widget.css({\n        top: vertical === 'top' ? 'auto' : position.top + element.outerHeight(),\n        bottom: vertical === 'top' ? position.top + element.outerHeight() : 'auto',\n        left: horizontal === 'left' ? parent === element ? 0 : position.left : 'auto',\n        right: horizontal === 'left' ? 'auto' : parent.outerWidth() - element.outerWidth() - (parent === element ? 0 : position.left)\n      });\n    },\n        notifyEvent = function (e) {\n      if (e.type === 'dp.change' && (e.date && e.date.isSame(e.oldDate) || !e.date && !e.oldDate)) {\n        return;\n      }\n\n      element.trigger(e);\n    },\n        viewUpdate = function (e) {\n      if (e === 'y') {\n        e = 'YYYY';\n      }\n\n      if (e === 'M') {\n        e = 'YYYY MMMM';\n      }\n\n      notifyEvent({\n        type: 'dp.update',\n        change: e,\n        viewDate: viewDate.clone()\n      });\n    },\n        showMode = function (dir) {\n      if (!widget) {\n        return;\n      }\n\n      if (dir) {\n        currentViewMode = Math.max(minViewModeNumber, Math.min(2, currentViewMode + dir));\n      }\n\n      widget.find('.datepicker > div').hide().filter('.datepicker-' + datePickerModes[currentViewMode].clsName).show();\n    },\n        fillDow = function () {\n      var row = $('<tr>'),\n          currentDate = viewDate.clone().startOf('w').startOf('day');\n\n      if (options.calendarWeeks === true) {\n        row.append($('<th>').addClass('cw').text('#'));\n      }\n\n      while (currentDate.isBefore(viewDate.clone().endOf('w'))) {\n        row.append($('<th>').addClass('dow').text(currentDate.format('dd')));\n        currentDate.add(1, 'days');\n      }\n\n      widget.find('.datepicker-days thead').append(row);\n    },\n        isInDisabledDates = function (testDate) {\n      return options.disabledDates[testDate.format('YYYY-MM-DD')] === true;\n    },\n        isInEnabledDates = function (testDate) {\n      return options.enabledDates[testDate.format('YYYY-MM-DD')] === true;\n    },\n        isInDisabledHours = function (testDate) {\n      return options.disabledHours[testDate.format('H')] === true;\n    },\n        isInEnabledHours = function (testDate) {\n      return options.enabledHours[testDate.format('H')] === true;\n    },\n        isValid = function (targetMoment, granularity) {\n      if (!targetMoment.isValid()) {\n        return false;\n      }\n\n      if (options.disabledDates && granularity === 'd' && isInDisabledDates(targetMoment)) {\n        return false;\n      }\n\n      if (options.enabledDates && granularity === 'd' && !isInEnabledDates(targetMoment)) {\n        return false;\n      }\n\n      if (options.minDate && targetMoment.isBefore(options.minDate, granularity)) {\n        return false;\n      }\n\n      if (options.maxDate && targetMoment.isAfter(options.maxDate, granularity)) {\n        return false;\n      }\n\n      if (options.daysOfWeekDisabled && granularity === 'd' && options.daysOfWeekDisabled.indexOf(targetMoment.day()) !== -1) {\n        return false;\n      }\n\n      if (options.disabledHours && (granularity === 'h' || granularity === 'm' || granularity === 's') && isInDisabledHours(targetMoment)) {\n        return false;\n      }\n\n      if (options.enabledHours && (granularity === 'h' || granularity === 'm' || granularity === 's') && !isInEnabledHours(targetMoment)) {\n        return false;\n      }\n\n      if (options.disabledTimeIntervals && (granularity === 'h' || granularity === 'm' || granularity === 's')) {\n        var found = false;\n        $.each(options.disabledTimeIntervals, function () {\n          if (targetMoment.isBetween(this[0], this[1])) {\n            found = true;\n            return false;\n          }\n        });\n\n        if (found) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n        isValidHijriYear = function (hijriYear) {\n      let year = parseInt(hijriYear);\n      let maxDate = parseInt(options.maxDate.format('iYYYY'));\n      let minDate = parseInt(options.minDate.format(\"iYYYY\"));\n      return year >= minDate && year <= maxDate;\n    },\n        isValidHijriDate = function (targetMoment) {\n      if (!targetMoment.isValid()) return;\n      let month = parseInt(targetMoment.format('iYYYYiMMiDD'));\n      let maxDate = parseInt(options.maxDate.format('iYYYYiMMiDD'));\n      let minDate = parseInt(options.minDate.format(\"iYYYYiMMiDD\"));\n      let result = month >= minDate && month <= maxDate;\n      return result;\n    },\n        isValidHijriMonth = function (targetMoment) {\n      if (!targetMoment.isValid()) return;\n      let month = parseInt(targetMoment.format('iYYYYiMM'));\n      let maxDate = parseInt(options.maxDate.format('iYYYYiMM'));\n      let minDate = parseInt(options.minDate.format(\"iYYYYiMM\"));\n      let result = month >= minDate && month <= maxDate;\n      return result;\n    },\n        fillMonths = function () {\n      var spans = [],\n          monthsShort = viewDate.clone().startOf('y').startOf('day');\n\n      while (monthsShort.isSame(viewDate, 'years')) {\n        spans.push($('<span>').attr('data-action', 'selectMonth').addClass('month').text(monthsShort.format('MMM')));\n        monthsShort.add(1, 'months');\n      }\n\n      widget.find('.datepicker-months td').empty().append(spans);\n    },\n        fillHijriMonths = function () {\n      let spans = [];\n      let monthsShort = viewDate.clone().startOf('hy').hour(12); // hour is changed to avoid DST issues in some browsers\n\n      let currentMonth = 1;\n\n      while (monthsShort.iYear() === viewDate.iYear()) {\n        spans.push($('<span>').attr('data-action', 'selectMonth').attr('data-month', currentMonth).addClass('month').text(monthsShort.format('iMMM')));\n        monthsShort.add(1, 'iMonth');\n        currentMonth++;\n      }\n\n      widget.find('.datepicker-months td').empty().append(spans);\n    },\n        updateHijriMonths = function () {\n      let monthsView = widget.find('.datepicker-months');\n      let monthsViewHeader = monthsView.find('th');\n      let months = monthsView.find('tbody').find('span');\n      monthsViewHeader.eq(0).find('span').attr('title', options.tooltips.prevYear);\n      monthsViewHeader.eq(1).attr('title', options.tooltips.selectYear);\n      monthsViewHeader.eq(2).find('span').attr('title', options.tooltips.nextYear);\n      monthsView.find('.disabled').removeClass('disabled');\n      monthsViewHeader.eq(1).text(viewDate.iYear());\n\n      if (!isValidHijriYear(viewDate.clone().subtract(1, 'iYear').format('iYYYY'))) {\n        monthsViewHeader.eq(0).addClass('disabled');\n      }\n\n      if (!isValidHijriYear(viewDate.clone().add(1, 'iYear').format('iYYYY'))) {\n        monthsViewHeader.eq(2).addClass('disabled');\n      }\n\n      months.removeClass('active');\n      let currentViewDate = viewDate.clone();\n      let currentDateFormat = currentViewDate.format(\"iYYYY-iM\") + \"-01\";\n      let currentDate = moment(currentDateFormat, 'iYYYY-iM-iD');\n      months.each(function (index) {\n        let monthFormat = currentDate.format(\"iYYYY-\") + (index + 1) + \"-1\";\n        let dateToValidate = moment(monthFormat, \"iYYYY-iM-iD\");\n        let selectedMonth = date.format('iM');\n\n        if (date.isSame(viewDate, 'iM') && selectedMonth && $(this).attr('data-month') == selectedMonth) {\n          $(this).addClass('active');\n        }\n\n        if (!isValidHijriMonth(dateToValidate)) {\n          $(this).addClass('disabled');\n        }\n      });\n    },\n        updateHijriYears = function () {\n      let yearsView = widget.find('.datepicker-years');\n      let yearsViewHeader = yearsView.find('th');\n      let startYear = viewDate.clone().subtract(5, 'iYear');\n      let endYear = viewDate.clone().add(6, 'iYear');\n      let html = $('<div></div>');\n      yearsViewHeader.eq(0).find('span').attr('title', options.tooltips.prevDecade);\n      yearsViewHeader.eq(1).attr('title', options.tooltips.selectDecade);\n      yearsViewHeader.eq(2).find('span').attr('title', options.tooltips.nextDecade);\n      yearsViewHeader.eq(1).text(startYear.iYear() + '-' + endYear.iYear());\n      yearsView.find('.disabled').removeClass('disabled');\n\n      if (options.minDate && options.minDate.isAfter(startYear, 'iy')) {\n        yearsViewHeader.eq(0).addClass('disabled');\n      }\n\n      if (options.maxDate && options.maxDate.isBefore(endYear, 'iy')) {\n        yearsViewHeader.eq(2).addClass('disabled');\n      }\n\n      if (startYear.iYear() == 1355) return;\n\n      while (!startYear.isAfter(endYear, 'y')) {\n        let span = $('<span data-action=\"selectYear\" class=\"year\"></span>');\n        let isActive = startYear.iYear() === date.iYear();\n        let isDisabled = !isValidHijriYear(startYear.format('iYYYY'));\n        span.html(startYear.iYear());\n        if (isActive) span.addClass(\"active\");\n        if (isDisabled) span.addClass('disabled');\n        html.append(span);\n        startYear.add(1, 'iYear');\n      }\n\n      yearsView.find('td').html(html);\n    },\n        updateMonths = function () {\n      let monthsView = widget.find('.datepicker-months'),\n          monthsViewHeader = monthsView.find('th'),\n          months = monthsView.find('tbody').find('span');\n      monthsViewHeader.eq(0).find('span').attr('title', options.tooltips.prevYear);\n      monthsViewHeader.eq(1).attr('title', options.tooltips.selectYear);\n      monthsViewHeader.eq(2).find('span').attr('title', options.tooltips.nextYear);\n      monthsView.find('.disabled').removeClass('disabled');\n\n      if (!isValid(viewDate.clone().subtract(1, 'years'), 'y')) {\n        monthsViewHeader.eq(0).addClass('disabled');\n      }\n\n      monthsViewHeader.eq(1).text(viewDate.year());\n\n      if (!isValid(viewDate.clone().add(1, 'y'), 'y')) {\n        monthsViewHeader.eq(2).addClass('disabled');\n      }\n\n      months.removeClass('active');\n\n      if (date.isSame(viewDate, 'y') && !unset) {\n        months.eq(date.month()).addClass('active');\n      }\n\n      months.each(function (index) {\n        if (!isValid(viewDate.clone().month(index), 'M')) {\n          $(this).addClass('disabled');\n        }\n      });\n    },\n        updateYears = function () {\n      var yearsView = widget.find('.datepicker-years'),\n          yearsViewHeader = yearsView.find('th'),\n          startYear = viewDate.clone().subtract(5, 'y'),\n          endYear = viewDate.clone().add(6, 'y'),\n          html = '';\n      yearsViewHeader.eq(0).find('span').attr('title', options.tooltips.prevDecade);\n      yearsViewHeader.eq(1).attr('title', options.tooltips.selectDecade);\n      yearsViewHeader.eq(2).find('span').attr('title', options.tooltips.nextDecade);\n      yearsView.find('.disabled').removeClass('disabled');\n\n      if (options.minDate && options.minDate.isAfter(startYear, 'y')) {\n        yearsViewHeader.eq(0).addClass('disabled');\n      }\n\n      yearsViewHeader.eq(1).text(startYear.year() + '-' + endYear.year());\n\n      if (options.maxDate && options.maxDate.isBefore(endYear, 'y')) {\n        yearsViewHeader.eq(2).addClass('disabled');\n      }\n\n      while (!startYear.isAfter(endYear, 'y')) {\n        html += '<span data-action=\"selectYear\" class=\"year' + (startYear.isSame(date, 'y') && !unset ? ' active' : '') + (!isValid(startYear, 'y') ? ' disabled' : '') + '\">' + startYear.year() + '</span>';\n        startYear.add(1, 'y');\n      }\n\n      yearsView.find('td').html(html);\n    },\n        fillDate = function () {\n      if (options.hijri) {\n        fillHijriDate();\n        return;\n      }\n\n      var daysView = widget.find('.datepicker-days'),\n          daysViewHeader = daysView.find('th'),\n          currentDate,\n          html = [],\n          row,\n          clsName,\n          i;\n\n      if (!hasDate()) {\n        return;\n      }\n\n      daysViewHeader.eq(0).find('span').attr('title', options.tooltips.prevMonth);\n      daysViewHeader.eq(1).attr('title', options.tooltips.selectMonth);\n      daysViewHeader.eq(2).find('span').attr('title', options.tooltips.nextMonth);\n      daysView.find('.disabled').removeClass('disabled');\n      daysViewHeader.eq(1).text(viewDate.format(options.dayViewHeaderFormat));\n\n      if (!isValid(viewDate.clone().subtract(1, 'months'), 'months')) {\n        daysViewHeader.eq(0).addClass('disabled');\n      }\n\n      if (!isValid(viewDate.clone().add(1, 'months'), 'months')) {\n        daysViewHeader.eq(2).addClass('disabled');\n      }\n\n      currentDate = viewDate.clone().startOf('months').startOf('weeks').startOf('days');\n\n      for (i = 0; i < 42; i++) {\n        //always display 42 days (should show 6 weeks)\n        if (currentDate.weekday() === 0) {\n          row = $('<tr>');\n\n          if (options.calendarWeeks) {\n            row.append('<td class=\"cw\">' + currentDate.week() + '</td>');\n          }\n\n          html.push(row);\n        }\n\n        clsName = '';\n\n        if (currentDate.isBefore(viewDate, 'months')) {\n          clsName += ' old';\n        }\n\n        if (currentDate.isAfter(viewDate, 'months')) {\n          clsName += ' new';\n        }\n\n        if (currentDate.isSame(date, 'days') && !unset) {\n          clsName += ' active';\n        }\n\n        if (!isValid(currentDate, 'days')) {\n          clsName += ' disabled';\n        }\n\n        if (currentDate.isSame(getMoment(), 'days')) {\n          clsName += ' today';\n        }\n\n        if (currentDate.day() === 6 || currentDate.day() === 5) {\n          clsName += ' weekend';\n        }\n\n        row.append('<td data-action=\"selectDay\" data-day=\"' + currentDate.format('L') + '\" class=\"day' + clsName + '\">' + currentDate.date() + '</td>');\n        currentDate.add(1, 'days');\n      }\n\n      daysView.find('tbody').empty().append(html);\n      updateMonths();\n      updateYears(); //updateDecades();\n    },\n        fillHijriDate = function () {\n      var daysView = widget.find('.datepicker-days'),\n          daysViewHeader = daysView.find('th'),\n          currentDate,\n          html = [],\n          row,\n          clsName,\n          i;\n\n      if (!hasDate()) {\n        return;\n      }\n\n      daysViewHeader.eq(0).find('span').attr('title', options.tooltips.prevMonth);\n      daysViewHeader.eq(1).attr('title', options.tooltips.selectMonth);\n      daysViewHeader.eq(2).find('span').attr('title', options.tooltips.nextMonth);\n      daysView.find('.disabled').removeClass('disabled');\n      daysViewHeader.eq(1).text(viewDate.format(options.hijriDayViewHeaderFormat));\n\n      if (!isValid(viewDate.clone().subtract(1, 'iMonth'), 'iMonth')) {\n        daysViewHeader.eq(0).addClass('disabled');\n      }\n\n      if (!isValid(viewDate.clone().add(1, 'iMonth'), 'iMonth')) {\n        daysViewHeader.eq(2).addClass('disabled');\n      }\n\n      currentDate = viewDate.clone().startOf('iMonth').startOf('week');\n\n      for (i = 0; i < 42; i++) {\n        // always display 42 days (should be show 6 weeks)\n        if (currentDate.weekday() === 0) {\n          row = $('<tr>');\n\n          if (options.calendarWeeks) {\n            row.append('<td class=\"cw\">' + currentDate.week() + '</td>');\n          }\n\n          html.push(row);\n        }\n\n        clsName = '';\n\n        if (currentDate.iMonth() < viewDate.iMonth()) {\n          clsName += ' old';\n        }\n\n        if (currentDate.iMonth() > viewDate.iMonth()) {\n          clsName += ' new';\n        }\n\n        if (currentDate.isSame(date, 'd') && !unset) {\n          clsName += ' active';\n        }\n\n        if (!isValid(currentDate, 'd')) {\n          clsName += ' disabled';\n        }\n\n        if (currentDate.isSame(moment(), 'd')) {\n          clsName += ' today';\n        }\n\n        if (currentDate.day() === 5 || currentDate.day() === 6) {\n          clsName += ' weekend';\n        }\n\n        row.append('<td data-action=\"selectDay\" data-mday=\"' + currentDate.date() + '\" data-day=\"' + currentDate.format('L') + '\" class=\"day' + clsName + '\">' + currentDate.iDate() + '</td>'); //row.append('<td data-action=\"selectDay\" data-day=\"' + currentDate.date() + '\" class=\"day' + clsName + '\">' + currentDate.hDate() + '</td>');\n\n        currentDate.add(1, 'days');\n      }\n\n      daysView.find('tbody').empty().append(html);\n      updateHijriMonths();\n      updateHijriYears(); //updateHijriDecades();\n    },\n        fillHours = function () {\n      var table = widget.find('.timepicker-hours table'),\n          currentHour = viewDate.clone().startOf('day'),\n          html = [],\n          row = $('<tr>');\n\n      if (viewDate.hour() > 11 && !use24Hours) {\n        currentHour.hour(12);\n      }\n\n      while (currentHour.isSame(viewDate, 'd') && (use24Hours || viewDate.hour() < 12 && currentHour.hour() < 12 || viewDate.hour() > 11)) {\n        if (currentHour.hour() % 4 === 0) {\n          row = $('<tr>');\n          html.push(row);\n        }\n\n        row.append('<td data-action=\"selectHour\" class=\"hour' + (!isValid(currentHour, 'h') ? ' disabled' : '') + '\">' + currentHour.format(use24Hours ? 'HH' : 'hh') + '</td>');\n        currentHour.add(1, 'h');\n      }\n\n      table.empty().append(html);\n    },\n        fillMinutes = function () {\n      var table = widget.find('.timepicker-minutes table'),\n          currentMinute = viewDate.clone().startOf('h'),\n          html = [],\n          row = $('<tr>'),\n          step = options.stepping === 1 ? 5 : options.stepping;\n\n      while (viewDate.isSame(currentMinute, 'h')) {\n        if (currentMinute.minute() % (step * 4) === 0) {\n          row = $('<tr>');\n          html.push(row);\n        }\n\n        row.append('<td data-action=\"selectMinute\" class=\"minute' + (!isValid(currentMinute, 'm') ? ' disabled' : '') + '\">' + currentMinute.format('mm') + '</td>');\n        currentMinute.add(step, 'm');\n      }\n\n      table.empty().append(html);\n    },\n        fillSeconds = function () {\n      var table = widget.find('.timepicker-seconds table'),\n          currentSecond = viewDate.clone().startOf('m'),\n          html = [],\n          row = $('<tr>');\n\n      while (viewDate.isSame(currentSecond, 'm')) {\n        if (currentSecond.second() % 20 === 0) {\n          row = $('<tr>');\n          html.push(row);\n        }\n\n        row.append('<td data-action=\"selectSecond\" class=\"second' + (!isValid(currentSecond, 's') ? ' disabled' : '') + '\">' + currentSecond.format('ss') + '</td>');\n        currentSecond.add(5, 's');\n      }\n\n      table.empty().append(html);\n    },\n        fillTime = function () {\n      var toggle,\n          newDate,\n          timeComponents = widget.find('.timepicker span[data-time-component]');\n\n      if (!use24Hours) {\n        toggle = widget.find('.timepicker [data-action=togglePeriod]');\n        newDate = date.clone().add(date.hours() >= 12 ? -12 : 12, 'h');\n        toggle.text(date.format('A'));\n\n        if (isValid(newDate, 'h')) {\n          toggle.removeClass('disabled');\n        } else {\n          toggle.addClass('disabled');\n        }\n      }\n\n      timeComponents.filter('[data-time-component=hours]').text(date.format(use24Hours ? 'HH' : 'hh'));\n      timeComponents.filter('[data-time-component=minutes]').text(date.format('mm'));\n      timeComponents.filter('[data-time-component=seconds]').text(date.format('ss'));\n      fillHours();\n      fillMinutes();\n      fillSeconds();\n    },\n        update = function () {\n      if (!widget) {\n        return;\n      }\n\n      fillDate();\n      fillTime();\n    },\n        setValue = function (targetMoment) {\n      var oldDate = unset ? null : date; // case of calling setValue(null or false)\n\n      if (!targetMoment) {\n        unset = true;\n        input.val('');\n        element.data('date', '');\n        notifyEvent({\n          type: 'dp.change',\n          date: false,\n          oldDate: oldDate\n        });\n        update();\n        return;\n      }\n\n      targetMoment = targetMoment.clone().locale(options.locale);\n\n      if (options.stepping !== 1) {\n        targetMoment.minutes(Math.round(targetMoment.minutes() / options.stepping) * options.stepping % 60).seconds(0);\n      }\n\n      if (isValid(targetMoment)) {\n        date = targetMoment;\n        viewDate = date.clone();\n        input.val(date.format(actualFormat));\n        element.data('date', date.format(actualFormat));\n        unset = false;\n        update();\n        notifyEvent({\n          type: 'dp.change',\n          date: date.clone(),\n          oldDate: oldDate\n        });\n      } else {\n        if (!options.keepInvalid) {\n          input.val(unset ? '' : date.format(actualFormat));\n        }\n\n        notifyEvent({\n          type: 'dp.error',\n          date: targetMoment\n        });\n      }\n    },\n        hide = function () {\n      ///<summary>Hides the widget. Possibly will emit dp.hide</summary>\n      var transitioning = false;\n\n      if (!widget) {\n        return picker;\n      } // Ignore event if in the middle of a picker transition\n\n\n      widget.find('.collapse').each(function () {\n        var collapseData = $(this).data('collapse');\n\n        if (collapseData && collapseData.transitioning) {\n          transitioning = true;\n          return false;\n        }\n\n        return true;\n      });\n\n      if (transitioning) {\n        return picker;\n      }\n\n      if (component && component.hasClass('btn')) {\n        component.toggleClass('active');\n      }\n\n      widget.hide();\n      $(window).off('resize', place);\n      widget.off('click', '[data-action]');\n      widget.off('mousedown', false);\n      widget.remove();\n      widget = false;\n      notifyEvent({\n        type: 'dp.hide',\n        date: date.clone()\n      });\n      input.blur();\n      return picker;\n    },\n        clear = function () {\n      setValue(null);\n    },\n\n    /********************************************************************************\n     *\n     * Widget UI interaction functions\n     *\n     ********************************************************************************/\n    actions = {\n      next: function () {\n        var navFnc = datePickerModes[currentViewMode].navFnc;\n        viewDate.add(datePickerModes[currentViewMode].navStep, navFnc);\n\n        if (options.hijri) {\n          fillHijriDate();\n        } else {\n          fillDate();\n        }\n\n        viewUpdate(navFnc);\n      },\n      previous: function () {\n        var navFnc = datePickerModes[currentViewMode].navFnc;\n        viewDate.subtract(datePickerModes[currentViewMode].navStep, navFnc);\n\n        if (options.hijri) {\n          fillHijriDate();\n        } else {\n          fillDate();\n        }\n\n        viewUpdate(navFnc);\n      },\n      pickerSwitch: function () {\n        showMode(1);\n      },\n      selectMonth: function (e) {\n        var month = $(e.target).closest('tbody').find('span').index($(e.target));\n\n        if (options.hijri) {\n          viewDate.iMonth(month);\n        } else {\n          viewDate.month(month);\n        }\n\n        if (currentViewMode === minViewModeNumber) {\n          if (options.hijri) {\n            setValue(date.clone().year(viewDate.iYear()).month(viewDate.iMonth()));\n          } else {\n            setValue(date.clone().year(viewDate.year()).month(viewDate.month()));\n          }\n\n          if (!options.inline) {\n            hide();\n          }\n        } else {\n          showMode(-1);\n          fillDate();\n        }\n\n        if (options.hijri) {\n          viewUpdate('iM');\n        } else {\n          viewUpdate('M');\n        }\n      },\n      selectYear: function (e) {\n        var year = parseInt($(e.target).text(), 10) || 0;\n\n        if (options.hijri) {\n          viewDate.iYear(year);\n        } else {\n          viewDate.year(year);\n        }\n\n        if (currentViewMode === minViewModeNumber) {\n          if (options.hijri) {\n            setValue(date.clone().iYear(viewDate.iYear()));\n          } else {\n            setValue(date.clone().year(viewDate.year()));\n          }\n\n          if (!options.inline) {\n            hide();\n          }\n        } else {\n          showMode(-1);\n          fillDate();\n        }\n\n        if (options.hijri) {\n          viewUpdate('hYYYY');\n        } else {\n          viewUpdate('YYYY');\n        }\n      },\n      selectDecade: function (e) {\n        var year = parseInt($(e.target).data('selection'), 10) || 0;\n\n        if (options.hijri) {\n          viewDate.iYear(year);\n        } else {\n          viewDate.year(year);\n        }\n\n        if (currentViewMode === minViewModeNumber) {\n          if (options.hijri) {\n            setValue(date.clone().iYear(viewDate.iYear()));\n          } else {\n            setValue(date.clone().year(viewDate.year()));\n          }\n\n          if (!options.inline) {\n            hide();\n          }\n        } else {\n          showMode(-1);\n          fillDate();\n        }\n\n        if (options.hijri) {\n          viewUpdate('hYYYY');\n        } else {\n          viewUpdate('YYYY');\n        }\n      },\n      selectDay: function (e) {\n        var day = viewDate.clone();\n\n        if (options.hijri) {\n          if ($(e.target).is('.old')) {\n            day.subtract(1, 'iMonth');\n          }\n\n          if ($(e.target).is('.new')) {\n            day.add(1, 'iMonth');\n          }\n\n          setValue(day.iDate(parseInt($(e.target).text(), 10)));\n        } else {\n          if ($(e.target).is('.old')) {\n            day.subtract(1, 'months');\n          }\n\n          if ($(e.target).is('.new')) {\n            day.add(1, 'months');\n          }\n\n          setValue(day.date(parseInt($(e.target).text(), 10)));\n        }\n\n        if (!hasTime() && !options.keepOpen && !options.inline) {\n          hide();\n        }\n      },\n      incrementHours: function () {\n        var newDate = date.clone().add(1, 'h');\n\n        if (isValid(newDate, 'h')) {\n          setValue(newDate);\n        }\n      },\n      incrementMinutes: function () {\n        var newDate = date.clone().add(options.stepping, 'm');\n\n        if (isValid(newDate, 'm')) {\n          setValue(newDate);\n        }\n      },\n      incrementSeconds: function () {\n        var newDate = date.clone().add(1, 's');\n\n        if (isValid(newDate, 's')) {\n          setValue(newDate);\n        }\n      },\n      decrementHours: function () {\n        var newDate = date.clone().subtract(1, 'h');\n\n        if (isValid(newDate, 'h')) {\n          setValue(newDate);\n        }\n      },\n      decrementMinutes: function () {\n        var newDate = date.clone().subtract(options.stepping, 'm');\n\n        if (isValid(newDate, 'm')) {\n          setValue(newDate);\n        }\n      },\n      decrementSeconds: function () {\n        var newDate = date.clone().subtract(1, 's');\n\n        if (isValid(newDate, 's')) {\n          setValue(newDate);\n        }\n      },\n      togglePeriod: function () {\n        setValue(date.clone().add(date.hours() >= 12 ? -12 : 12, 'h'));\n      },\n      togglePicker: function (e) {\n        var $this = $(e.target),\n            $parent = $this.closest('ul'),\n            expanded = $parent.find('.in'),\n            closed = $parent.find('.collapse:not(.in)'),\n            collapseData;\n\n        if (expanded && expanded.length) {\n          collapseData = expanded.data('collapse');\n\n          if (collapseData && collapseData.transitioning) {\n            return;\n          }\n\n          if (expanded.collapse) {\n            // if collapse plugin is available through bootstrap.js then use it\n            expanded.collapse('hide');\n            closed.collapse('show');\n          } else {\n            // otherwise just toggle in class on the two views\n            expanded.removeClass('in');\n            closed.addClass('in');\n          }\n\n          if ($this.is('span')) {\n            $this.toggleClass(options.icons.time + ' ' + options.icons.date);\n          } else {\n            $this.find('span').toggleClass(options.icons.time + ' ' + options.icons.date);\n          } // NOTE: uncomment if toggled state will be restored in show()\n          //if (component) {\n          //    component.find('span').toggleClass(options.icons.time + ' ' + options.icons.date);\n          //}\n\n        }\n      },\n      showPicker: function () {\n        widget.find('.timepicker > div:not(.timepicker-picker)').hide();\n        widget.find('.timepicker .timepicker-picker').show();\n      },\n      showHours: function () {\n        widget.find('.timepicker .timepicker-picker').hide();\n        widget.find('.timepicker .timepicker-hours').show();\n      },\n      showMinutes: function () {\n        widget.find('.timepicker .timepicker-picker').hide();\n        widget.find('.timepicker .timepicker-minutes').show();\n      },\n      showSeconds: function () {\n        widget.find('.timepicker .timepicker-picker').hide();\n        widget.find('.timepicker .timepicker-seconds').show();\n      },\n      selectHour: function (e) {\n        var hour = parseInt($(e.target).text(), 10);\n\n        if (!use24Hours) {\n          if (date.hours() >= 12) {\n            if (hour !== 12) {\n              hour += 12;\n            }\n          } else {\n            if (hour === 12) {\n              hour = 0;\n            }\n          }\n        }\n\n        setValue(date.clone().hours(hour));\n        actions.showPicker.call(picker);\n      },\n      selectMinute: function (e) {\n        setValue(date.clone().minutes(parseInt($(e.target).text(), 10)));\n        actions.showPicker.call(picker);\n      },\n      selectSecond: function (e) {\n        setValue(date.clone().seconds(parseInt($(e.target).text(), 10)));\n        actions.showPicker.call(picker);\n      },\n      clear: clear,\n      today: function () {\n        var todaysDate = getMoment();\n\n        if (isValid(todaysDate, 'd')) {\n          setValue(todaysDate);\n        }\n      },\n      close: hide,\n      switchDate: function () {\n        if (options.hijri) {\n          options.hijri = false;\n          fillDate();\n          fillMonths();\n          initFormatting();\n          $(\".data-switch-button\").html(options.hijriText);\n        } else {\n          options.hijri = true;\n          fillHijriDate();\n          fillHijriMonths();\n          initFormatting();\n          $(\".data-switch-button\").html(options.gregorianText);\n        }\n      }\n    },\n        doAction = function (e) {\n      if ($(e.currentTarget).is('.disabled')) {\n        return false;\n      }\n\n      actions[$(e.currentTarget).data('action')].apply(picker, arguments);\n      return false;\n    },\n        show = function () {\n      ///<summary>Shows the widget. Possibly will emit dp.show and dp.change</summary>\n      var currentMoment,\n          useCurrentGranularity = {\n        'year': function (m) {\n          return m.month(0).date(1).hours(0).seconds(0).minutes(0);\n        },\n        'month': function (m) {\n          return m.date(1).hours(0).seconds(0).minutes(0);\n        },\n        'day': function (m) {\n          return m.hours(0).seconds(0).minutes(0);\n        },\n        'hour': function (m) {\n          return m.seconds(0).minutes(0);\n        },\n        'minute': function (m) {\n          return m.seconds(0);\n        }\n      };\n\n      if (input.prop('disabled') || !options.ignoreReadonly && input.prop('readonly') || widget) {\n        return picker;\n      }\n\n      if (input.val() !== undefined && input.val().trim().length !== 0) {\n        setValue(parseInputDate(input.val().trim()));\n      } else if (options.useCurrent && unset && (input.is('input') && input.val().trim().length === 0 || options.inline)) {\n        currentMoment = getMoment();\n\n        if (typeof options.useCurrent === 'string') {\n          currentMoment = useCurrentGranularity[options.useCurrent](currentMoment);\n        }\n\n        setValue(currentMoment);\n      }\n\n      widget = getTemplate();\n      fillDow();\n\n      if (options.hijri) {\n        fillHijriMonths();\n      } else {\n        fillMonths();\n      }\n\n      widget.find('.timepicker-hours').hide();\n      widget.find('.timepicker-minutes').hide();\n      widget.find('.timepicker-seconds').hide();\n      update();\n      showMode();\n      $(window).on('resize', place);\n      widget.on('click', '[data-action]', doAction); // this handles clicks on the widget\n\n      widget.on('mousedown', false);\n\n      if (component && component.hasClass('btn')) {\n        component.toggleClass('active');\n      }\n\n      widget.show();\n      place();\n\n      if (options.focusOnShow && !input.is(':focus')) {\n        input.focus();\n      }\n\n      notifyEvent({\n        type: 'dp.show'\n      });\n      return picker;\n    },\n        toggle = function () {\n      /// <summary>Shows or hides the widget</summary>\n      return widget ? hide() : show();\n    },\n        parseInputDate = function (inputDate) {\n      if (options.parseInputDate === undefined) {\n        if (moment.isMoment(inputDate) || inputDate instanceof Date) {\n          inputDate = moment(inputDate);\n        } else {\n          inputDate = getMoment(inputDate);\n        }\n      } else {\n        inputDate = options.parseInputDate(inputDate);\n      }\n\n      inputDate.locale(options.locale);\n      return inputDate;\n    },\n        keydown = function (e) {\n      var handler = null,\n          index,\n          index2,\n          pressedKeys = [],\n          pressedModifiers = {},\n          currentKey = e.which,\n          keyBindKeys,\n          allModifiersPressed,\n          pressed = 'p';\n      keyState[currentKey] = pressed;\n\n      for (index in keyState) {\n        if (keyState.hasOwnProperty(index) && keyState[index] === pressed) {\n          pressedKeys.push(index);\n\n          if (parseInt(index, 10) !== currentKey) {\n            pressedModifiers[index] = true;\n          }\n        }\n      }\n\n      for (index in options.keyBinds) {\n        if (options.keyBinds.hasOwnProperty(index) && typeof options.keyBinds[index] === 'function') {\n          keyBindKeys = index.split(' ');\n\n          if (keyBindKeys.length === pressedKeys.length && keyMap[currentKey] === keyBindKeys[keyBindKeys.length - 1]) {\n            allModifiersPressed = true;\n\n            for (index2 = keyBindKeys.length - 2; index2 >= 0; index2--) {\n              if (!(keyMap[keyBindKeys[index2]] in pressedModifiers)) {\n                allModifiersPressed = false;\n                break;\n              }\n            }\n\n            if (allModifiersPressed) {\n              handler = options.keyBinds[index];\n              break;\n            }\n          }\n        }\n      }\n\n      if (handler) {\n        handler.call(picker, widget);\n        e.stopPropagation();\n        e.preventDefault();\n      }\n    },\n        keyup = function (e) {\n      keyState[e.which] = 'r';\n      e.stopPropagation();\n      e.preventDefault();\n    },\n        change = function (e) {\n      var val = $(e.target).val().trim(),\n          parsedDate = val ? parseInputDate(val) : null;\n      setValue(parsedDate);\n      e.stopImmediatePropagation();\n      return false;\n    },\n        attachDatePickerElementEvents = function () {\n      input.on({\n        'change': change,\n        'blur': options.debug ? '' : hide,\n        'keydown': keydown,\n        'keyup': keyup,\n        'focus': options.allowInputToggle ? show : ''\n      });\n\n      if (element.is('input')) {\n        input.on({\n          'focus': show\n        });\n      } else if (component) {\n        component.on('click', toggle);\n        component.on('mousedown', false);\n      }\n    },\n        detachDatePickerElementEvents = function () {\n      input.off({\n        'change': change,\n        'blur': blur,\n        'keydown': keydown,\n        'keyup': keyup,\n        'focus': options.allowInputToggle ? hide : ''\n      });\n\n      if (element.is('input')) {\n        input.off({\n          'focus': show\n        });\n      } else if (component) {\n        component.off('click', toggle);\n        component.off('mousedown', false);\n      }\n    },\n        indexGivenDates = function (givenDatesArray) {\n      // Store given enabledDates and disabledDates as keys.\n      // This way we can check their existence in O(1) time instead of looping through whole array.\n      // (for example: options.enabledDates['2014-02-27'] === true)\n      var givenDatesIndexed = {};\n      $.each(givenDatesArray, function () {\n        var dDate = parseInputDate(this);\n\n        if (dDate.isValid()) {\n          givenDatesIndexed[dDate.format('YYYY-MM-DD')] = true;\n        }\n      });\n      return Object.keys(givenDatesIndexed).length ? givenDatesIndexed : false;\n    },\n        indexGivenHours = function (givenHoursArray) {\n      // Store given enabledHours and disabledHours as keys.\n      // This way we can check their existence in O(1) time instead of looping through whole array.\n      // (for example: options.enabledHours['2014-02-27'] === true)\n      var givenHoursIndexed = {};\n      $.each(givenHoursArray, function () {\n        givenHoursIndexed[this] = true;\n      });\n      return Object.keys(givenHoursIndexed).length ? givenHoursIndexed : false;\n    },\n        initFormatting = function () {\n      var format = options.format || 'L LT';\n\n      if (options.hijri) {\n        format = options.hijriFormat;\n      }\n\n      actualFormat = format.replace(/(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g, function (formatInput) {\n        var newinput = date.localeData().longDateFormat(formatInput) || formatInput;\n        return newinput.replace(/(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g, function (formatInput2) {\n          //temp fix for #740\n          return date.localeData().longDateFormat(formatInput2) || formatInput2;\n        });\n      });\n      parseFormats = options.extraFormats ? options.extraFormats.slice() : [];\n\n      if (parseFormats.indexOf(format) < 0 && parseFormats.indexOf(actualFormat) < 0) {\n        parseFormats.push(actualFormat);\n      }\n\n      use24Hours = actualFormat.toLowerCase().indexOf('a') < 1 && actualFormat.replace(/\\[.*?\\]/g, '').indexOf('h') < 1;\n\n      if (isEnabled('y')) {\n        minViewModeNumber = 2;\n      }\n\n      if (isEnabled('M')) {\n        minViewModeNumber = 1;\n      }\n\n      if (isEnabled('d')) {\n        minViewModeNumber = 0;\n      }\n\n      currentViewMode = Math.max(minViewModeNumber, currentViewMode);\n\n      if (!unset) {\n        setValue(date);\n      }\n    };\n    /********************************************************************************\n     *\n     * Public API functions\n     * =====================\n     *\n     * Important: Do not expose direct references to private objects or the options\n     * object to the outer world. Always return a clone when returning values or make\n     * a clone when setting a private variable.\n     *\n     ********************************************************************************/\n\n\n    picker.destroy = function () {\n      ///<summary>Destroys the widget and removes all attached event listeners</summary>\n      hide();\n      detachDatePickerElementEvents();\n      element.removeData('HijriDatePicker');\n      element.removeData('date');\n    };\n\n    picker.toggle = toggle;\n    picker.show = show;\n    picker.hide = hide;\n\n    picker.disable = function () {\n      ///<summary>Disables the input element, the component is attached to, by adding a disabled=\"true\" attribute to it.\n      ///If the widget was visible before that call it is hidden. Possibly emits dp.hide</summary>\n      hide();\n\n      if (component && component.hasClass('btn')) {\n        component.addClass('disabled');\n      }\n\n      input.prop('disabled', true);\n      return picker;\n    };\n\n    picker.enable = function () {\n      ///<summary>Enables the input element, the component is attached to, by removing disabled attribute from it.</summary>\n      if (component && component.hasClass('btn')) {\n        component.removeClass('disabled');\n      }\n\n      input.prop('disabled', false);\n      return picker;\n    };\n\n    picker.ignoreReadonly = function (ignoreReadonly) {\n      if (arguments.length === 0) {\n        return options.ignoreReadonly;\n      }\n\n      if (typeof ignoreReadonly !== 'boolean') {\n        throw new TypeError('ignoreReadonly () expects a boolean parameter');\n      }\n\n      options.ignoreReadonly = ignoreReadonly;\n      return picker;\n    };\n\n    picker.options = function (newOptions) {\n      if (arguments.length === 0) {\n        return $.extend(true, {}, options);\n      }\n\n      if (!(newOptions instanceof Object)) {\n        throw new TypeError('options() options parameter should be an object');\n      }\n\n      $.extend(true, options, newOptions);\n      $.each(options, function (key, value) {\n        if (picker[key] !== undefined) {\n          picker[key](value);\n        } else {//throw new TypeError('option ' + key + ' is not recognized!');\n        }\n      });\n      return picker;\n    };\n\n    picker.date = function (newDate) {\n      ///<signature helpKeyword=\"$.fn.datetimepicker.date\">\n      ///<summary>Returns the component's model current date, a moment object or null if not set.</summary>\n      ///<returns type=\"Moment\">date.clone()</returns>\n      ///</signature>\n      ///<signature>\n      ///<summary>Sets the components model current moment to it. Passing a null value unsets the components model current moment. Parsing of the newDate parameter is made using moment library with the options.format and options.useStrict components configuration.</summary>\n      ///<param name=\"newDate\" locid=\"$.fn.datetimepicker.date_p:newDate\">Takes string, Date, moment, null parameter.</param>\n      ///</signature>\n      if (arguments.length === 0) {\n        if (unset) {\n          return null;\n        }\n\n        return date.clone();\n      }\n\n      if (newDate !== null && typeof newDate !== 'string' && !moment.isMoment(newDate) && !(newDate instanceof Date)) {\n        throw new TypeError('date() parameter must be one of [null, string, moment or Date]');\n      }\n\n      setValue(newDate === null ? null : parseInputDate(newDate));\n      return picker;\n    };\n\n    picker.format = function (newFormat) {\n      ///<summary>test su</summary>\n      ///<param name=\"newFormat\">info about para</param>\n      ///<returns type=\"string|boolean\">returns foo</returns>\n      if (arguments.length === 0) {\n        return options.format;\n      }\n\n      if (typeof newFormat !== 'string' && (typeof newFormat !== 'boolean' || newFormat !== false)) {\n        throw new TypeError('format() expects a sting or boolean:false parameter ' + newFormat);\n      }\n\n      options.format = newFormat;\n\n      if (actualFormat) {\n        initFormatting(); // reinit formatting\n      }\n\n      return picker;\n    };\n\n    picker.hijriFormat = function (newFormat) {/////<summary>test su</summary>\n      /////<param name=\"newFormat\">info about para</param>\n      /////<returns type=\"string|boolean\">returns foo</returns>\n      //if (arguments.length === 0) {\n      //    return options.format;\n      //}\n      //if ((typeof newFormat !== 'string') && ((typeof newFormat !== 'boolean') || (newFormat !== false))) {\n      //    throw new TypeError('format() expects a sting or boolean:false parameter ' + newFormat);\n      //}\n      //options.format = newFormat;\n      //if (actualFormat) {\n      //    initFormatting(); // reinit formatting\n      //}\n      //return picker;\n    };\n\n    picker.timeZone = function (newZone) {\n      if (arguments.length === 0) {\n        return options.timeZone;\n      }\n\n      options.timeZone = newZone;\n      return picker;\n    };\n\n    picker.dayViewHeaderFormat = function (newFormat) {\n      if (arguments.length === 0) {\n        return options.dayViewHeaderFormat;\n      }\n\n      if (typeof newFormat !== 'string') {\n        throw new TypeError('dayViewHeaderFormat() expects a string parameter');\n      }\n\n      options.dayViewHeaderFormat = newFormat;\n      return picker;\n    };\n\n    picker.hijriDayViewHeaderFormat = function (newFormat) {//if (arguments.length === 0) {\n      //    return options.dayViewHeaderFormat;\n      //}\n      //if (typeof newFormat !== 'string') {\n      //    throw new TypeError('dayViewHeaderFormat() expects a string parameter');\n      //}\n      //options.dayViewHeaderFormat = newFormat;\n      //return picker;\n    };\n\n    picker.extraFormats = function (formats) {\n      if (arguments.length === 0) {\n        return options.extraFormats;\n      }\n\n      if (formats !== false && !(formats instanceof Array)) {\n        throw new TypeError('extraFormats() expects an array or false parameter');\n      }\n\n      options.extraFormats = formats;\n\n      if (parseFormats) {\n        initFormatting(); // reinit formatting\n      }\n\n      return picker;\n    };\n\n    picker.disabledDates = function (dates) {\n      ///<signature helpKeyword=\"$.fn.datetimepicker.disabledDates\">\n      ///<summary>Returns an array with the currently set disabled dates on the component.</summary>\n      ///<returns type=\"array\">options.disabledDates</returns>\n      ///</signature>\n      ///<signature>\n      ///<summary>Setting this takes precedence over options.minDate, options.maxDate configuration. Also calling this function removes the configuration of\n      ///options.enabledDates if such exist.</summary>\n      ///<param name=\"dates\" locid=\"$.fn.datetimepicker.disabledDates_p:dates\">Takes an [ string or Date or moment ] of values and allows the user to select only from those days.</param>\n      ///</signature>\n      if (arguments.length === 0) {\n        return options.disabledDates ? $.extend({}, options.disabledDates) : options.disabledDates;\n      }\n\n      if (!dates) {\n        options.disabledDates = false;\n        update();\n        return picker;\n      }\n\n      if (!(dates instanceof Array)) {\n        throw new TypeError('disabledDates() expects an array parameter');\n      }\n\n      options.disabledDates = indexGivenDates(dates);\n      options.enabledDates = false;\n      update();\n      return picker;\n    };\n\n    picker.enabledDates = function (dates) {\n      ///<signature helpKeyword=\"$.fn.datetimepicker.enabledDates\">\n      ///<summary>Returns an array with the currently set enabled dates on the component.</summary>\n      ///<returns type=\"array\">options.enabledDates</returns>\n      ///</signature>\n      ///<signature>\n      ///<summary>Setting this takes precedence over options.minDate, options.maxDate configuration. Also calling this function removes the configuration of options.disabledDates if such exist.</summary>\n      ///<param name=\"dates\" locid=\"$.fn.datetimepicker.enabledDates_p:dates\">Takes an [ string or Date or moment ] of values and allows the user to select only from those days.</param>\n      ///</signature>\n      if (arguments.length === 0) {\n        return options.enabledDates ? $.extend({}, options.enabledDates) : options.enabledDates;\n      }\n\n      if (!dates) {\n        options.enabledDates = false;\n        update();\n        return picker;\n      }\n\n      if (!(dates instanceof Array)) {\n        throw new TypeError('enabledDates() expects an array parameter');\n      }\n\n      options.enabledDates = indexGivenDates(dates);\n      options.disabledDates = false;\n      update();\n      return picker;\n    };\n\n    picker.daysOfWeekDisabled = function (daysOfWeekDisabled) {\n      if (arguments.length === 0) {\n        return options.daysOfWeekDisabled.splice(0);\n      }\n\n      if (typeof daysOfWeekDisabled === 'boolean' && !daysOfWeekDisabled) {\n        options.daysOfWeekDisabled = false;\n        update();\n        return picker;\n      }\n\n      if (!(daysOfWeekDisabled instanceof Array)) {\n        throw new TypeError('daysOfWeekDisabled() expects an array parameter');\n      }\n\n      options.daysOfWeekDisabled = daysOfWeekDisabled.reduce(function (previousValue, currentValue) {\n        currentValue = parseInt(currentValue, 10);\n\n        if (currentValue > 6 || currentValue < 0 || isNaN(currentValue)) {\n          return previousValue;\n        }\n\n        if (previousValue.indexOf(currentValue) === -1) {\n          previousValue.push(currentValue);\n        }\n\n        return previousValue;\n      }, []).sort();\n\n      if (options.useCurrent && !options.keepInvalid) {\n        var tries = 0;\n\n        while (!isValid(date, 'd')) {\n          date.add(1, 'days');\n\n          if (tries === 7) {\n            throw 'Tried 7 times to find a valid date';\n          }\n\n          tries++;\n        }\n\n        setValue(date);\n      }\n\n      update();\n      return picker;\n    };\n\n    picker.maxDate = function (maxDate) {\n      if (arguments.length === 0) {\n        return options.maxDate ? options.maxDate.clone() : options.maxDate;\n      }\n\n      if (typeof maxDate === 'boolean' && maxDate === false) {\n        options.maxDate = false;\n        update();\n        return picker;\n      }\n\n      if (typeof maxDate === 'string') {\n        if (maxDate === 'now' || maxDate === 'moment') {\n          maxDate = getMoment();\n        }\n      }\n\n      var parsedDate = parseInputDate(maxDate);\n\n      if (!parsedDate.isValid()) {\n        throw new TypeError('maxDate() Could not parse date parameter: ' + maxDate);\n      }\n\n      if (options.minDate && parsedDate.isBefore(options.minDate)) {\n        throw new TypeError('maxDate() date parameter is before options.minDate: ' + parsedDate.format(actualFormat));\n      }\n\n      options.maxDate = parsedDate;\n\n      if (options.useCurrent && !options.keepInvalid && date.isAfter(maxDate)) {\n        setValue(options.maxDate);\n      }\n\n      if (viewDate.isAfter(parsedDate)) {\n        viewDate = parsedDate.clone().subtract(options.stepping, 'm');\n      }\n\n      update();\n      return picker;\n    };\n\n    picker.minDate = function (minDate) {\n      if (arguments.length === 0) {\n        return options.minDate ? options.minDate.clone() : options.minDate;\n      }\n\n      if (typeof minDate === 'boolean' && minDate === false) {\n        options.minDate = false;\n        update();\n        return picker;\n      }\n\n      if (typeof minDate === 'string') {\n        if (minDate === 'now' || minDate === 'moment') {\n          minDate = getMoment();\n        }\n      }\n\n      var parsedDate = parseInputDate(minDate);\n\n      if (!parsedDate.isValid()) {\n        throw new TypeError('minDate() Could not parse date parameter: ' + minDate);\n      }\n\n      if (options.maxDate && parsedDate.isAfter(options.maxDate)) {\n        throw new TypeError('minDate() date parameter is after options.maxDate: ' + parsedDate.format(actualFormat));\n      }\n\n      options.minDate = parsedDate;\n\n      if (options.useCurrent && !options.keepInvalid && date.isBefore(minDate)) {\n        setValue(options.minDate);\n      }\n\n      if (viewDate.isBefore(parsedDate)) {\n        viewDate = parsedDate.clone().add(options.stepping, 'm');\n      }\n\n      update();\n      return picker;\n    };\n\n    picker.defaultDate = function (defaultDate) {\n      ///<signature helpKeyword=\"$.fn.datetimepicker.defaultDate\">\n      ///<summary>Returns a moment with the options.defaultDate option configuration or false if not set</summary>\n      ///<returns type=\"Moment\">date.clone()</returns>\n      ///</signature>\n      ///<signature>\n      ///<summary>Will set the picker's inital date. If a boolean:false value is passed the options.defaultDate parameter is cleared.</summary>\n      ///<param name=\"defaultDate\" locid=\"$.fn.datetimepicker.defaultDate_p:defaultDate\">Takes a string, Date, moment, boolean:false</param>\n      ///</signature>\n      if (arguments.length === 0) {\n        return options.defaultDate ? options.defaultDate.clone() : options.defaultDate;\n      }\n\n      if (!defaultDate) {\n        options.defaultDate = false;\n        return picker;\n      }\n\n      if (typeof defaultDate === 'string') {\n        if (defaultDate === 'now' || defaultDate === 'moment') {\n          defaultDate = getMoment();\n        }\n      }\n\n      var parsedDate = parseInputDate(defaultDate);\n\n      if (!parsedDate.isValid()) {\n        throw new TypeError('defaultDate() Could not parse date parameter: ' + defaultDate);\n      }\n\n      if (!isValid(parsedDate)) {\n        throw new TypeError('defaultDate() date passed is invalid according to component setup validations');\n      }\n\n      options.defaultDate = parsedDate;\n\n      if (options.defaultDate && options.inline || input.val().trim() === '') {\n        setValue(options.defaultDate);\n      }\n\n      return picker;\n    };\n\n    picker.hijri = function (hijri) {\n      if (arguments.length === 0) {\n        if (options.hijri) {\n          options.viewModes = ['days', 'months', 'years'];\n        }\n\n        return options.hijri;\n      }\n\n      if (typeof hijri !== \"boolean\") {\n        throw new TypeError('hijri() expects a boolean parameter');\n      }\n\n      options.hijri = hijri;\n\n      if (options.hijri) {\n        options.viewModes = ['days', 'months', 'years'];\n      }\n\n      return picker;\n    };\n\n    picker.isRTL = function () {\n      if (options.isRTL) {//todo what goes here\n      }\n\n      return options.isRTL;\n    };\n\n    picker.locale = function (locale) {\n      if (arguments.length === 0) {\n        return options.locale;\n      }\n\n      if (!moment.localeData(locale)) {\n        throw new TypeError('locale() locale ' + locale + ' is not loaded from moment locales!');\n      }\n\n      options.locale = locale;\n      date.locale(options.locale);\n      viewDate.locale(options.locale);\n\n      if (actualFormat) {\n        initFormatting(); // reinit formatting\n      }\n\n      if (widget) {\n        hide();\n        show();\n      }\n\n      return picker;\n    };\n\n    picker.stepping = function (stepping) {\n      if (arguments.length === 0) {\n        return options.stepping;\n      }\n\n      stepping = parseInt(stepping, 10);\n\n      if (isNaN(stepping) || stepping < 1) {\n        stepping = 1;\n      }\n\n      options.stepping = stepping;\n      return picker;\n    };\n\n    picker.useCurrent = function (useCurrent) {\n      var useCurrentOptions = ['year', 'month', 'day', 'hour', 'minute'];\n\n      if (arguments.length === 0) {\n        return options.useCurrent;\n      }\n\n      if (typeof useCurrent !== 'boolean' && typeof useCurrent !== 'string') {\n        throw new TypeError('useCurrent() expects a boolean or string parameter');\n      }\n\n      if (typeof useCurrent === 'string' && useCurrentOptions.indexOf(useCurrent.toLowerCase()) === -1) {\n        throw new TypeError('useCurrent() expects a string parameter of ' + useCurrentOptions.join(', '));\n      }\n\n      options.useCurrent = useCurrent;\n      return picker;\n    };\n\n    picker.collapse = function (collapse) {\n      if (arguments.length === 0) {\n        return options.collapse;\n      }\n\n      if (typeof collapse !== 'boolean') {\n        throw new TypeError('collapse() expects a boolean parameter');\n      }\n\n      if (options.collapse === collapse) {\n        return picker;\n      }\n\n      options.collapse = collapse;\n\n      if (widget) {\n        hide();\n        show();\n      }\n\n      return picker;\n    };\n\n    picker.icons = function (icons) {\n      if (arguments.length === 0) {\n        return $.extend({}, options.icons);\n      }\n\n      if (!(icons instanceof Object)) {\n        throw new TypeError('icons() expects parameter to be an Object');\n      }\n\n      $.extend(options.icons, icons);\n\n      if (widget) {\n        hide();\n        show();\n      }\n\n      return picker;\n    };\n\n    picker.tooltips = function (tooltips) {\n      if (arguments.length === 0) {\n        return $.extend({}, options.tooltips);\n      }\n\n      if (!(tooltips instanceof Object)) {\n        throw new TypeError('tooltips() expects parameter to be an Object');\n      }\n\n      $.extend(options.tooltips, tooltips);\n\n      if (widget) {\n        hide();\n        show();\n      }\n\n      return picker;\n    };\n\n    picker.useStrict = function (useStrict) {\n      if (arguments.length === 0) {\n        return options.useStrict;\n      }\n\n      if (typeof useStrict !== 'boolean') {\n        throw new TypeError('useStrict() expects a boolean parameter');\n      }\n\n      options.useStrict = useStrict;\n      return picker;\n    };\n\n    picker.sideBySide = function (sideBySide) {\n      if (arguments.length === 0) {\n        return options.sideBySide;\n      }\n\n      if (typeof sideBySide !== 'boolean') {\n        throw new TypeError('sideBySide() expects a boolean parameter');\n      }\n\n      options.sideBySide = sideBySide;\n\n      if (widget) {\n        hide();\n        show();\n      }\n\n      return picker;\n    };\n\n    picker.viewMode = function (viewMode) {\n      if (arguments.length === 0) {\n        return options.viewMode;\n      }\n\n      if (typeof viewMode !== 'string') {\n        throw new TypeError('viewMode() expects a string parameter');\n      }\n\n      if (viewModes.indexOf(viewMode) === -1) {\n        throw new TypeError('viewMode() parameter must be one of (' + viewModes.join(', ') + ') value');\n      }\n\n      options.viewMode = viewMode;\n      currentViewMode = Math.max(viewModes.indexOf(viewMode), minViewModeNumber);\n      showMode();\n      return picker;\n    };\n\n    picker.toolbarPlacement = function (toolbarPlacement) {\n      if (arguments.length === 0) {\n        return options.toolbarPlacement;\n      }\n\n      if (typeof toolbarPlacement !== 'string') {\n        throw new TypeError('toolbarPlacement() expects a string parameter');\n      }\n\n      if (toolbarPlacements.indexOf(toolbarPlacement) === -1) {\n        throw new TypeError('toolbarPlacement() parameter must be one of (' + toolbarPlacements.join(', ') + ') value');\n      }\n\n      options.toolbarPlacement = toolbarPlacement;\n\n      if (widget) {\n        hide();\n        show();\n      }\n\n      return picker;\n    };\n\n    picker.widgetPositioning = function (widgetPositioning) {\n      if (arguments.length === 0) {\n        return $.extend({}, options.widgetPositioning);\n      }\n\n      if ({}.toString.call(widgetPositioning) !== '[object Object]') {\n        throw new TypeError('widgetPositioning() expects an object variable');\n      }\n\n      if (widgetPositioning.horizontal) {\n        if (typeof widgetPositioning.horizontal !== 'string') {\n          throw new TypeError('widgetPositioning() horizontal variable must be a string');\n        }\n\n        widgetPositioning.horizontal = widgetPositioning.horizontal.toLowerCase();\n\n        if (horizontalModes.indexOf(widgetPositioning.horizontal) === -1) {\n          throw new TypeError('widgetPositioning() expects horizontal parameter to be one of (' + horizontalModes.join(', ') + ')');\n        }\n\n        options.widgetPositioning.horizontal = widgetPositioning.horizontal;\n      }\n\n      if (widgetPositioning.vertical) {\n        if (typeof widgetPositioning.vertical !== 'string') {\n          throw new TypeError('widgetPositioning() vertical variable must be a string');\n        }\n\n        widgetPositioning.vertical = widgetPositioning.vertical.toLowerCase();\n\n        if (verticalModes.indexOf(widgetPositioning.vertical) === -1) {\n          throw new TypeError('widgetPositioning() expects vertical parameter to be one of (' + verticalModes.join(', ') + ')');\n        }\n\n        options.widgetPositioning.vertical = widgetPositioning.vertical;\n      }\n\n      update();\n      return picker;\n    };\n\n    picker.calendarWeeks = function (calendarWeeks) {\n      if (arguments.length === 0) {\n        return options.calendarWeeks;\n      }\n\n      if (typeof calendarWeeks !== 'boolean') {\n        throw new TypeError('calendarWeeks() expects parameter to be a boolean value');\n      }\n\n      options.calendarWeeks = calendarWeeks;\n      update();\n      return picker;\n    };\n\n    picker.showTodayButton = function (showTodayButton) {\n      if (arguments.length === 0) {\n        return options.showTodayButton;\n      }\n\n      if (typeof showTodayButton !== 'boolean') {\n        throw new TypeError('showTodayButton() expects a boolean parameter');\n      }\n\n      options.showTodayButton = showTodayButton;\n\n      if (widget) {\n        hide();\n        show();\n      }\n\n      return picker;\n    };\n\n    picker.showClear = function (showClear) {\n      if (arguments.length === 0) {\n        return options.showClear;\n      }\n\n      if (typeof showClear !== 'boolean') {\n        throw new TypeError('showClear() expects a boolean parameter');\n      }\n\n      options.showClear = showClear;\n\n      if (widget) {\n        hide();\n        show();\n      }\n\n      return picker;\n    };\n\n    picker.widgetParent = function (widgetParent) {\n      if (arguments.length === 0) {\n        return options.widgetParent;\n      }\n\n      if (typeof widgetParent === 'string') {\n        widgetParent = $(widgetParent);\n      }\n\n      if (widgetParent !== null && typeof widgetParent !== 'string' && !(widgetParent instanceof $)) {\n        throw new TypeError('widgetParent() expects a string or a jQuery object parameter');\n      }\n\n      options.widgetParent = widgetParent;\n\n      if (widget) {\n        hide();\n        show();\n      }\n\n      return picker;\n    };\n\n    picker.keepOpen = function (keepOpen) {\n      if (arguments.length === 0) {\n        return options.keepOpen;\n      }\n\n      if (typeof keepOpen !== 'boolean') {\n        throw new TypeError('keepOpen() expects a boolean parameter');\n      }\n\n      options.keepOpen = keepOpen;\n      return picker;\n    };\n\n    picker.focusOnShow = function (focusOnShow) {\n      if (arguments.length === 0) {\n        return options.focusOnShow;\n      }\n\n      if (typeof focusOnShow !== 'boolean') {\n        throw new TypeError('focusOnShow() expects a boolean parameter');\n      }\n\n      options.focusOnShow = focusOnShow;\n      return picker;\n    };\n\n    picker.inline = function (inline) {\n      if (arguments.length === 0) {\n        return options.inline;\n      }\n\n      if (typeof inline !== 'boolean') {\n        throw new TypeError('inline() expects a boolean parameter');\n      }\n\n      options.inline = inline;\n      return picker;\n    };\n\n    picker.clear = function () {\n      clear();\n      return picker;\n    };\n\n    picker.keyBinds = function (keyBinds) {\n      options.keyBinds = keyBinds;\n      return picker;\n    };\n\n    picker.getMoment = function (d) {\n      return getMoment(d);\n    };\n\n    picker.debug = function (debug) {\n      if (typeof debug !== 'boolean') {\n        throw new TypeError('debug() expects a boolean parameter');\n      }\n\n      options.debug = debug;\n      return picker;\n    };\n\n    picker.allowInputToggle = function (allowInputToggle) {\n      if (arguments.length === 0) {\n        return options.allowInputToggle;\n      }\n\n      if (typeof allowInputToggle !== 'boolean') {\n        throw new TypeError('allowInputToggle() expects a boolean parameter');\n      }\n\n      options.allowInputToggle = allowInputToggle;\n      return picker;\n    };\n\n    picker.showClose = function (showClose) {\n      if (arguments.length === 0) {\n        return options.showClose;\n      }\n\n      if (typeof showClose !== 'boolean') {\n        throw new TypeError('showClose() expects a boolean parameter');\n      }\n\n      options.showClose = showClose;\n      return picker;\n    };\n\n    picker.showSwitcher = function (showSwitcher) {\n      if (arguments.length === 0) {\n        return options.showSwitcher;\n      }\n\n      if (typeof showSwitcher !== 'boolean') {\n        throw new TypeError('showClose() expects a boolean parameter');\n      }\n\n      options.showSwitcher = showSwitcher;\n      return picker;\n    };\n\n    picker.keepInvalid = function (keepInvalid) {\n      if (arguments.length === 0) {\n        return options.keepInvalid;\n      }\n\n      if (typeof keepInvalid !== 'boolean') {\n        throw new TypeError('keepInvalid() expects a boolean parameter');\n      }\n\n      options.keepInvalid = keepInvalid;\n      return picker;\n    };\n\n    picker.datepickerInput = function (datepickerInput) {\n      if (arguments.length === 0) {\n        return options.datepickerInput;\n      }\n\n      if (typeof datepickerInput !== 'string') {\n        throw new TypeError('datepickerInput() expects a string parameter');\n      }\n\n      options.datepickerInput = datepickerInput;\n      return picker;\n    };\n\n    picker.parseInputDate = function (parseInputDate) {\n      if (arguments.length === 0) {\n        return options.parseInputDate;\n      }\n\n      if (typeof parseInputDate !== 'function') {\n        throw new TypeError('parseInputDate() sholud be as function');\n      }\n\n      options.parseInputDate = parseInputDate;\n      return picker;\n    };\n\n    picker.disabledTimeIntervals = function (disabledTimeIntervals) {\n      ///<signature helpKeyword=\"$.fn.datetimepicker.disabledTimeIntervals\">\n      ///<summary>Returns an array with the currently set disabled dates on the component.</summary>\n      ///<returns type=\"array\">options.disabledTimeIntervals</returns>\n      ///</signature>\n      ///<signature>\n      ///<summary>Setting this takes precedence over options.minDate, options.maxDate configuration. Also calling this function removes the configuration of\n      ///options.enabledDates if such exist.</summary>\n      ///<param name=\"dates\" locid=\"$.fn.datetimepicker.disabledTimeIntervals_p:dates\">Takes an [ string or Date or moment ] of values and allows the user to select only from those days.</param>\n      ///</signature>\n      if (arguments.length === 0) {\n        return options.disabledTimeIntervals ? $.extend({}, options.disabledTimeIntervals) : options.disabledTimeIntervals;\n      }\n\n      if (!disabledTimeIntervals) {\n        options.disabledTimeIntervals = false;\n        update();\n        return picker;\n      }\n\n      if (!(disabledTimeIntervals instanceof Array)) {\n        throw new TypeError('disabledTimeIntervals() expects an array parameter');\n      }\n\n      options.disabledTimeIntervals = disabledTimeIntervals;\n      update();\n      return picker;\n    };\n\n    picker.disabledHours = function (hours) {\n      ///<signature helpKeyword=\"$.fn.datetimepicker.disabledHours\">\n      ///<summary>Returns an array with the currently set disabled hours on the component.</summary>\n      ///<returns type=\"array\">options.disabledHours</returns>\n      ///</signature>\n      ///<signature>\n      ///<summary>Setting this takes precedence over options.minDate, options.maxDate configuration. Also calling this function removes the configuration of\n      ///options.enabledHours if such exist.</summary>\n      ///<param name=\"hours\" locid=\"$.fn.datetimepicker.disabledHours_p:hours\">Takes an [ int ] of values and disallows the user to select only from those hours.</param>\n      ///</signature>\n      if (arguments.length === 0) {\n        return options.disabledHours ? $.extend({}, options.disabledHours) : options.disabledHours;\n      }\n\n      if (!hours) {\n        options.disabledHours = false;\n        update();\n        return picker;\n      }\n\n      if (!(hours instanceof Array)) {\n        throw new TypeError('disabledHours() expects an array parameter');\n      }\n\n      options.disabledHours = indexGivenHours(hours);\n      options.enabledHours = false;\n\n      if (options.useCurrent && !options.keepInvalid) {\n        var tries = 0;\n\n        while (!isValid(date, 'h')) {\n          date.add(1, 'h');\n\n          if (tries === 24) {\n            throw 'Tried 24 times to find a valid date';\n          }\n\n          tries++;\n        }\n\n        setValue(date);\n      }\n\n      update();\n      return picker;\n    };\n\n    picker.enabledHours = function (hours) {\n      ///<signature helpKeyword=\"$.fn.datetimepicker.enabledHours\">\n      ///<summary>Returns an array with the currently set enabled hours on the component.</summary>\n      ///<returns type=\"array\">options.enabledHours</returns>\n      ///</signature>\n      ///<signature>\n      ///<summary>Setting this takes precedence over options.minDate, options.maxDate configuration. Also calling this function removes the configuration of options.disabledHours if such exist.</summary>\n      ///<param name=\"hours\" locid=\"$.fn.datetimepicker.enabledHours_p:hours\">Takes an [ int ] of values and allows the user to select only from those hours.</param>\n      ///</signature>\n      if (arguments.length === 0) {\n        return options.enabledHours ? $.extend({}, options.enabledHours) : options.enabledHours;\n      }\n\n      if (!hours) {\n        options.enabledHours = false;\n        update();\n        return picker;\n      }\n\n      if (!(hours instanceof Array)) {\n        throw new TypeError('enabledHours() expects an array parameter');\n      }\n\n      options.enabledHours = indexGivenHours(hours);\n      options.disabledHours = false;\n\n      if (options.useCurrent && !options.keepInvalid) {\n        var tries = 0;\n\n        while (!isValid(date, 'h')) {\n          date.add(1, 'h');\n\n          if (tries === 24) {\n            throw 'Tried 24 times to find a valid date';\n          }\n\n          tries++;\n        }\n\n        setValue(date);\n      }\n\n      update();\n      return picker;\n    };\n\n    picker.viewDate = function (newDate) {\n      ///<signature helpKeyword=\"$.fn.datetimepicker.viewDate\">\n      ///<summary>Returns the component's model current viewDate, a moment object or null if not set.</summary>\n      ///<returns type=\"Moment\">viewDate.clone()</returns>\n      ///</signature>\n      ///<signature>\n      ///<summary>Sets the components model current moment to it. Passing a null value unsets the components model current moment. Parsing of the newDate parameter is made using moment library with the options.format and options.useStrict components configuration.</summary>\n      ///<param name=\"newDate\" locid=\"$.fn.datetimepicker.date_p:newDate\">Takes string, viewDate, moment, null parameter.</param>\n      ///</signature>\n      if (arguments.length === 0) {\n        return viewDate.clone();\n      }\n\n      if (!newDate) {\n        viewDate = date.clone();\n        return picker;\n      }\n\n      if (typeof newDate !== 'string' && !moment.isMoment(newDate) && !(newDate instanceof Date)) {\n        throw new TypeError('viewDate() parameter must be one of [string, moment or Date]');\n      }\n\n      viewDate = parseInputDate(newDate);\n      viewUpdate();\n      return picker;\n    }; // initializing element and component attributes\n\n\n    if (element.is('input')) {\n      input = element;\n    } else {\n      input = element.find(options.datepickerInput);\n\n      if (input.size() === 0) {\n        input = element.find('input');\n      } else if (!input.is('input')) {\n        throw new Error('CSS class \"' + options.datepickerInput + '\" cannot be applied to non input element');\n      }\n    }\n\n    if (element.hasClass('input-group')) {\n      // in case there is more then one 'input-group-addon' Issue #48\n      if (element.find('.datepickerbutton').size() === 0) {\n        component = element.find('.input-group-addon');\n      } else {\n        component = element.find('.datepickerbutton');\n      }\n    }\n\n    if (!options.inline && !input.is('input')) {\n      throw new Error('Could not initialize DateTimePicker without an input element');\n    } // Set defaults for date here now instead of in var declaration\n\n\n    date = getMoment();\n    viewDate = date.clone();\n    $.extend(true, options, dataToOptions());\n    picker.options(options);\n    initFormatting();\n    attachDatePickerElementEvents();\n\n    if (input.prop('disabled')) {\n      picker.disable();\n    }\n\n    if (input.is('input') && input.val().trim().length !== 0) {\n      setValue(parseInputDate(input.val().trim()));\n    } else if (options.defaultDate && input.attr('placeholder') === undefined) {\n      setValue(options.defaultDate);\n    }\n\n    if (options.inline) {\n      show();\n    }\n\n    return picker;\n  };\n  /********************************************************************************\n   *\n   * jQuery plugin constructor and defaults object\n   *\n   ********************************************************************************/\n\n\n  $.fn.hijriDatePicker = function (options) {\n    return this.each(function () {\n      var $this = $(this);\n\n      if (!$this.data('HijriDatePicker')) {\n        // create a private copy of the defaults object\n        options = $.extend(true, {}, $.fn.hijriDatePicker.defaults, options);\n        $this.data('HijriDatePicker', hijriDatePicker($this, options));\n      }\n    });\n  };\n\n  $.fn.hijriDatePicker.defaults = {\n    timeZone: 'Etc/UTC',\n    format: 'DD-MM-YYYY',\n    hijriFormat: 'iYYYY-iMM-iDD',\n    hijriDayViewHeaderFormat: 'iMMMM iYYYY',\n    dayViewHeaderFormat: 'MMMM YYYY',\n    minDate: '1950-01-01',\n    maxDate: '2070-01-01',\n    extraFormats: false,\n    stepping: 1,\n    useCurrent: false,\n    collapse: true,\n    locale: 'ar-SA',\n    defaultDate: false,\n    disabledDates: false,\n    enabledDates: false,\n    icons: {\n      time: 'fa fa-clock text-primary',\n      date: 'glyphicon glyphicon-calendar',\n      up: 'fa fa-chevron-up text-primary',\n      down: 'fa fa-chevron-down text-primary',\n      previous: '<',\n      next: '>',\n      today: 'اليوم',\n      clear: 'مسح',\n      close: 'اغلاق'\n    },\n    tooltips: {\n      today: 'Go to today',\n      clear: 'Clear selection',\n      close: 'Close the picker',\n      selectMonth: 'Select Month',\n      prevMonth: 'Previous Month',\n      nextMonth: 'Next Month',\n      selectYear: 'Select Year',\n      prevYear: 'Previous Year',\n      nextYear: 'Next Year',\n      selectDecade: 'Select Decade',\n      prevDecade: 'Previous Decade',\n      nextDecade: 'Next Decade',\n      prevCentury: 'Previous Century',\n      nextCentury: 'Next Century',\n      pickHour: 'Pick Hour',\n      incrementHour: 'Increment Hour',\n      decrementHour: 'Decrement Hour',\n      pickMinute: 'Pick Minute',\n      incrementMinute: 'Increment Minute',\n      decrementMinute: 'Decrement Minute',\n      pickSecond: 'Pick Second',\n      incrementSecond: 'Increment Second',\n      decrementSecond: 'Decrement Second',\n      togglePeriod: 'Toggle Period',\n      selectTime: 'Select Time'\n    },\n    useStrict: false,\n    sideBySide: false,\n    daysOfWeekDisabled: false,\n    calendarWeeks: false,\n    viewMode: 'days',\n    toolbarPlacement: 'default',\n    showTodayButton: false,\n    showClear: false,\n    showClose: false,\n    widgetPositioning: {\n      horizontal: 'auto',\n      vertical: 'auto'\n    },\n    widgetParent: null,\n    ignoreReadonly: false,\n    keepOpen: false,\n    focusOnShow: true,\n    inline: false,\n    keepInvalid: false,\n    datepickerInput: '.datepickerinput',\n    keyBinds: {\n      up: function (widget) {\n        if (!widget) {\n          return;\n        }\n\n        var d = this.date() || this.getMoment();\n\n        if (widget.find('.datepicker').is(':visible')) {\n          this.date(d.clone().subtract(7, 'd'));\n        } else {\n          this.date(d.clone().add(this.stepping(), 'm'));\n        }\n      },\n      down: function (widget) {\n        if (!widget) {\n          this.show();\n          return;\n        }\n\n        var d = this.date() || this.getMoment();\n\n        if (widget.find('.datepicker').is(':visible')) {\n          this.date(d.clone().add(7, 'd'));\n        } else {\n          this.date(d.clone().subtract(this.stepping(), 'm'));\n        }\n      },\n      'control up': function (widget) {\n        if (!widget) {\n          return;\n        }\n\n        var d = this.date() || this.getMoment();\n\n        if (widget.find('.datepicker').is(':visible')) {\n          this.date(d.clone().subtract(1, 'years'));\n        } else {\n          this.date(d.clone().add(1, 'h'));\n        }\n      },\n      'control down': function (widget) {\n        if (!widget) {\n          return;\n        }\n\n        var d = this.date() || this.getMoment();\n\n        if (widget.find('.datepicker').is(':visible')) {\n          this.date(d.clone().add(1, 'y'));\n        } else {\n          this.date(d.clone().subtract(1, 'h'));\n        }\n      },\n      left: function (widget) {\n        if (!widget) {\n          return;\n        }\n\n        var d = this.date() || this.getMoment();\n\n        if (widget.find('.datepicker').is(':visible')) {\n          this.date(d.clone().subtract(1, 'days'));\n        }\n      },\n      right: function (widget) {\n        if (!widget) {\n          return;\n        }\n\n        var d = this.date() || this.getMoment();\n\n        if (widget.find('.datepicker').is(':visible')) {\n          this.date(d.clone().add(1, 'days'));\n        }\n      },\n      pageUp: function (widget) {\n        if (!widget) {\n          return;\n        }\n\n        var d = this.date() || this.getMoment();\n\n        if (widget.find('.datepicker').is(':visible')) {\n          this.date(d.clone().subtract(1, 'months'));\n        }\n      },\n      pageDown: function (widget) {\n        if (!widget) {\n          return;\n        }\n\n        var d = this.date() || this.getMoment();\n\n        if (widget.find('.datepicker').is(':visible')) {\n          this.date(d.clone().add(1, 'months'));\n        }\n      },\n      enter: function () {\n        this.hide();\n      },\n      escape: function () {\n        this.hide();\n      },\n      //tab: function (widget) { //this break the flow of the form. disabling for now\n      //    var toggle = widget.find('.picker-switch a[data-action=\"togglePicker\"]');\n      //    if(toggle.length > 0) toggle.click();\n      //},\n      'control space': function (widget) {\n        if (widget.find('.timepicker').is(':visible')) {\n          widget.find('.btn[data-action=\"togglePeriod\"]').click();\n        }\n      },\n      t: function () {\n        this.date(this.getMoment());\n      },\n      'delete': function () {\n        this.clear();\n      }\n    },\n    showSwitcher: true,\n    debug: false,\n    allowInputToggle: false,\n    disabledTimeIntervals: false,\n    disabledHours: false,\n    enabledHours: false,\n    viewDate: false,\n    hijri: false,\n    isRTL: false,\n    hijriText: \"هجري\",\n    gregorianText: \"ميلادي\"\n  };\n});","map":{"version":3,"sources":["/Users/shehrozkapoor/Desktop/FIRST_CARE/firstcare-frontend/src/assets/js/bootstrap-hijri-datetimepicker.js"],"names":["factory","define","amd","exports","require","jQuery","moment","$","Error","hijriDatePicker","element","options","picker","date","viewDate","unset","input","component","widget","use24Hours","minViewModeNumber","actualFormat","parseFormats","currentViewMode","datePickerModes","clsName","navFnc","hijri","navStep","viewModes","verticalModes","horizontalModes","toolbarPlacements","keyMap","keyState","getMoment","d","tzEnabled","returnMoment","currentZoneOffset","incomingZoneOffset","timeZoneIndicator","dateWithTimeZoneInfo","tz","undefined","timeZone","startOf","utcOffset","useStrict","format","isEnabled","granularity","length","TypeError","indexOf","toLowerCase","hasTime","hasDate","getDatePickerTemplate","headTemplate","append","addClass","attr","html","icons","previous","calendarWeeks","next","contTemplate","clone","getTimePickerMainTemplate","topRow","middleRow","bottomRow","href","tabindex","tooltips","incrementHour","up","pickHour","decrementHour","down","incrementMinute","pickMinute","decrementMinute","incrementSecond","pickSecond","decrementSecond","togglePeriod","getTimePickerTemplate","hoursView","minutesView","secondsView","ret","push","getToolbar","row","showTodayButton","today","sideBySide","selectTime","time","showClear","clear","showClose","close","showSwitcher","text","hijriText","gregorianText","getTemplate","template","dateView","timeView","content","toolbar","collapse","inline","removeClass","toolbarPlacement","dataToOptions","eData","dataOptions","is","data","find","dateOptions","Object","extend","each","key","attributeName","charAt","toUpperCase","slice","place","position","offset","vertical","widgetPositioning","horizontal","parent","widgetParent","after","children","first","top","height","window","scrollTop","outerHeight","width","left","outerWidth","css","parents","filter","bottom","right","notifyEvent","e","type","isSame","oldDate","trigger","viewUpdate","change","showMode","dir","Math","max","min","hide","show","fillDow","currentDate","isBefore","endOf","add","isInDisabledDates","testDate","disabledDates","isInEnabledDates","enabledDates","isInDisabledHours","disabledHours","isInEnabledHours","enabledHours","isValid","targetMoment","minDate","maxDate","isAfter","daysOfWeekDisabled","day","disabledTimeIntervals","found","isBetween","isValidHijriYear","hijriYear","year","parseInt","isValidHijriDate","month","result","isValidHijriMonth","fillMonths","spans","monthsShort","empty","fillHijriMonths","hour","currentMonth","iYear","updateHijriMonths","monthsView","monthsViewHeader","months","eq","prevYear","selectYear","nextYear","subtract","currentViewDate","currentDateFormat","index","monthFormat","dateToValidate","selectedMonth","updateHijriYears","yearsView","yearsViewHeader","startYear","endYear","prevDecade","selectDecade","nextDecade","span","isActive","isDisabled","updateMonths","updateYears","fillDate","fillHijriDate","daysView","daysViewHeader","i","prevMonth","selectMonth","nextMonth","dayViewHeaderFormat","weekday","week","hijriDayViewHeaderFormat","iMonth","iDate","fillHours","table","currentHour","fillMinutes","currentMinute","step","stepping","minute","fillSeconds","currentSecond","second","fillTime","toggle","newDate","timeComponents","hours","update","setValue","val","locale","minutes","round","seconds","keepInvalid","transitioning","collapseData","hasClass","toggleClass","off","remove","blur","actions","pickerSwitch","target","closest","selectDay","keepOpen","incrementHours","incrementMinutes","incrementSeconds","decrementHours","decrementMinutes","decrementSeconds","togglePicker","$this","$parent","expanded","closed","showPicker","showHours","showMinutes","showSeconds","selectHour","call","selectMinute","selectSecond","todaysDate","switchDate","initFormatting","doAction","currentTarget","apply","arguments","currentMoment","useCurrentGranularity","m","prop","ignoreReadonly","trim","parseInputDate","useCurrent","on","focusOnShow","focus","inputDate","isMoment","Date","keydown","handler","index2","pressedKeys","pressedModifiers","currentKey","which","keyBindKeys","allModifiersPressed","pressed","hasOwnProperty","keyBinds","split","stopPropagation","preventDefault","keyup","parsedDate","stopImmediatePropagation","attachDatePickerElementEvents","debug","allowInputToggle","detachDatePickerElementEvents","indexGivenDates","givenDatesArray","givenDatesIndexed","dDate","keys","indexGivenHours","givenHoursArray","givenHoursIndexed","hijriFormat","replace","formatInput","newinput","localeData","longDateFormat","formatInput2","extraFormats","destroy","removeData","disable","enable","newOptions","value","newFormat","newZone","formats","Array","dates","splice","reduce","previousValue","currentValue","isNaN","sort","tries","defaultDate","isRTL","useCurrentOptions","join","viewMode","toString","datepickerInput","size","fn","defaults","prevCentury","nextCentury","pageUp","pageDown","enter","escape","click","t"],"mappings":"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","sourcesContent":["/*! version : 4.17.37\n =========================================================\n bootstrap-datetimejs\n\n https://github.com/Eonasdan/bootstrap-datetimepicker\n\n Modified by: @balbarak\n\n Copyright (c) 2015 Jonathan Peterson\n =========================================================\n */\n/*\n The MIT License (MIT)\n\n\n */\n/*global define:false */\n/*global exports:false */\n/*global require:false */\n/*global jQuery:false */\n/*global moment:false */\n(function (factory) {\n    'use strict';\n    if (typeof define === 'function' && define.amd) {\n        // AMD is used - Register as an anonymous module.\n        define(['jquery', 'moment'], factory);\n    } else if (typeof exports === 'object') {\n        factory(require('jquery'), require('moment'));\n    } else {\n        // Neither AMD nor CommonJS used. Use global variables.\n        if (typeof jQuery === 'undefined') {\n            throw 'bootstrap-hijri-datepicker requires jQuery to be loaded first';\n        }\n        if (typeof moment === 'undefined') {\n            throw 'bootstrap-hijri-datepicker requires Moment.js to be loaded first';\n        }\n        factory(jQuery, moment);\n    }\n}(function ($, moment) {\n    'use strict';\n    if (!moment) {\n        throw new Error('bootstrap-hijri-datepicker requires Moment.js to be loaded first');\n    }\n\n    var hijriDatePicker = function (element, options) {\n\n        var picker = {},\n            date,\n            viewDate,\n            unset = true,\n            input,\n            component = false,\n            widget = false,\n            use24Hours,\n            minViewModeNumber = 0,\n            actualFormat,\n            parseFormats,\n            currentViewMode,\n            datePickerModes = [\n                {\n                    clsName: 'days',\n                    navFnc: (options.hijri ? 'iMonth' : 'Month'),\n                    navStep: 1\n                },\n                {\n                    clsName: 'months',\n                    navFnc: (options.hijri ? 'iYear' : 'y'),\n                    navStep: 1\n                },\n                {\n                    clsName: 'years',\n                    navFnc: (options.hijri ? 'iYear' : 'y'),\n                    navStep: 10\n                },\n                {\n                    clsName: 'decades',\n                    navFnc: (options.hijri ? 'iYear' : 'y'),\n                    navStep: 100\n                }\n            ],\n            viewModes = ['days', 'months', 'years', 'decades'],\n            verticalModes = ['top', 'bottom', 'auto'],\n            horizontalModes = ['left', 'right', 'auto'],\n            toolbarPlacements = ['default', 'top', 'bottom'],\n            keyMap = {\n                'up': 38,\n                38: 'up',\n                'down': 40,\n                40: 'down',\n                'left': 37,\n                37: 'left',\n                'right': 39,\n                39: 'right',\n                'tab': 9,\n                9: 'tab',\n                'escape': 27,\n                27: 'escape',\n                'enter': 13,\n                13: 'enter',\n                'pageUp': 33,\n                33: 'pageUp',\n                'pageDown': 34,\n                34: 'pageDown',\n                'shift': 16,\n                16: 'shift',\n                'control': 17,\n                17: 'control',\n                'space': 32,\n                32: 'space',\n                't': 84,\n                84: 't',\n                'delete': 46,\n                46: 'delete'\n            },\n            keyState = {},\n\n            getMoment = function (d) {\n                var tzEnabled = false,\n                    returnMoment,\n                    currentZoneOffset,\n                    incomingZoneOffset,\n                    timeZoneIndicator,\n                    dateWithTimeZoneInfo;\n\n                if (moment.tz !== undefined && options.timeZone !== undefined && options.timeZone !== null && options.timeZone !== '') {\n                    tzEnabled = true;\n                }\n                if (d === undefined || d === null) {\n                    if (tzEnabled) {\n                        returnMoment = moment().tz(options.timeZone).startOf('day');\n                    } else {\n                        returnMoment = moment().startOf('day');\n                    }\n                } else {\n                    if (tzEnabled) {\n                        currentZoneOffset = moment().tz(options.timeZone).utcOffset();\n                        incomingZoneOffset = moment(d, parseFormats, options.useStrict).utcOffset();\n                        if (incomingZoneOffset !== currentZoneOffset) {\n                            timeZoneIndicator = moment().tz(options.timeZone).format('Z');\n                            dateWithTimeZoneInfo = moment(d, parseFormats, options.useStrict).format('YYYY-MM-DD[T]HH:mm:ss') + timeZoneIndicator;\n                            returnMoment = moment(dateWithTimeZoneInfo, parseFormats, options.useStrict).tz(options.timeZone);\n                        } else {\n                            returnMoment = moment(d, parseFormats, options.useStrict).tz(options.timeZone);\n                        }\n                    } else {\n                        returnMoment = moment(d, parseFormats, options.useStrict);\n                    }\n                }\n                return returnMoment;\n            },\n            isEnabled = function (granularity) {\n                if (typeof granularity !== 'string' || granularity.length > 1) {\n                    throw new TypeError('isEnabled expects a single character string parameter');\n                }\n                switch (granularity) {\n                    case 'y':\n                        return actualFormat.indexOf('Y') !== -1;\n                    case 'M':\n                        return actualFormat.indexOf('M') !== -1;\n                    case 'd':\n                        return actualFormat.toLowerCase().indexOf('d') !== -1;\n                    case 'h':\n                    case 'H':\n                        return actualFormat.toLowerCase().indexOf('hh:') !== -1;\n                    case 'm':\n                        return actualFormat.indexOf('m') !== -1;\n                    case 's':\n                        return actualFormat.indexOf('s') !== -1;\n                    default:\n                        return false;\n                }\n            },\n            hasTime = function () {\n                return (isEnabled('h') || isEnabled('m') || isEnabled('s'));\n            },\n\n            hasDate = function () {\n                return (isEnabled('y') || isEnabled('M') || isEnabled('d'));\n            },\n\n            getDatePickerTemplate = function () {\n                var headTemplate = $('<thead>')\n                    .append($('<tr>')\n                        .append($('<th>').addClass('prev').attr('data-action', 'previous')\n                            .append($('<span>').html(options.icons.previous))\n                        )\n                        .append($('<th>').addClass('picker-switch').attr('data-action', 'pickerSwitch').attr('colspan', (options.calendarWeeks ? '6' : '5')))\n                        .append($('<th>').addClass('next').attr('data-action', 'next')\n                            .append($('<span>').html(options.icons.next))\n                        )\n                    ),\n                    contTemplate = $('<tbody>')\n                        .append($('<tr>')\n                            .append($('<td>').attr('colspan', (options.calendarWeeks ? '8' : '7')))\n                        );\n\n                return [\n                    $('<div>').addClass('datepicker-days')\n                        .append($('<table>').addClass('table-condensed')\n                            .append(headTemplate)\n                            .append($('<tbody>'))\n                        ),\n                    $('<div>').addClass('datepicker-months')\n                        .append($('<table>').addClass('table-condensed')\n                            .append(headTemplate.clone())\n                            .append(contTemplate.clone())\n                        ),\n                    $('<div>').addClass('datepicker-years')\n                        .append($('<table>').addClass('table-condensed')\n                            .append(headTemplate.clone())\n                            .append(contTemplate.clone())\n                        ),\n                    $('<div>').addClass('datepicker-decades')\n                        .append($('<table>').addClass('table-condensed')\n                            .append(headTemplate.clone())\n                            .append(contTemplate.clone())\n                        )\n                ];\n            },\n\n            getTimePickerMainTemplate = function () {\n                var topRow = $('<tr>'),\n                    middleRow = $('<tr>'),\n                    bottomRow = $('<tr>');\n\n                if (isEnabled('h')) {\n                    topRow.append($('<td>')\n                        .append($('<a>').attr({ href: '#', tabindex: '-1', 'title': options.tooltips.incrementHour }).addClass('btn').attr('data-action', 'incrementHours')\n                            .append($('<span>').addClass(options.icons.up))));\n                    middleRow.append($('<td>')\n                        .append($('<span>').addClass('timepicker-hour').attr({ 'data-time-component': 'hours', 'title': options.tooltips.pickHour }).attr('data-action', 'showHours')));\n                    bottomRow.append($('<td>')\n                        .append($('<a>').attr({ href: '#', tabindex: '-1', 'title': options.tooltips.decrementHour }).addClass('btn').attr('data-action', 'decrementHours')\n                            .append($('<span>').addClass(options.icons.down))));\n                }\n                if (isEnabled('m')) {\n                    if (isEnabled('h')) {\n                        topRow.append($('<td>').addClass('separator'));\n                        middleRow.append($('<td>').addClass('separator').html(':'));\n                        bottomRow.append($('<td>').addClass('separator'));\n                    }\n                    topRow.append($('<td>')\n                        .append($('<a>').attr({ href: '#', tabindex: '-1', 'title': options.tooltips.incrementMinute }).addClass('btn').attr('data-action', 'incrementMinutes')\n                            .append($('<span>').addClass(options.icons.up))));\n                    middleRow.append($('<td>')\n                        .append($('<span>').addClass('timepicker-minute').attr({ 'data-time-component': 'minutes', 'title': options.tooltips.pickMinute }).attr('data-action', 'showMinutes')));\n                    bottomRow.append($('<td>')\n                        .append($('<a>').attr({ href: '#', tabindex: '-1', 'title': options.tooltips.decrementMinute }).addClass('btn').attr('data-action', 'decrementMinutes')\n                            .append($('<span>').addClass(options.icons.down))));\n                }\n                if (isEnabled('s')) {\n                    if (isEnabled('m')) {\n                        topRow.append($('<td>').addClass('separator'));\n                        middleRow.append($('<td>').addClass('separator').html(':'));\n                        bottomRow.append($('<td>').addClass('separator'));\n                    }\n                    topRow.append($('<td>')\n                        .append($('<a>').attr({ href: '#', tabindex: '-1', 'title': options.tooltips.incrementSecond }).addClass('btn').attr('data-action', 'incrementSeconds')\n                            .append($('<span>').addClass(options.icons.up))));\n                    middleRow.append($('<td>')\n                        .append($('<span>').addClass('timepicker-second').attr({ 'data-time-component': 'seconds', 'title': options.tooltips.pickSecond }).attr('data-action', 'showSeconds')));\n                    bottomRow.append($('<td>')\n                        .append($('<a>').attr({ href: '#', tabindex: '-1', 'title': options.tooltips.decrementSecond }).addClass('btn').attr('data-action', 'decrementSeconds')\n                            .append($('<span>').addClass(options.icons.down))));\n                }\n\n                if (!use24Hours) {\n                    topRow.append($('<td>').addClass('separator'));\n                    middleRow.append($('<td>')\n                        .append($('<button>').addClass('btn btn-primary').attr({ 'data-action': 'togglePeriod', tabindex: '-1', 'title': options.tooltips.togglePeriod })));\n                    bottomRow.append($('<td>').addClass('separator'));\n                }\n\n                return $('<div>').addClass('timepicker-picker')\n                    .append($('<table>').addClass('table-condensed')\n                        .append([topRow, middleRow, bottomRow]));\n            },\n\n            getTimePickerTemplate = function () {\n                var hoursView = $('<div>').addClass('timepicker-hours')\n                    .append($('<table>').addClass('table-condensed')),\n                    minutesView = $('<div>').addClass('timepicker-minutes')\n                        .append($('<table>').addClass('table-condensed')),\n                    secondsView = $('<div>').addClass('timepicker-seconds')\n                        .append($('<table>').addClass('table-condensed')),\n                    ret = [getTimePickerMainTemplate()];\n\n                if (isEnabled('h')) {\n                    ret.push(hoursView);\n                }\n                if (isEnabled('m')) {\n                    ret.push(minutesView);\n                }\n                if (isEnabled('s')) {\n                    ret.push(secondsView);\n                }\n\n                return ret;\n            },\n\n            getToolbar = function () {\n                var row = [];\n                if (options.showTodayButton) {\n\n                    //let todayButton = $('<a data-action=\"todya\" title=\"title\" class=\"hijri-date-toolbar-item btn btn-sm btn-primary\"></a>').html(options.icons.today);\n                    //row.push($('<td>').append(todayButton));\n\n                    row.push($('<td>').append($('<a>').attr({ 'data-action': 'today', 'title': options.tooltips.today }).append($('<span>').html(options.icons.today))));\n\n                }\n                if (!options.sideBySide && hasDate() && hasTime()) {\n                    row.push($('<td>').append($('<a>').attr({ 'data-action': 'togglePicker', 'title': options.tooltips.selectTime }).append($('<span>').addClass(options.icons.time))));\n                }\n                if (options.showClear) {\n                    row.push($('<td>').append($('<a>').attr({ 'data-action': 'clear', 'title': options.tooltips.clear }).append($('<span>').html(options.icons.clear))));\n                }\n                if (options.showClose) {\n                    row.push($('<td>').append($('<a>').attr({ 'data-action': 'close', 'title': options.tooltips.close }).append($('<span>').html(options.icons.close))));\n                }\n\n                if (options.showSwitcher) {\n\n                    let text = options.hijriText;\n\n                    if (options.hijri) {\n                        text = options.gregorianText;\n                    }\n\n                    row.push($('<td>').append($('<a>').attr({ 'data-action': 'switchDate', 'title': options.tooltips.close }).append($('<span class=\"data-switch-button\">').html(text))));\n                }\n                return $('<table>').addClass('table-condensed').append($('<tbody>').append($('<tr>').append(row)));\n            },\n\n            getTemplate = function () {\n                var template = $('<div>').addClass('bootstrap-datetimepicker-widget dropdown-menu'),\n                    dateView = $('<div>').addClass('datepicker').append(getDatePickerTemplate()),\n                    timeView = $('<div>').addClass('timepicker').append(getTimePickerTemplate()),\n                    content = $('<ul>').addClass('list-unstyled'),\n                    toolbar = $('<li>').addClass('picker-switch' + (options.collapse ? ' accordion-toggle' : '')).append(getToolbar());\n\n                if (options.inline) {\n                    template.removeClass('dropdown-menu');\n                }\n\n                if (use24Hours) {\n                    template.addClass('usetwentyfour');\n                }\n                if (isEnabled('s') && !use24Hours) {\n                    template.addClass('wider');\n                }\n\n                if (options.sideBySide && hasDate() && hasTime()) {\n                    template.addClass('timepicker-sbs');\n                    if (options.toolbarPlacement === 'top') {\n                        template.append(toolbar);\n                    }\n                    template.append(\n                        $('<div>').addClass('row')\n                            .append(dateView.addClass('col-md-6'))\n                            .append(timeView.addClass('col-md-6'))\n                    );\n                    if (options.toolbarPlacement === 'bottom') {\n                        template.append(toolbar);\n                    }\n                    return template;\n                }\n\n                if (options.toolbarPlacement === 'top') {\n                    content.append(toolbar);\n                }\n                if (hasDate()) {\n                    content.append($('<li>').addClass((options.collapse && hasTime() ? 'collapse in' : '')).append(dateView));\n                }\n                if (options.toolbarPlacement === 'default') {\n                    content.append(toolbar);\n                }\n                if (hasTime()) {\n                    content.append($('<li>').addClass((options.collapse && hasDate() ? 'collapse' : '')).append(timeView));\n                }\n                if (options.toolbarPlacement === 'bottom') {\n                    content.append(toolbar);\n                }\n                return template.append(content);\n            },\n\n            dataToOptions = function () {\n                var eData,\n                    dataOptions = {};\n\n                if (element.is('input') || options.inline) {\n                    eData = element.data();\n                } else {\n                    eData = element.find('input').data();\n                }\n\n                if (eData.dateOptions && eData.dateOptions instanceof Object) {\n                    dataOptions = $.extend(true, dataOptions, eData.dateOptions);\n                }\n\n                $.each(options, function (key) {\n                    var attributeName = 'date' + key.charAt(0).toUpperCase() + key.slice(1);\n                    if (eData[attributeName] !== undefined) {\n                        dataOptions[key] = eData[attributeName];\n                    }\n                });\n                return dataOptions;\n            },\n\n            place = function () {\n                var position = (component || element).position(),\n                    offset = (component || element).offset(),\n                    vertical = options.widgetPositioning.vertical,\n                    horizontal = options.widgetPositioning.horizontal,\n                    parent;\n\n                if (options.widgetParent) {\n                    parent = options.widgetParent.append(widget);\n                } else if (element.is('input')) {\n                    parent = element.after(widget).parent();\n                } else if (options.inline) {\n                    parent = element.append(widget);\n                    return;\n                } else {\n                    parent = element;\n                    element.children().first().after(widget);\n                }\n\n                // Top and bottom logic\n                if (vertical === 'auto') {\n                    if (offset.top + widget.height() * 1.5 >= $(window).height() + $(window).scrollTop() &&\n                        widget.height() + element.outerHeight() < offset.top) {\n                        vertical = 'top';\n                    } else {\n                        vertical = 'bottom';\n                    }\n                }\n\n                // Left and right logic\n                if (horizontal === 'auto') {\n                    if (parent.width() < offset.left + widget.outerWidth() / 2 &&\n                        offset.left + widget.outerWidth() > $(window).width()) {\n                        horizontal = 'right';\n                    } else {\n                        horizontal = 'left';\n                    }\n                }\n\n                if (vertical === 'top') {\n                    widget.addClass('top').removeClass('bottom');\n                } else {\n                    widget.addClass('bottom').removeClass('top');\n                }\n\n                if (horizontal === 'right') {\n                    widget.addClass('pull-right');\n                } else {\n                    widget.removeClass('pull-right');\n                }\n\n                // find the first parent element that has a relative css positioning\n                if (parent.css('position') !== 'relative') {\n                    parent = parent.parents().filter(function () {\n                        return $(this).css('position') === 'relative';\n                    }).first();\n                }\n\n                if (parent.length === 0) {\n                    throw new Error('datetimepicker component should be placed within a relative positioned container');\n                }\n\n                widget.css({\n                    top: vertical === 'top' ? 'auto' : position.top + element.outerHeight(),\n                    bottom: vertical === 'top' ? position.top + element.outerHeight() : 'auto',\n                    left: horizontal === 'left' ? (parent === element ? 0 : position.left) : 'auto',\n                    right: horizontal === 'left' ? 'auto' : parent.outerWidth() - element.outerWidth() - (parent === element ? 0 : position.left)\n                });\n            },\n\n            notifyEvent = function (e) {\n\n                if (e.type === 'dp.change' && ((e.date && e.date.isSame(e.oldDate)) || (!e.date && !e.oldDate))) {\n                    return;\n                }\n                element.trigger(e);\n            },\n\n            viewUpdate = function (e) {\n\n                if (e === 'y') {\n                    e = 'YYYY';\n                }\n\n                if (e === 'M') {\n                    e = 'YYYY MMMM';\n                }\n\n                notifyEvent({\n                    type: 'dp.update',\n                    change: e,\n                    viewDate: viewDate.clone()\n                });\n            },\n\n            showMode = function (dir) {\n                if (!widget) {\n                    return;\n                }\n                if (dir) {\n                    currentViewMode = Math.max(minViewModeNumber, Math.min(2, currentViewMode + dir));\n                }\n                widget.find('.datepicker > div').hide().filter('.datepicker-' + datePickerModes[currentViewMode].clsName).show();\n            },\n\n            fillDow = function () {\n                var row = $('<tr>'),\n                    currentDate = viewDate.clone().startOf('w').startOf('day');\n\n                if (options.calendarWeeks === true) {\n                    row.append($('<th>').addClass('cw').text('#'));\n                }\n\n                while (currentDate.isBefore(viewDate.clone().endOf('w'))) {\n                    row.append($('<th>').addClass('dow').text(currentDate.format('dd')));\n                    currentDate.add(1, 'days');\n                }\n                widget.find('.datepicker-days thead').append(row);\n            },\n\n            isInDisabledDates = function (testDate) {\n                return options.disabledDates[testDate.format('YYYY-MM-DD')] === true;\n            },\n\n            isInEnabledDates = function (testDate) {\n                return options.enabledDates[testDate.format('YYYY-MM-DD')] === true;\n            },\n\n            isInDisabledHours = function (testDate) {\n                return options.disabledHours[testDate.format('H')] === true;\n            },\n\n            isInEnabledHours = function (testDate) {\n                return options.enabledHours[testDate.format('H')] === true;\n            },\n\n            isValid = function (targetMoment, granularity) {\n\n\n                if (!targetMoment.isValid()) {\n                    return false;\n                }\n                if (options.disabledDates && granularity === 'd' && isInDisabledDates(targetMoment)) {\n                    return false;\n                }\n                if (options.enabledDates && granularity === 'd' && !isInEnabledDates(targetMoment)) {\n                    return false;\n                }\n                if (options.minDate && targetMoment.isBefore(options.minDate, granularity)) {\n                    return false;\n                }\n                if (options.maxDate && targetMoment.isAfter(options.maxDate, granularity)) {\n                    return false;\n                }\n                if (options.daysOfWeekDisabled && granularity === 'd' && options.daysOfWeekDisabled.indexOf(targetMoment.day()) !== -1) {\n                    return false;\n                }\n                if (options.disabledHours && (granularity === 'h' || granularity === 'm' || granularity === 's') && isInDisabledHours(targetMoment)) {\n                    return false;\n                }\n                if (options.enabledHours && (granularity === 'h' || granularity === 'm' || granularity === 's') && !isInEnabledHours(targetMoment)) {\n                    return false;\n                }\n                if (options.disabledTimeIntervals && (granularity === 'h' || granularity === 'm' || granularity === 's')) {\n                    var found = false;\n                    $.each(options.disabledTimeIntervals, function () {\n                        if (targetMoment.isBetween(this[0], this[1])) {\n                            found = true;\n                            return false;\n                        }\n                    });\n                    if (found) {\n                        return false;\n                    }\n                }\n                return true;\n            },\n\n            isValidHijriYear = function (hijriYear) {\n\n                let year = parseInt(hijriYear);\n                let maxDate = parseInt(options.maxDate.format('iYYYY'));\n                let minDate = parseInt(options.minDate.format(\"iYYYY\"));\n\n                return year >= minDate && year <= maxDate;\n\n            },\n            isValidHijriDate = function (targetMoment) {\n\n                if (!targetMoment.isValid())\n                    return;\n\n\n                let month = parseInt(targetMoment.format('iYYYYiMMiDD'));\n                let maxDate = parseInt(options.maxDate.format('iYYYYiMMiDD'));\n                let minDate = parseInt(options.minDate.format(\"iYYYYiMMiDD\"));\n\n                let result = month >= minDate && month <= maxDate;\n\n                return result;\n\n            },\n            isValidHijriMonth = function (targetMoment) {\n\n                if (!targetMoment.isValid())\n                    return;\n\n\n                let month = parseInt(targetMoment.format('iYYYYiMM'));\n                let maxDate = parseInt(options.maxDate.format('iYYYYiMM'));\n                let minDate = parseInt(options.minDate.format(\"iYYYYiMM\"));\n\n                let result = month >= minDate && month <= maxDate;\n\n                return result;\n\n            },\n\n            fillMonths = function () {\n\n                var spans = [],\n                    monthsShort = viewDate.clone().startOf('y').startOf('day');\n\n                while (monthsShort.isSame(viewDate, 'years')) {\n\n                    spans.push($('<span>').attr('data-action', 'selectMonth').addClass('month').text(monthsShort.format('MMM')));\n\n                    monthsShort.add(1, 'months');\n\n                }\n\n                widget.find('.datepicker-months td').empty().append(spans);\n            },\n\n            fillHijriMonths = function () {\n\n                let spans = [];\n                let monthsShort = viewDate.clone().startOf('hy').hour(12); // hour is changed to avoid DST issues in some browsers\n\n\n                let currentMonth = 1;\n\n                while (monthsShort.iYear() === viewDate.iYear()) {\n\n                    spans.push($('<span>')\n                        .attr('data-action', 'selectMonth')\n                        .attr('data-month', currentMonth)\n                        .addClass('month').text(monthsShort.format('iMMM')));\n                    monthsShort.add(1, 'iMonth');\n                    currentMonth++;\n                }\n\n                widget.find('.datepicker-months td').empty().append(spans);\n            },\n\n            updateHijriMonths = function () {\n\n                let monthsView = widget.find('.datepicker-months');\n                let monthsViewHeader = monthsView.find('th');\n                let months = monthsView.find('tbody').find('span');\n\n                monthsViewHeader.eq(0).find('span').attr('title', options.tooltips.prevYear);\n                monthsViewHeader.eq(1).attr('title', options.tooltips.selectYear);\n                monthsViewHeader.eq(2).find('span').attr('title', options.tooltips.nextYear);\n\n                monthsView.find('.disabled').removeClass('disabled');\n                monthsViewHeader.eq(1).text(viewDate.iYear());\n\n                if (!isValidHijriYear(viewDate.clone().subtract(1, 'iYear').format('iYYYY'))) {\n                    monthsViewHeader.eq(0).addClass('disabled');\n                }\n                if (!isValidHijriYear(viewDate.clone().add(1, 'iYear').format('iYYYY'))) {\n                    monthsViewHeader.eq(2).addClass('disabled');\n                }\n\n                months.removeClass('active');\n\n                let currentViewDate = viewDate.clone();\n                let currentDateFormat = currentViewDate.format(\"iYYYY-iM\") + \"-01\";\n                let currentDate = moment(currentDateFormat, 'iYYYY-iM-iD');\n\n                months.each(function (index) {\n\n                    let monthFormat = currentDate.format(\"iYYYY-\") + (index + 1) + \"-1\";\n                    let dateToValidate = moment(monthFormat, \"iYYYY-iM-iD\");\n                    let selectedMonth = date.format('iM');\n\n                    if (date.isSame(viewDate, 'iM') && selectedMonth && $(this).attr('data-month') == selectedMonth) {\n                        $(this).addClass('active');\n                    }\n\n                    if (!isValidHijriMonth(dateToValidate)) {\n                        $(this).addClass('disabled');\n                    }\n                });\n            },\n\n            updateHijriYears = function () {\n\n                let yearsView = widget.find('.datepicker-years');\n                let yearsViewHeader = yearsView.find('th');\n                let startYear = viewDate.clone().subtract(5, 'iYear');\n                let endYear = viewDate.clone().add(6, 'iYear');\n                let html = $('<div></div>');\n\n                yearsViewHeader.eq(0).find('span').attr('title', options.tooltips.prevDecade);\n                yearsViewHeader.eq(1).attr('title', options.tooltips.selectDecade);\n                yearsViewHeader.eq(2).find('span').attr('title', options.tooltips.nextDecade);\n                yearsViewHeader.eq(1).text(startYear.iYear() + '-' + endYear.iYear());\n\n                yearsView.find('.disabled').removeClass('disabled');\n\n                if (options.minDate && options.minDate.isAfter(startYear, 'iy')) {\n\n                    yearsViewHeader.eq(0).addClass('disabled');\n                }\n\n\n                if (options.maxDate && options.maxDate.isBefore(endYear, 'iy')) {\n                    yearsViewHeader.eq(2).addClass('disabled');\n                }\n\n                if (startYear.iYear() == 1355)\n                    return;\n\n                while (!startYear.isAfter(endYear, 'y')) {\n\n                    let span = $('<span data-action=\"selectYear\" class=\"year\"></span>');\n                    let isActive = startYear.iYear() === date.iYear();\n                    let isDisabled = !isValidHijriYear(startYear.format('iYYYY'));\n\n                    span.html(startYear.iYear());\n\n                    if (isActive)\n                        span.addClass(\"active\");\n\n                    if (isDisabled)\n                        span.addClass('disabled');\n\n                    html.append(span);\n\n                    startYear.add(1, 'iYear');\n                }\n\n                yearsView.find('td').html(html);\n            },\n            updateMonths = function () {\n                let monthsView = widget.find('.datepicker-months'),\n                    monthsViewHeader = monthsView.find('th'),\n                    months = monthsView.find('tbody').find('span');\n\n                monthsViewHeader.eq(0).find('span').attr('title', options.tooltips.prevYear);\n                monthsViewHeader.eq(1).attr('title', options.tooltips.selectYear);\n                monthsViewHeader.eq(2).find('span').attr('title', options.tooltips.nextYear);\n\n                monthsView.find('.disabled').removeClass('disabled');\n\n                if (!isValid(viewDate.clone().subtract(1, 'years'), 'y')) {\n                    monthsViewHeader.eq(0).addClass('disabled');\n                }\n\n                monthsViewHeader.eq(1).text(viewDate.year());\n\n                if (!isValid(viewDate.clone().add(1, 'y'), 'y')) {\n                    monthsViewHeader.eq(2).addClass('disabled');\n                }\n\n                months.removeClass('active');\n                if (date.isSame(viewDate, 'y') && !unset) {\n\n                    months.eq(date.month()).addClass('active');\n                }\n\n                months.each(function (index) {\n                    if (!isValid(viewDate.clone().month(index), 'M')) {\n                        $(this).addClass('disabled');\n                    }\n                });\n            },\n            updateYears = function () {\n\n                var yearsView = widget.find('.datepicker-years'),\n                    yearsViewHeader = yearsView.find('th'),\n                    startYear = viewDate.clone().subtract(5, 'y'),\n                    endYear = viewDate.clone().add(6, 'y'),\n                    html = '';\n\n                yearsViewHeader.eq(0).find('span').attr('title', options.tooltips.prevDecade);\n                yearsViewHeader.eq(1).attr('title', options.tooltips.selectDecade);\n                yearsViewHeader.eq(2).find('span').attr('title', options.tooltips.nextDecade);\n\n                yearsView.find('.disabled').removeClass('disabled');\n\n                if (options.minDate && options.minDate.isAfter(startYear, 'y')) {\n                    yearsViewHeader.eq(0).addClass('disabled');\n                }\n\n                yearsViewHeader.eq(1).text(startYear.year() + '-' + endYear.year());\n\n                if (options.maxDate && options.maxDate.isBefore(endYear, 'y')) {\n                    yearsViewHeader.eq(2).addClass('disabled');\n                }\n\n                while (!startYear.isAfter(endYear, 'y')) {\n                    html += '<span data-action=\"selectYear\" class=\"year' + (startYear.isSame(date, 'y') && !unset ? ' active' : '') + (!isValid(startYear, 'y') ? ' disabled' : '') + '\">' + startYear.year() + '</span>';\n                    startYear.add(1, 'y');\n                }\n\n                yearsView.find('td').html(html);\n            },\n\n            fillDate = function () {\n\n                if (options.hijri) {\n                    fillHijriDate();\n                    return;\n                }\n\n\n                var daysView = widget.find('.datepicker-days'),\n                    daysViewHeader = daysView.find('th'),\n                    currentDate,\n                    html = [],\n                    row,\n                    clsName,\n                    i;\n\n                if (!hasDate()) {\n                    return;\n                }\n\n                daysViewHeader.eq(0).find('span').attr('title', options.tooltips.prevMonth);\n                daysViewHeader.eq(1).attr('title', options.tooltips.selectMonth);\n                daysViewHeader.eq(2).find('span').attr('title', options.tooltips.nextMonth);\n\n                daysView.find('.disabled').removeClass('disabled');\n                daysViewHeader.eq(1).text(viewDate.format(options.dayViewHeaderFormat));\n\n                if (!isValid(viewDate.clone().subtract(1, 'months'), 'months')) {\n                    daysViewHeader.eq(0).addClass('disabled');\n                }\n                if (!isValid(viewDate.clone().add(1, 'months'), 'months')) {\n                    daysViewHeader.eq(2).addClass('disabled');\n                }\n\n                currentDate = viewDate.clone().startOf('months').startOf('weeks').startOf('days');\n\n                for (i = 0; i < 42; i++) { //always display 42 days (should show 6 weeks)\n                    if (currentDate.weekday() === 0) {\n                        row = $('<tr>');\n                        if (options.calendarWeeks) {\n                            row.append('<td class=\"cw\">' + currentDate.week() + '</td>');\n                        }\n                        html.push(row);\n                    }\n                    clsName = '';\n                    if (currentDate.isBefore(viewDate, 'months')) {\n                        clsName += ' old';\n                    }\n                    if (currentDate.isAfter(viewDate, 'months')) {\n                        clsName += ' new';\n                    }\n                    if (currentDate.isSame(date, 'days') && !unset) {\n                        clsName += ' active';\n                    }\n                    if (!isValid(currentDate, 'days')) {\n                        clsName += ' disabled';\n                    }\n                    if (currentDate.isSame(getMoment(), 'days')) {\n                        clsName += ' today';\n                    }\n                    if (currentDate.day() === 6 || currentDate.day() === 5) {\n                        clsName += ' weekend';\n                    }\n                    row.append('<td data-action=\"selectDay\" data-day=\"' + currentDate.format('L') + '\" class=\"day' + clsName + '\">' + currentDate.date() + '</td>');\n                    currentDate.add(1, 'days');\n                }\n\n                daysView.find('tbody').empty().append(html);\n\n                updateMonths();\n\n                updateYears();\n\n                //updateDecades();\n\n            },\n\n            fillHijriDate = function () {\n                var daysView = widget.find('.datepicker-days'),\n                    daysViewHeader = daysView.find('th'),\n                    currentDate,\n                    html = [],\n                    row,\n                    clsName,\n                    i;\n\n                if (!hasDate()) {\n                    return;\n                }\n\n                daysViewHeader.eq(0).find('span').attr('title', options.tooltips.prevMonth);\n                daysViewHeader.eq(1).attr('title', options.tooltips.selectMonth);\n                daysViewHeader.eq(2).find('span').attr('title', options.tooltips.nextMonth);\n\n                daysView.find('.disabled').removeClass('disabled');\n                daysViewHeader.eq(1).text(viewDate.format(options.hijriDayViewHeaderFormat));\n\n                if (!isValid(viewDate.clone().subtract(1, 'iMonth'), 'iMonth')) {\n                    daysViewHeader.eq(0).addClass('disabled');\n                }\n                if (!isValid(viewDate.clone().add(1, 'iMonth'), 'iMonth')) {\n                    daysViewHeader.eq(2).addClass('disabled');\n                }\n\n                currentDate = viewDate.clone().startOf('iMonth').startOf('week');\n                for (i = 0; i < 42; i++) { // always display 42 days (should be show 6 weeks)\n\n                    if (currentDate.weekday() === 0) {\n                        row = $('<tr>');\n                        if (options.calendarWeeks) {\n                            row.append('<td class=\"cw\">' + currentDate.week() + '</td>');\n                        }\n                        html.push(row);\n                    }\n                    clsName = '';\n                    if (currentDate.iMonth() < viewDate.iMonth()) {\n                        clsName += ' old';\n                    }\n                    if (currentDate.iMonth() > viewDate.iMonth()) {\n                        clsName += ' new';\n                    }\n                    if (currentDate.isSame(date, 'd') && !unset) {\n                        clsName += ' active';\n                    }\n                    if (!isValid(currentDate, 'd')) {\n                        clsName += ' disabled';\n                    }\n                    if (currentDate.isSame(moment(), 'd')) {\n                        clsName += ' today';\n                    }\n                    if (currentDate.day() === 5 || currentDate.day() === 6) {\n                        clsName += ' weekend';\n                    }\n                    row.append('<td data-action=\"selectDay\" data-mday=\"' + currentDate.date() + '\" data-day=\"' + currentDate.format('L') + '\" class=\"day' + clsName + '\">' + currentDate.iDate() + '</td>');\n                    //row.append('<td data-action=\"selectDay\" data-day=\"' + currentDate.date() + '\" class=\"day' + clsName + '\">' + currentDate.hDate() + '</td>');\n                    currentDate.add(1, 'days');\n                }\n\n                daysView.find('tbody').empty().append(html);\n\n                updateHijriMonths();\n\n                updateHijriYears();\n                //updateHijriDecades();\n\n            },\n\n            fillHours = function () {\n                var table = widget.find('.timepicker-hours table'),\n                    currentHour = viewDate.clone().startOf('day'),\n                    html = [],\n                    row = $('<tr>');\n\n                if (viewDate.hour() > 11 && !use24Hours) {\n                    currentHour.hour(12);\n                }\n                while (currentHour.isSame(viewDate, 'd') && (use24Hours || (viewDate.hour() < 12 && currentHour.hour() < 12) || viewDate.hour() > 11)) {\n                    if (currentHour.hour() % 4 === 0) {\n                        row = $('<tr>');\n                        html.push(row);\n                    }\n                    row.append('<td data-action=\"selectHour\" class=\"hour' + (!isValid(currentHour, 'h') ? ' disabled' : '') + '\">' + currentHour.format(use24Hours ? 'HH' : 'hh') + '</td>');\n                    currentHour.add(1, 'h');\n                }\n                table.empty().append(html);\n            },\n\n            fillMinutes = function () {\n                var table = widget.find('.timepicker-minutes table'),\n                    currentMinute = viewDate.clone().startOf('h'),\n                    html = [],\n                    row = $('<tr>'),\n                    step = options.stepping === 1 ? 5 : options.stepping;\n\n                while (viewDate.isSame(currentMinute, 'h')) {\n                    if (currentMinute.minute() % (step * 4) === 0) {\n                        row = $('<tr>');\n                        html.push(row);\n                    }\n                    row.append('<td data-action=\"selectMinute\" class=\"minute' + (!isValid(currentMinute, 'm') ? ' disabled' : '') + '\">' + currentMinute.format('mm') + '</td>');\n                    currentMinute.add(step, 'm');\n                }\n                table.empty().append(html);\n            },\n\n            fillSeconds = function () {\n                var table = widget.find('.timepicker-seconds table'),\n                    currentSecond = viewDate.clone().startOf('m'),\n                    html = [],\n                    row = $('<tr>');\n\n                while (viewDate.isSame(currentSecond, 'm')) {\n                    if (currentSecond.second() % 20 === 0) {\n                        row = $('<tr>');\n                        html.push(row);\n                    }\n                    row.append('<td data-action=\"selectSecond\" class=\"second' + (!isValid(currentSecond, 's') ? ' disabled' : '') + '\">' + currentSecond.format('ss') + '</td>');\n                    currentSecond.add(5, 's');\n                }\n\n                table.empty().append(html);\n            },\n\n            fillTime = function () {\n                var toggle, newDate, timeComponents = widget.find('.timepicker span[data-time-component]');\n\n                if (!use24Hours) {\n                    toggle = widget.find('.timepicker [data-action=togglePeriod]');\n                    newDate = date.clone().add((date.hours() >= 12) ? -12 : 12, 'h');\n\n                    toggle.text(date.format('A'));\n\n                    if (isValid(newDate, 'h')) {\n                        toggle.removeClass('disabled');\n                    } else {\n                        toggle.addClass('disabled');\n                    }\n                }\n                timeComponents.filter('[data-time-component=hours]').text(date.format(use24Hours ? 'HH' : 'hh'));\n                timeComponents.filter('[data-time-component=minutes]').text(date.format('mm'));\n                timeComponents.filter('[data-time-component=seconds]').text(date.format('ss'));\n\n                fillHours();\n                fillMinutes();\n                fillSeconds();\n            },\n\n            update = function () {\n\n                if (!widget) {\n                    return;\n                }\n\n                fillDate();\n                fillTime();\n            },\n\n            setValue = function (targetMoment) {\n                var oldDate = unset ? null : date;\n\n                // case of calling setValue(null or false)\n                if (!targetMoment) {\n                    unset = true;\n                    input.val('');\n                    element.data('date', '');\n                    notifyEvent({\n                        type: 'dp.change',\n                        date: false,\n                        oldDate: oldDate\n                    });\n                    update();\n                    return;\n                }\n\n                targetMoment = targetMoment.clone().locale(options.locale);\n\n                if (options.stepping !== 1) {\n                    targetMoment.minutes((Math.round(targetMoment.minutes() / options.stepping) * options.stepping) % 60).seconds(0);\n                }\n\n                if (isValid(targetMoment)) {\n\n                    date = targetMoment;\n                    viewDate = date.clone();\n                    input.val(date.format(actualFormat));\n                    element.data('date', date.format(actualFormat));\n                    unset = false;\n                    update();\n                    notifyEvent({\n                        type: 'dp.change',\n                        date: date.clone(),\n                        oldDate: oldDate\n                    });\n                } else {\n                    if (!options.keepInvalid) {\n                        input.val(unset ? '' : date.format(actualFormat));\n                    }\n                    notifyEvent({\n                        type: 'dp.error',\n                        date: targetMoment\n                    });\n                }\n            },\n\n            hide = function () {\n                ///<summary>Hides the widget. Possibly will emit dp.hide</summary>\n                var transitioning = false;\n                if (!widget) {\n                    return picker;\n                }\n                // Ignore event if in the middle of a picker transition\n                widget.find('.collapse').each(function () {\n                    var collapseData = $(this).data('collapse');\n                    if (collapseData && collapseData.transitioning) {\n                        transitioning = true;\n                        return false;\n                    }\n                    return true;\n                });\n                if (transitioning) {\n                    return picker;\n                }\n                if (component && component.hasClass('btn')) {\n                    component.toggleClass('active');\n                }\n                widget.hide();\n\n                $(window).off('resize', place);\n                widget.off('click', '[data-action]');\n                widget.off('mousedown', false);\n\n                widget.remove();\n                widget = false;\n\n                notifyEvent({\n                    type: 'dp.hide',\n                    date: date.clone()\n                });\n\n                input.blur();\n\n                return picker;\n            },\n\n            clear = function () {\n                setValue(null);\n            },\n\n            /********************************************************************************\n             *\n             * Widget UI interaction functions\n             *\n             ********************************************************************************/\n            actions = {\n                next: function () {\n\n                    var navFnc = datePickerModes[currentViewMode].navFnc;\n\n                    viewDate.add(datePickerModes[currentViewMode].navStep, navFnc);\n\n                    if (options.hijri) {\n                        fillHijriDate();\n                    } else {\n                        fillDate();\n                    }\n                    viewUpdate(navFnc);\n                },\n\n                previous: function () {\n                    var navFnc = datePickerModes[currentViewMode].navFnc;\n                    viewDate.subtract(datePickerModes[currentViewMode].navStep, navFnc);\n                    if (options.hijri) {\n                        fillHijriDate();\n                    } else {\n                        fillDate();\n                    }\n                    viewUpdate(navFnc);\n                },\n\n                pickerSwitch: function () {\n                    showMode(1);\n                },\n\n                selectMonth: function (e) {\n                    var month = $(e.target).closest('tbody').find('span').index($(e.target));\n                    if (options.hijri) {\n                        viewDate.iMonth(month);\n                    } else {\n                        viewDate.month(month);\n                    }\n                    if (currentViewMode === minViewModeNumber) {\n                        if (options.hijri) {\n                            setValue(date.clone().year(viewDate.iYear()).month(viewDate.iMonth()));\n                        } else {\n                            setValue(date.clone().year(viewDate.year()).month(viewDate.month()));\n                        }\n                        if (!options.inline) {\n                            hide();\n                        }\n                    } else {\n                        showMode(-1);\n                        fillDate();\n                    }\n                    if (options.hijri) {\n                        viewUpdate('iM');\n                    } else {\n                        viewUpdate('M');\n                    }\n                },\n\n                selectYear: function (e) {\n\n                    var year = parseInt($(e.target).text(), 10) || 0;\n                    if (options.hijri) {\n                        viewDate.iYear(year);\n                    } else {\n                        viewDate.year(year);\n                    }\n                    if (currentViewMode === minViewModeNumber) {\n                        if (options.hijri) {\n                            setValue(date.clone().iYear(viewDate.iYear()));\n                        } else {\n                            setValue(date.clone().year(viewDate.year()));\n                        }\n                        if (!options.inline) {\n                            hide();\n                        }\n                    } else {\n                        showMode(-1);\n                        fillDate();\n                    }\n                    if (options.hijri) {\n                        viewUpdate('hYYYY');\n                    } else {\n                        viewUpdate('YYYY');\n                    }\n                },\n\n                selectDecade: function (e) {\n                    var year = parseInt($(e.target).data('selection'), 10) || 0;\n                    if (options.hijri) {\n                        viewDate.iYear(year);\n                    } else {\n                        viewDate.year(year);\n                    }\n                    if (currentViewMode === minViewModeNumber) {\n                        if (options.hijri) {\n                            setValue(date.clone().iYear(viewDate.iYear()));\n                        } else {\n                            setValue(date.clone().year(viewDate.year()));\n                        }\n                        if (!options.inline) {\n                            hide();\n                        }\n                    } else {\n                        showMode(-1);\n                        fillDate();\n                    }\n                    if (options.hijri) {\n                        viewUpdate('hYYYY');\n                    } else {\n                        viewUpdate('YYYY');\n                    }\n                },\n\n                selectDay: function (e) {\n                    var day = viewDate.clone();\n\n                    if (options.hijri) {\n                        if ($(e.target).is('.old')) {\n                            day.subtract(1, 'iMonth');\n                        }\n                        if ($(e.target).is('.new')) {\n                            day.add(1, 'iMonth');\n                        }\n                        setValue(day.iDate(parseInt($(e.target).text(), 10)));\n                    } else {\n                        if ($(e.target).is('.old')) {\n                            day.subtract(1, 'months');\n                        }\n                        if ($(e.target).is('.new')) {\n                            day.add(1, 'months');\n                        }\n                        setValue(day.date(parseInt($(e.target).text(), 10)));\n                    }\n                    if (!hasTime() && !options.keepOpen && !options.inline) {\n                        hide();\n                    }\n                },\n\n                incrementHours: function () {\n                    var newDate = date.clone().add(1, 'h');\n                    if (isValid(newDate, 'h')) {\n                        setValue(newDate);\n                    }\n                },\n\n                incrementMinutes: function () {\n                    var newDate = date.clone().add(options.stepping, 'm');\n                    if (isValid(newDate, 'm')) {\n                        setValue(newDate);\n                    }\n                },\n\n                incrementSeconds: function () {\n                    var newDate = date.clone().add(1, 's');\n                    if (isValid(newDate, 's')) {\n                        setValue(newDate);\n                    }\n                },\n\n                decrementHours: function () {\n                    var newDate = date.clone().subtract(1, 'h');\n                    if (isValid(newDate, 'h')) {\n                        setValue(newDate);\n                    }\n                },\n\n                decrementMinutes: function () {\n                    var newDate = date.clone().subtract(options.stepping, 'm');\n                    if (isValid(newDate, 'm')) {\n                        setValue(newDate);\n                    }\n                },\n\n                decrementSeconds: function () {\n                    var newDate = date.clone().subtract(1, 's');\n                    if (isValid(newDate, 's')) {\n                        setValue(newDate);\n                    }\n                },\n\n                togglePeriod: function () {\n                    setValue(date.clone().add((date.hours() >= 12) ? -12 : 12, 'h'));\n                },\n\n                togglePicker: function (e) {\n                    var $this = $(e.target),\n                        $parent = $this.closest('ul'),\n                        expanded = $parent.find('.in'),\n                        closed = $parent.find('.collapse:not(.in)'),\n                        collapseData;\n\n                    if (expanded && expanded.length) {\n                        collapseData = expanded.data('collapse');\n                        if (collapseData && collapseData.transitioning) {\n                            return;\n                        }\n                        if (expanded.collapse) { // if collapse plugin is available through bootstrap.js then use it\n                            expanded.collapse('hide');\n                            closed.collapse('show');\n                        } else { // otherwise just toggle in class on the two views\n                            expanded.removeClass('in');\n                            closed.addClass('in');\n                        }\n                        if ($this.is('span')) {\n                            $this.toggleClass(options.icons.time + ' ' + options.icons.date);\n                        } else {\n                            $this.find('span').toggleClass(options.icons.time + ' ' + options.icons.date);\n                        }\n\n                        // NOTE: uncomment if toggled state will be restored in show()\n                        //if (component) {\n                        //    component.find('span').toggleClass(options.icons.time + ' ' + options.icons.date);\n                        //}\n                    }\n                },\n\n                showPicker: function () {\n                    widget.find('.timepicker > div:not(.timepicker-picker)').hide();\n                    widget.find('.timepicker .timepicker-picker').show();\n                },\n\n                showHours: function () {\n                    widget.find('.timepicker .timepicker-picker').hide();\n                    widget.find('.timepicker .timepicker-hours').show();\n                },\n\n                showMinutes: function () {\n                    widget.find('.timepicker .timepicker-picker').hide();\n                    widget.find('.timepicker .timepicker-minutes').show();\n                },\n\n                showSeconds: function () {\n                    widget.find('.timepicker .timepicker-picker').hide();\n                    widget.find('.timepicker .timepicker-seconds').show();\n                },\n\n                selectHour: function (e) {\n                    var hour = parseInt($(e.target).text(), 10);\n\n                    if (!use24Hours) {\n                        if (date.hours() >= 12) {\n                            if (hour !== 12) {\n                                hour += 12;\n                            }\n                        } else {\n                            if (hour === 12) {\n                                hour = 0;\n                            }\n                        }\n                    }\n                    setValue(date.clone().hours(hour));\n                    actions.showPicker.call(picker);\n                },\n\n                selectMinute: function (e) {\n                    setValue(date.clone().minutes(parseInt($(e.target).text(), 10)));\n                    actions.showPicker.call(picker);\n                },\n\n                selectSecond: function (e) {\n                    setValue(date.clone().seconds(parseInt($(e.target).text(), 10)));\n                    actions.showPicker.call(picker);\n                },\n\n                clear: clear,\n\n                today: function () {\n\n                    var todaysDate = getMoment();\n                    if (isValid(todaysDate, 'd')) {\n                        setValue(todaysDate);\n                    }\n                },\n\n                close: hide,\n\n                switchDate: function () {\n\n                    if (options.hijri) {\n\n                        options.hijri = false;\n                        fillDate();\n                        fillMonths();\n\n                        initFormatting();\n\n                        $(\".data-switch-button\").html(options.hijriText);\n                    }\n                    else {\n                        options.hijri = true;\n                        fillHijriDate();\n                        fillHijriMonths();\n                        initFormatting();\n\n                        $(\".data-switch-button\").html(options.gregorianText);\n\n                    }\n\n                }\n            },\n\n            doAction = function (e) {\n\n\n\n                if ($(e.currentTarget).is('.disabled')) {\n                    return false;\n                }\n                actions[$(e.currentTarget).data('action')].apply(picker, arguments);\n                return false;\n            },\n\n            show = function () {\n                ///<summary>Shows the widget. Possibly will emit dp.show and dp.change</summary>\n                var currentMoment,\n                    useCurrentGranularity = {\n                        'year': function (m) {\n                            return m.month(0).date(1).hours(0).seconds(0).minutes(0);\n                        },\n                        'month': function (m) {\n                            return m.date(1).hours(0).seconds(0).minutes(0);\n                        },\n                        'day': function (m) {\n                            return m.hours(0).seconds(0).minutes(0);\n                        },\n                        'hour': function (m) {\n                            return m.seconds(0).minutes(0);\n                        },\n                        'minute': function (m) {\n                            return m.seconds(0);\n                        }\n                    };\n\n                if (input.prop('disabled') || (!options.ignoreReadonly && input.prop('readonly')) || widget) {\n                    return picker;\n                }\n                if (input.val() !== undefined && input.val().trim().length !== 0) {\n                    setValue(parseInputDate(input.val().trim()));\n                } else if (options.useCurrent && unset && ((input.is('input') && input.val().trim().length === 0) || options.inline)) {\n                    currentMoment = getMoment();\n                    if (typeof options.useCurrent === 'string') {\n                        currentMoment = useCurrentGranularity[options.useCurrent](currentMoment);\n                    }\n                    setValue(currentMoment);\n                }\n\n                widget = getTemplate();\n\n                fillDow();\n                if (options.hijri) {\n                    fillHijriMonths();\n                } else {\n                    fillMonths();\n                }\n\n                widget.find('.timepicker-hours').hide();\n                widget.find('.timepicker-minutes').hide();\n                widget.find('.timepicker-seconds').hide();\n\n                update();\n                showMode();\n\n                $(window).on('resize', place);\n                widget.on('click', '[data-action]', doAction); // this handles clicks on the widget\n                widget.on('mousedown', false);\n\n                if (component && component.hasClass('btn')) {\n                    component.toggleClass('active');\n                }\n                widget.show();\n                place();\n\n                if (options.focusOnShow && !input.is(':focus')) {\n                    input.focus();\n                }\n\n                notifyEvent({\n                    type: 'dp.show'\n                });\n                return picker;\n            },\n\n            toggle = function () {\n                /// <summary>Shows or hides the widget</summary>\n                return (widget ? hide() : show());\n            },\n\n            parseInputDate = function (inputDate) {\n                if (options.parseInputDate === undefined) {\n                    if (moment.isMoment(inputDate) || inputDate instanceof Date) {\n                        inputDate = moment(inputDate);\n                    } else {\n                        inputDate = getMoment(inputDate);\n                    }\n                } else {\n                    inputDate = options.parseInputDate(inputDate);\n                }\n                inputDate.locale(options.locale);\n                return inputDate;\n            },\n\n            keydown = function (e) {\n                var handler = null,\n                    index,\n                    index2,\n                    pressedKeys = [],\n                    pressedModifiers = {},\n                    currentKey = e.which,\n                    keyBindKeys,\n                    allModifiersPressed,\n                    pressed = 'p';\n\n                keyState[currentKey] = pressed;\n\n                for (index in keyState) {\n                    if (keyState.hasOwnProperty(index) && keyState[index] === pressed) {\n                        pressedKeys.push(index);\n                        if (parseInt(index, 10) !== currentKey) {\n                            pressedModifiers[index] = true;\n                        }\n                    }\n                }\n\n                for (index in options.keyBinds) {\n                    if (options.keyBinds.hasOwnProperty(index) && typeof (options.keyBinds[index]) === 'function') {\n                        keyBindKeys = index.split(' ');\n                        if (keyBindKeys.length === pressedKeys.length && keyMap[currentKey] === keyBindKeys[keyBindKeys.length - 1]) {\n                            allModifiersPressed = true;\n                            for (index2 = keyBindKeys.length - 2; index2 >= 0; index2--) {\n                                if (!(keyMap[keyBindKeys[index2]] in pressedModifiers)) {\n                                    allModifiersPressed = false;\n                                    break;\n                                }\n                            }\n                            if (allModifiersPressed) {\n                                handler = options.keyBinds[index];\n                                break;\n                            }\n                        }\n                    }\n                }\n\n                if (handler) {\n                    handler.call(picker, widget);\n                    e.stopPropagation();\n                    e.preventDefault();\n                }\n            },\n\n            keyup = function (e) {\n                keyState[e.which] = 'r';\n                e.stopPropagation();\n                e.preventDefault();\n            },\n\n            change = function (e) {\n                var val = $(e.target).val().trim(),\n                    parsedDate = val ? parseInputDate(val) : null;\n                setValue(parsedDate);\n                e.stopImmediatePropagation();\n                return false;\n            },\n\n            attachDatePickerElementEvents = function () {\n                input.on({\n                    'change': change,\n                    'blur': options.debug ? '' : hide,\n                    'keydown': keydown,\n                    'keyup': keyup,\n                    'focus': options.allowInputToggle ? show : ''\n                });\n\n                if (element.is('input')) {\n                    input.on({\n                        'focus': show\n                    });\n                } else if (component) {\n                    component.on('click', toggle);\n                    component.on('mousedown', false);\n                }\n            },\n\n            detachDatePickerElementEvents = function () {\n                input.off({\n                    'change': change,\n                    'blur': blur,\n                    'keydown': keydown,\n                    'keyup': keyup,\n                    'focus': options.allowInputToggle ? hide : ''\n                });\n\n                if (element.is('input')) {\n                    input.off({\n                        'focus': show\n                    });\n                } else if (component) {\n                    component.off('click', toggle);\n                    component.off('mousedown', false);\n                }\n            },\n\n            indexGivenDates = function (givenDatesArray) {\n                // Store given enabledDates and disabledDates as keys.\n                // This way we can check their existence in O(1) time instead of looping through whole array.\n                // (for example: options.enabledDates['2014-02-27'] === true)\n                var givenDatesIndexed = {};\n                $.each(givenDatesArray, function () {\n                    var dDate = parseInputDate(this);\n                    if (dDate.isValid()) {\n                        givenDatesIndexed[dDate.format('YYYY-MM-DD')] = true;\n                    }\n                });\n                return (Object.keys(givenDatesIndexed).length) ? givenDatesIndexed : false;\n            },\n\n            indexGivenHours = function (givenHoursArray) {\n                // Store given enabledHours and disabledHours as keys.\n                // This way we can check their existence in O(1) time instead of looping through whole array.\n                // (for example: options.enabledHours['2014-02-27'] === true)\n                var givenHoursIndexed = {};\n                $.each(givenHoursArray, function () {\n                    givenHoursIndexed[this] = true;\n                });\n                return (Object.keys(givenHoursIndexed).length) ? givenHoursIndexed : false;\n            },\n\n            initFormatting = function () {\n\n                var format = options.format || 'L LT';\n\n                if (options.hijri) {\n                    format = options.hijriFormat;\n                }\n\n                actualFormat = format.replace(/(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g, function (formatInput) {\n                    var newinput = date.localeData().longDateFormat(formatInput) || formatInput;\n                    return newinput.replace(/(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g, function (formatInput2) { //temp fix for #740\n                        return date.localeData().longDateFormat(formatInput2) || formatInput2;\n                    });\n                });\n\n\n                parseFormats = options.extraFormats ? options.extraFormats.slice() : [];\n                if (parseFormats.indexOf(format) < 0 && parseFormats.indexOf(actualFormat) < 0) {\n                    parseFormats.push(actualFormat);\n                }\n\n                use24Hours = (actualFormat.toLowerCase().indexOf('a') < 1 && actualFormat.replace(/\\[.*?\\]/g, '').indexOf('h') < 1);\n\n                if (isEnabled('y')) {\n                    minViewModeNumber = 2;\n                }\n                if (isEnabled('M')) {\n                    minViewModeNumber = 1;\n                }\n                if (isEnabled('d')) {\n                    minViewModeNumber = 0;\n                }\n\n                currentViewMode = Math.max(minViewModeNumber, currentViewMode);\n\n                if (!unset) {\n                    setValue(date);\n                }\n            };\n\n        /********************************************************************************\n         *\n         * Public API functions\n         * =====================\n         *\n         * Important: Do not expose direct references to private objects or the options\n         * object to the outer world. Always return a clone when returning values or make\n         * a clone when setting a private variable.\n         *\n         ********************************************************************************/\n        picker.destroy = function () {\n            ///<summary>Destroys the widget and removes all attached event listeners</summary>\n            hide();\n            detachDatePickerElementEvents();\n            element.removeData('HijriDatePicker');\n            element.removeData('date');\n        };\n\n        picker.toggle = toggle;\n\n        picker.show = show;\n\n        picker.hide = hide;\n\n        picker.disable = function () {\n            ///<summary>Disables the input element, the component is attached to, by adding a disabled=\"true\" attribute to it.\n            ///If the widget was visible before that call it is hidden. Possibly emits dp.hide</summary>\n            hide();\n            if (component && component.hasClass('btn')) {\n                component.addClass('disabled');\n            }\n            input.prop('disabled', true);\n            return picker;\n        };\n\n        picker.enable = function () {\n            ///<summary>Enables the input element, the component is attached to, by removing disabled attribute from it.</summary>\n            if (component && component.hasClass('btn')) {\n                component.removeClass('disabled');\n            }\n            input.prop('disabled', false);\n            return picker;\n        };\n\n        picker.ignoreReadonly = function (ignoreReadonly) {\n            if (arguments.length === 0) {\n                return options.ignoreReadonly;\n            }\n            if (typeof ignoreReadonly !== 'boolean') {\n                throw new TypeError('ignoreReadonly () expects a boolean parameter');\n            }\n            options.ignoreReadonly = ignoreReadonly;\n            return picker;\n        };\n\n        picker.options = function (newOptions) {\n            if (arguments.length === 0) {\n                return $.extend(true, {}, options);\n            }\n\n            if (!(newOptions instanceof Object)) {\n                throw new TypeError('options() options parameter should be an object');\n            }\n            $.extend(true, options, newOptions);\n            $.each(options, function (key, value) {\n\n                if (picker[key] !== undefined) {\n                    picker[key](value);\n                } else {\n\n                    //throw new TypeError('option ' + key + ' is not recognized!');\n                }\n            });\n            return picker;\n        };\n\n        picker.date = function (newDate) {\n            ///<signature helpKeyword=\"$.fn.datetimepicker.date\">\n            ///<summary>Returns the component's model current date, a moment object or null if not set.</summary>\n            ///<returns type=\"Moment\">date.clone()</returns>\n            ///</signature>\n            ///<signature>\n            ///<summary>Sets the components model current moment to it. Passing a null value unsets the components model current moment. Parsing of the newDate parameter is made using moment library with the options.format and options.useStrict components configuration.</summary>\n            ///<param name=\"newDate\" locid=\"$.fn.datetimepicker.date_p:newDate\">Takes string, Date, moment, null parameter.</param>\n            ///</signature>\n            if (arguments.length === 0) {\n                if (unset) {\n                    return null;\n                }\n                return date.clone();\n            }\n\n            if (newDate !== null && typeof newDate !== 'string' && !moment.isMoment(newDate) && !(newDate instanceof Date)) {\n                throw new TypeError('date() parameter must be one of [null, string, moment or Date]');\n            }\n\n            setValue(newDate === null ? null : parseInputDate(newDate));\n            return picker;\n        };\n\n        picker.format = function (newFormat) {\n            ///<summary>test su</summary>\n            ///<param name=\"newFormat\">info about para</param>\n            ///<returns type=\"string|boolean\">returns foo</returns>\n            if (arguments.length === 0) {\n                return options.format;\n            }\n\n            if ((typeof newFormat !== 'string') && ((typeof newFormat !== 'boolean') || (newFormat !== false))) {\n                throw new TypeError('format() expects a sting or boolean:false parameter ' + newFormat);\n            }\n\n            options.format = newFormat;\n            if (actualFormat) {\n                initFormatting(); // reinit formatting\n            }\n            return picker;\n        };\n\n        picker.hijriFormat = function (newFormat) {\n\n            /////<summary>test su</summary>\n            /////<param name=\"newFormat\">info about para</param>\n            /////<returns type=\"string|boolean\">returns foo</returns>\n            //if (arguments.length === 0) {\n            //    return options.format;\n            //}\n\n            //if ((typeof newFormat !== 'string') && ((typeof newFormat !== 'boolean') || (newFormat !== false))) {\n            //    throw new TypeError('format() expects a sting or boolean:false parameter ' + newFormat);\n            //}\n\n            //options.format = newFormat;\n            //if (actualFormat) {\n            //    initFormatting(); // reinit formatting\n            //}\n            //return picker;\n        };\n\n        picker.timeZone = function (newZone) {\n            if (arguments.length === 0) {\n                return options.timeZone;\n            }\n\n            options.timeZone = newZone;\n\n            return picker;\n        };\n\n        picker.dayViewHeaderFormat = function (newFormat) {\n            if (arguments.length === 0) {\n                return options.dayViewHeaderFormat;\n            }\n\n            if (typeof newFormat !== 'string') {\n                throw new TypeError('dayViewHeaderFormat() expects a string parameter');\n            }\n\n            options.dayViewHeaderFormat = newFormat;\n            return picker;\n        };\n\n        picker.hijriDayViewHeaderFormat = function (newFormat) {\n\n            //if (arguments.length === 0) {\n            //    return options.dayViewHeaderFormat;\n            //}\n\n            //if (typeof newFormat !== 'string') {\n            //    throw new TypeError('dayViewHeaderFormat() expects a string parameter');\n            //}\n\n            //options.dayViewHeaderFormat = newFormat;\n            //return picker;\n        };\n\n        picker.extraFormats = function (formats) {\n            if (arguments.length === 0) {\n                return options.extraFormats;\n            }\n\n            if (formats !== false && !(formats instanceof Array)) {\n                throw new TypeError('extraFormats() expects an array or false parameter');\n            }\n\n            options.extraFormats = formats;\n            if (parseFormats) {\n                initFormatting(); // reinit formatting\n            }\n            return picker;\n        };\n\n        picker.disabledDates = function (dates) {\n            ///<signature helpKeyword=\"$.fn.datetimepicker.disabledDates\">\n            ///<summary>Returns an array with the currently set disabled dates on the component.</summary>\n            ///<returns type=\"array\">options.disabledDates</returns>\n            ///</signature>\n            ///<signature>\n            ///<summary>Setting this takes precedence over options.minDate, options.maxDate configuration. Also calling this function removes the configuration of\n            ///options.enabledDates if such exist.</summary>\n            ///<param name=\"dates\" locid=\"$.fn.datetimepicker.disabledDates_p:dates\">Takes an [ string or Date or moment ] of values and allows the user to select only from those days.</param>\n            ///</signature>\n            if (arguments.length === 0) {\n                return (options.disabledDates ? $.extend({}, options.disabledDates) : options.disabledDates);\n            }\n\n            if (!dates) {\n                options.disabledDates = false;\n                update();\n                return picker;\n            }\n            if (!(dates instanceof Array)) {\n                throw new TypeError('disabledDates() expects an array parameter');\n            }\n            options.disabledDates = indexGivenDates(dates);\n            options.enabledDates = false;\n            update();\n            return picker;\n        };\n\n        picker.enabledDates = function (dates) {\n            ///<signature helpKeyword=\"$.fn.datetimepicker.enabledDates\">\n            ///<summary>Returns an array with the currently set enabled dates on the component.</summary>\n            ///<returns type=\"array\">options.enabledDates</returns>\n            ///</signature>\n            ///<signature>\n            ///<summary>Setting this takes precedence over options.minDate, options.maxDate configuration. Also calling this function removes the configuration of options.disabledDates if such exist.</summary>\n            ///<param name=\"dates\" locid=\"$.fn.datetimepicker.enabledDates_p:dates\">Takes an [ string or Date or moment ] of values and allows the user to select only from those days.</param>\n            ///</signature>\n            if (arguments.length === 0) {\n                return (options.enabledDates ? $.extend({}, options.enabledDates) : options.enabledDates);\n            }\n\n            if (!dates) {\n                options.enabledDates = false;\n                update();\n                return picker;\n            }\n            if (!(dates instanceof Array)) {\n                throw new TypeError('enabledDates() expects an array parameter');\n            }\n            options.enabledDates = indexGivenDates(dates);\n            options.disabledDates = false;\n            update();\n            return picker;\n        };\n\n        picker.daysOfWeekDisabled = function (daysOfWeekDisabled) {\n            if (arguments.length === 0) {\n                return options.daysOfWeekDisabled.splice(0);\n            }\n\n            if ((typeof daysOfWeekDisabled === 'boolean') && !daysOfWeekDisabled) {\n                options.daysOfWeekDisabled = false;\n                update();\n                return picker;\n            }\n\n            if (!(daysOfWeekDisabled instanceof Array)) {\n                throw new TypeError('daysOfWeekDisabled() expects an array parameter');\n            }\n            options.daysOfWeekDisabled = daysOfWeekDisabled.reduce(function (previousValue, currentValue) {\n                currentValue = parseInt(currentValue, 10);\n                if (currentValue > 6 || currentValue < 0 || isNaN(currentValue)) {\n                    return previousValue;\n                }\n                if (previousValue.indexOf(currentValue) === -1) {\n                    previousValue.push(currentValue);\n                }\n                return previousValue;\n            }, []).sort();\n            if (options.useCurrent && !options.keepInvalid) {\n                var tries = 0;\n                while (!isValid(date, 'd')) {\n                    date.add(1, 'days');\n                    if (tries === 7) {\n                        throw 'Tried 7 times to find a valid date';\n                    }\n                    tries++;\n                }\n                setValue(date);\n            }\n            update();\n            return picker;\n        };\n\n        picker.maxDate = function (maxDate) {\n            if (arguments.length === 0) {\n                return options.maxDate ? options.maxDate.clone() : options.maxDate;\n            }\n\n            if ((typeof maxDate === 'boolean') && maxDate === false) {\n                options.maxDate = false;\n                update();\n                return picker;\n            }\n\n            if (typeof maxDate === 'string') {\n                if (maxDate === 'now' || maxDate === 'moment') {\n                    maxDate = getMoment();\n                }\n            }\n\n            var parsedDate = parseInputDate(maxDate);\n\n            if (!parsedDate.isValid()) {\n                throw new TypeError('maxDate() Could not parse date parameter: ' + maxDate);\n            }\n            if (options.minDate && parsedDate.isBefore(options.minDate)) {\n                throw new TypeError('maxDate() date parameter is before options.minDate: ' + parsedDate.format(actualFormat));\n            }\n            options.maxDate = parsedDate;\n            if (options.useCurrent && !options.keepInvalid && date.isAfter(maxDate)) {\n                setValue(options.maxDate);\n            }\n            if (viewDate.isAfter(parsedDate)) {\n                viewDate = parsedDate.clone().subtract(options.stepping, 'm');\n            }\n            update();\n            return picker;\n        };\n\n        picker.minDate = function (minDate) {\n            if (arguments.length === 0) {\n                return options.minDate ? options.minDate.clone() : options.minDate;\n            }\n\n            if ((typeof minDate === 'boolean') && minDate === false) {\n                options.minDate = false;\n                update();\n                return picker;\n            }\n\n            if (typeof minDate === 'string') {\n                if (minDate === 'now' || minDate === 'moment') {\n                    minDate = getMoment();\n                }\n            }\n\n            var parsedDate = parseInputDate(minDate);\n\n            if (!parsedDate.isValid()) {\n                throw new TypeError('minDate() Could not parse date parameter: ' + minDate);\n            }\n            if (options.maxDate && parsedDate.isAfter(options.maxDate)) {\n                throw new TypeError('minDate() date parameter is after options.maxDate: ' + parsedDate.format(actualFormat));\n            }\n            options.minDate = parsedDate;\n            if (options.useCurrent && !options.keepInvalid && date.isBefore(minDate)) {\n                setValue(options.minDate);\n            }\n            if (viewDate.isBefore(parsedDate)) {\n                viewDate = parsedDate.clone().add(options.stepping, 'm');\n            }\n            update();\n            return picker;\n        };\n\n        picker.defaultDate = function (defaultDate) {\n            ///<signature helpKeyword=\"$.fn.datetimepicker.defaultDate\">\n            ///<summary>Returns a moment with the options.defaultDate option configuration or false if not set</summary>\n            ///<returns type=\"Moment\">date.clone()</returns>\n            ///</signature>\n            ///<signature>\n            ///<summary>Will set the picker's inital date. If a boolean:false value is passed the options.defaultDate parameter is cleared.</summary>\n            ///<param name=\"defaultDate\" locid=\"$.fn.datetimepicker.defaultDate_p:defaultDate\">Takes a string, Date, moment, boolean:false</param>\n            ///</signature>\n            if (arguments.length === 0) {\n                return options.defaultDate ? options.defaultDate.clone() : options.defaultDate;\n            }\n            if (!defaultDate) {\n                options.defaultDate = false;\n                return picker;\n            }\n\n            if (typeof defaultDate === 'string') {\n                if (defaultDate === 'now' || defaultDate === 'moment') {\n                    defaultDate = getMoment();\n                }\n            }\n\n            var parsedDate = parseInputDate(defaultDate);\n            if (!parsedDate.isValid()) {\n                throw new TypeError('defaultDate() Could not parse date parameter: ' + defaultDate);\n            }\n            if (!isValid(parsedDate)) {\n                throw new TypeError('defaultDate() date passed is invalid according to component setup validations');\n            }\n\n            options.defaultDate = parsedDate;\n\n            if ((options.defaultDate && options.inline) || input.val().trim() === '') {\n                setValue(options.defaultDate);\n            }\n            return picker;\n        };\n\n        picker.hijri = function (hijri) {\n            if (arguments.length === 0) {\n                if (options.hijri) {\n                    options.viewModes = ['days', 'months', 'years'];\n                }\n                return options.hijri;\n            }\n            if (typeof (hijri) !== \"boolean\") {\n                throw new TypeError('hijri() expects a boolean parameter');\n            }\n\n            options.hijri = hijri;\n\n            if (options.hijri) {\n                options.viewModes = ['days', 'months', 'years'];\n            }\n            return picker;\n        };\n\n        picker.isRTL = function () {\n\n            if (options.isRTL) {\n                //todo what goes here\n            }\n\n            return options.isRTL;\n        };\n\n        picker.locale = function (locale) {\n            if (arguments.length === 0) {\n                return options.locale;\n            }\n\n            if (!moment.localeData(locale)) {\n                throw new TypeError('locale() locale ' + locale + ' is not loaded from moment locales!');\n            }\n\n            options.locale = locale;\n            date.locale(options.locale);\n            viewDate.locale(options.locale);\n\n            if (actualFormat) {\n                initFormatting(); // reinit formatting\n            }\n            if (widget) {\n                hide();\n                show();\n            }\n            return picker;\n        };\n\n        picker.stepping = function (stepping) {\n            if (arguments.length === 0) {\n                return options.stepping;\n            }\n\n            stepping = parseInt(stepping, 10);\n            if (isNaN(stepping) || stepping < 1) {\n                stepping = 1;\n            }\n            options.stepping = stepping;\n            return picker;\n        };\n\n        picker.useCurrent = function (useCurrent) {\n            var useCurrentOptions = ['year', 'month', 'day', 'hour', 'minute'];\n            if (arguments.length === 0) {\n                return options.useCurrent;\n            }\n\n            if ((typeof useCurrent !== 'boolean') && (typeof useCurrent !== 'string')) {\n                throw new TypeError('useCurrent() expects a boolean or string parameter');\n            }\n            if (typeof useCurrent === 'string' && useCurrentOptions.indexOf(useCurrent.toLowerCase()) === -1) {\n                throw new TypeError('useCurrent() expects a string parameter of ' + useCurrentOptions.join(', '));\n            }\n            options.useCurrent = useCurrent;\n            return picker;\n        };\n\n        picker.collapse = function (collapse) {\n            if (arguments.length === 0) {\n                return options.collapse;\n            }\n\n            if (typeof collapse !== 'boolean') {\n                throw new TypeError('collapse() expects a boolean parameter');\n            }\n            if (options.collapse === collapse) {\n                return picker;\n            }\n            options.collapse = collapse;\n            if (widget) {\n                hide();\n                show();\n            }\n            return picker;\n        };\n\n        picker.icons = function (icons) {\n            if (arguments.length === 0) {\n                return $.extend({}, options.icons);\n            }\n\n            if (!(icons instanceof Object)) {\n                throw new TypeError('icons() expects parameter to be an Object');\n            }\n            $.extend(options.icons, icons);\n            if (widget) {\n                hide();\n                show();\n            }\n            return picker;\n        };\n\n        picker.tooltips = function (tooltips) {\n            if (arguments.length === 0) {\n                return $.extend({}, options.tooltips);\n            }\n\n            if (!(tooltips instanceof Object)) {\n                throw new TypeError('tooltips() expects parameter to be an Object');\n            }\n            $.extend(options.tooltips, tooltips);\n            if (widget) {\n                hide();\n                show();\n            }\n            return picker;\n        };\n\n        picker.useStrict = function (useStrict) {\n            if (arguments.length === 0) {\n                return options.useStrict;\n            }\n\n            if (typeof useStrict !== 'boolean') {\n                throw new TypeError('useStrict() expects a boolean parameter');\n            }\n            options.useStrict = useStrict;\n            return picker;\n        };\n\n        picker.sideBySide = function (sideBySide) {\n            if (arguments.length === 0) {\n                return options.sideBySide;\n            }\n\n            if (typeof sideBySide !== 'boolean') {\n                throw new TypeError('sideBySide() expects a boolean parameter');\n            }\n            options.sideBySide = sideBySide;\n            if (widget) {\n                hide();\n                show();\n            }\n            return picker;\n        };\n\n        picker.viewMode = function (viewMode) {\n            if (arguments.length === 0) {\n                return options.viewMode;\n            }\n\n            if (typeof viewMode !== 'string') {\n                throw new TypeError('viewMode() expects a string parameter');\n            }\n\n            if (viewModes.indexOf(viewMode) === -1) {\n                throw new TypeError('viewMode() parameter must be one of (' + viewModes.join(', ') + ') value');\n            }\n\n            options.viewMode = viewMode;\n            currentViewMode = Math.max(viewModes.indexOf(viewMode), minViewModeNumber);\n\n            showMode();\n            return picker;\n        };\n\n        picker.toolbarPlacement = function (toolbarPlacement) {\n            if (arguments.length === 0) {\n                return options.toolbarPlacement;\n            }\n\n            if (typeof toolbarPlacement !== 'string') {\n                throw new TypeError('toolbarPlacement() expects a string parameter');\n            }\n            if (toolbarPlacements.indexOf(toolbarPlacement) === -1) {\n                throw new TypeError('toolbarPlacement() parameter must be one of (' + toolbarPlacements.join(', ') + ') value');\n            }\n            options.toolbarPlacement = toolbarPlacement;\n\n            if (widget) {\n                hide();\n                show();\n            }\n            return picker;\n        };\n\n        picker.widgetPositioning = function (widgetPositioning) {\n            if (arguments.length === 0) {\n                return $.extend({}, options.widgetPositioning);\n            }\n\n            if (({}).toString.call(widgetPositioning) !== '[object Object]') {\n                throw new TypeError('widgetPositioning() expects an object variable');\n            }\n            if (widgetPositioning.horizontal) {\n                if (typeof widgetPositioning.horizontal !== 'string') {\n                    throw new TypeError('widgetPositioning() horizontal variable must be a string');\n                }\n                widgetPositioning.horizontal = widgetPositioning.horizontal.toLowerCase();\n                if (horizontalModes.indexOf(widgetPositioning.horizontal) === -1) {\n                    throw new TypeError('widgetPositioning() expects horizontal parameter to be one of (' + horizontalModes.join(', ') + ')');\n                }\n                options.widgetPositioning.horizontal = widgetPositioning.horizontal;\n            }\n            if (widgetPositioning.vertical) {\n                if (typeof widgetPositioning.vertical !== 'string') {\n                    throw new TypeError('widgetPositioning() vertical variable must be a string');\n                }\n                widgetPositioning.vertical = widgetPositioning.vertical.toLowerCase();\n                if (verticalModes.indexOf(widgetPositioning.vertical) === -1) {\n                    throw new TypeError('widgetPositioning() expects vertical parameter to be one of (' + verticalModes.join(', ') + ')');\n                }\n                options.widgetPositioning.vertical = widgetPositioning.vertical;\n            }\n            update();\n            return picker;\n        };\n\n        picker.calendarWeeks = function (calendarWeeks) {\n            if (arguments.length === 0) {\n                return options.calendarWeeks;\n            }\n\n            if (typeof calendarWeeks !== 'boolean') {\n                throw new TypeError('calendarWeeks() expects parameter to be a boolean value');\n            }\n\n            options.calendarWeeks = calendarWeeks;\n            update();\n            return picker;\n        };\n\n        picker.showTodayButton = function (showTodayButton) {\n\n\n            if (arguments.length === 0) {\n                return options.showTodayButton;\n            }\n\n            if (typeof showTodayButton !== 'boolean') {\n                throw new TypeError('showTodayButton() expects a boolean parameter');\n            }\n\n            options.showTodayButton = showTodayButton;\n            if (widget) {\n                hide();\n                show();\n            }\n            return picker;\n        };\n\n        picker.showClear = function (showClear) {\n            if (arguments.length === 0) {\n                return options.showClear;\n            }\n\n            if (typeof showClear !== 'boolean') {\n                throw new TypeError('showClear() expects a boolean parameter');\n            }\n\n            options.showClear = showClear;\n            if (widget) {\n                hide();\n                show();\n            }\n            return picker;\n        };\n\n        picker.widgetParent = function (widgetParent) {\n            if (arguments.length === 0) {\n                return options.widgetParent;\n            }\n\n            if (typeof widgetParent === 'string') {\n                widgetParent = $(widgetParent);\n            }\n\n            if (widgetParent !== null && (typeof widgetParent !== 'string' && !(widgetParent instanceof $))) {\n                throw new TypeError('widgetParent() expects a string or a jQuery object parameter');\n            }\n\n            options.widgetParent = widgetParent;\n            if (widget) {\n                hide();\n                show();\n            }\n            return picker;\n        };\n\n        picker.keepOpen = function (keepOpen) {\n            if (arguments.length === 0) {\n                return options.keepOpen;\n            }\n\n            if (typeof keepOpen !== 'boolean') {\n                throw new TypeError('keepOpen() expects a boolean parameter');\n            }\n\n            options.keepOpen = keepOpen;\n            return picker;\n        };\n\n        picker.focusOnShow = function (focusOnShow) {\n            if (arguments.length === 0) {\n                return options.focusOnShow;\n            }\n\n            if (typeof focusOnShow !== 'boolean') {\n                throw new TypeError('focusOnShow() expects a boolean parameter');\n            }\n\n            options.focusOnShow = focusOnShow;\n            return picker;\n        };\n\n        picker.inline = function (inline) {\n            if (arguments.length === 0) {\n                return options.inline;\n            }\n\n            if (typeof inline !== 'boolean') {\n                throw new TypeError('inline() expects a boolean parameter');\n            }\n\n            options.inline = inline;\n            return picker;\n        };\n\n        picker.clear = function () {\n            clear();\n            return picker;\n        };\n\n        picker.keyBinds = function (keyBinds) {\n            options.keyBinds = keyBinds;\n            return picker;\n        };\n\n        picker.getMoment = function (d) {\n            return getMoment(d);\n        };\n\n        picker.debug = function (debug) {\n            if (typeof debug !== 'boolean') {\n                throw new TypeError('debug() expects a boolean parameter');\n            }\n\n            options.debug = debug;\n            return picker;\n        };\n\n        picker.allowInputToggle = function (allowInputToggle) {\n            if (arguments.length === 0) {\n                return options.allowInputToggle;\n            }\n\n            if (typeof allowInputToggle !== 'boolean') {\n                throw new TypeError('allowInputToggle() expects a boolean parameter');\n            }\n\n            options.allowInputToggle = allowInputToggle;\n            return picker;\n        };\n\n        picker.showClose = function (showClose) {\n            if (arguments.length === 0) {\n                return options.showClose;\n            }\n\n            if (typeof showClose !== 'boolean') {\n                throw new TypeError('showClose() expects a boolean parameter');\n            }\n\n            options.showClose = showClose;\n            return picker;\n        };\n\n        picker.showSwitcher = function (showSwitcher) {\n\n            if (arguments.length === 0) {\n                return options.showSwitcher;\n            }\n\n            if (typeof showSwitcher !== 'boolean') {\n                throw new TypeError('showClose() expects a boolean parameter');\n            }\n\n            options.showSwitcher = showSwitcher;\n\n            return picker;\n        };\n\n        picker.keepInvalid = function (keepInvalid) {\n            if (arguments.length === 0) {\n                return options.keepInvalid;\n            }\n\n            if (typeof keepInvalid !== 'boolean') {\n                throw new TypeError('keepInvalid() expects a boolean parameter');\n            }\n            options.keepInvalid = keepInvalid;\n            return picker;\n        };\n\n        picker.datepickerInput = function (datepickerInput) {\n            if (arguments.length === 0) {\n                return options.datepickerInput;\n            }\n\n            if (typeof datepickerInput !== 'string') {\n                throw new TypeError('datepickerInput() expects a string parameter');\n            }\n\n            options.datepickerInput = datepickerInput;\n            return picker;\n        };\n\n        picker.parseInputDate = function (parseInputDate) {\n            if (arguments.length === 0) {\n                return options.parseInputDate;\n            }\n\n            if (typeof parseInputDate !== 'function') {\n                throw new TypeError('parseInputDate() sholud be as function');\n            }\n\n            options.parseInputDate = parseInputDate;\n\n            return picker;\n        };\n\n        picker.disabledTimeIntervals = function (disabledTimeIntervals) {\n            ///<signature helpKeyword=\"$.fn.datetimepicker.disabledTimeIntervals\">\n            ///<summary>Returns an array with the currently set disabled dates on the component.</summary>\n            ///<returns type=\"array\">options.disabledTimeIntervals</returns>\n            ///</signature>\n            ///<signature>\n            ///<summary>Setting this takes precedence over options.minDate, options.maxDate configuration. Also calling this function removes the configuration of\n            ///options.enabledDates if such exist.</summary>\n            ///<param name=\"dates\" locid=\"$.fn.datetimepicker.disabledTimeIntervals_p:dates\">Takes an [ string or Date or moment ] of values and allows the user to select only from those days.</param>\n            ///</signature>\n            if (arguments.length === 0) {\n                return (options.disabledTimeIntervals ? $.extend({}, options.disabledTimeIntervals) : options.disabledTimeIntervals);\n            }\n\n            if (!disabledTimeIntervals) {\n                options.disabledTimeIntervals = false;\n                update();\n                return picker;\n            }\n            if (!(disabledTimeIntervals instanceof Array)) {\n                throw new TypeError('disabledTimeIntervals() expects an array parameter');\n            }\n            options.disabledTimeIntervals = disabledTimeIntervals;\n            update();\n            return picker;\n        };\n\n        picker.disabledHours = function (hours) {\n            ///<signature helpKeyword=\"$.fn.datetimepicker.disabledHours\">\n            ///<summary>Returns an array with the currently set disabled hours on the component.</summary>\n            ///<returns type=\"array\">options.disabledHours</returns>\n            ///</signature>\n            ///<signature>\n            ///<summary>Setting this takes precedence over options.minDate, options.maxDate configuration. Also calling this function removes the configuration of\n            ///options.enabledHours if such exist.</summary>\n            ///<param name=\"hours\" locid=\"$.fn.datetimepicker.disabledHours_p:hours\">Takes an [ int ] of values and disallows the user to select only from those hours.</param>\n            ///</signature>\n            if (arguments.length === 0) {\n                return (options.disabledHours ? $.extend({}, options.disabledHours) : options.disabledHours);\n            }\n\n            if (!hours) {\n                options.disabledHours = false;\n                update();\n                return picker;\n            }\n            if (!(hours instanceof Array)) {\n                throw new TypeError('disabledHours() expects an array parameter');\n            }\n            options.disabledHours = indexGivenHours(hours);\n            options.enabledHours = false;\n            if (options.useCurrent && !options.keepInvalid) {\n                var tries = 0;\n                while (!isValid(date, 'h')) {\n                    date.add(1, 'h');\n                    if (tries === 24) {\n                        throw 'Tried 24 times to find a valid date';\n                    }\n                    tries++;\n                }\n                setValue(date);\n            }\n            update();\n            return picker;\n        };\n\n        picker.enabledHours = function (hours) {\n            ///<signature helpKeyword=\"$.fn.datetimepicker.enabledHours\">\n            ///<summary>Returns an array with the currently set enabled hours on the component.</summary>\n            ///<returns type=\"array\">options.enabledHours</returns>\n            ///</signature>\n            ///<signature>\n            ///<summary>Setting this takes precedence over options.minDate, options.maxDate configuration. Also calling this function removes the configuration of options.disabledHours if such exist.</summary>\n            ///<param name=\"hours\" locid=\"$.fn.datetimepicker.enabledHours_p:hours\">Takes an [ int ] of values and allows the user to select only from those hours.</param>\n            ///</signature>\n            if (arguments.length === 0) {\n                return (options.enabledHours ? $.extend({}, options.enabledHours) : options.enabledHours);\n            }\n\n            if (!hours) {\n                options.enabledHours = false;\n                update();\n                return picker;\n            }\n            if (!(hours instanceof Array)) {\n                throw new TypeError('enabledHours() expects an array parameter');\n            }\n            options.enabledHours = indexGivenHours(hours);\n            options.disabledHours = false;\n            if (options.useCurrent && !options.keepInvalid) {\n                var tries = 0;\n                while (!isValid(date, 'h')) {\n                    date.add(1, 'h');\n                    if (tries === 24) {\n                        throw 'Tried 24 times to find a valid date';\n                    }\n                    tries++;\n                }\n                setValue(date);\n            }\n            update();\n            return picker;\n        };\n\n        picker.viewDate = function (newDate) {\n            ///<signature helpKeyword=\"$.fn.datetimepicker.viewDate\">\n            ///<summary>Returns the component's model current viewDate, a moment object or null if not set.</summary>\n            ///<returns type=\"Moment\">viewDate.clone()</returns>\n            ///</signature>\n            ///<signature>\n            ///<summary>Sets the components model current moment to it. Passing a null value unsets the components model current moment. Parsing of the newDate parameter is made using moment library with the options.format and options.useStrict components configuration.</summary>\n            ///<param name=\"newDate\" locid=\"$.fn.datetimepicker.date_p:newDate\">Takes string, viewDate, moment, null parameter.</param>\n            ///</signature>\n            if (arguments.length === 0) {\n                return viewDate.clone();\n            }\n\n            if (!newDate) {\n                viewDate = date.clone();\n                return picker;\n            }\n\n            if (typeof newDate !== 'string' && !moment.isMoment(newDate) && !(newDate instanceof Date)) {\n                throw new TypeError('viewDate() parameter must be one of [string, moment or Date]');\n            }\n\n            viewDate = parseInputDate(newDate);\n            viewUpdate();\n            return picker;\n        };\n\n        // initializing element and component attributes\n        if (element.is('input')) {\n            input = element;\n        } else {\n            input = element.find(options.datepickerInput);\n            if (input.size() === 0) {\n                input = element.find('input');\n            } else if (!input.is('input')) {\n                throw new Error('CSS class \"' + options.datepickerInput + '\" cannot be applied to non input element');\n            }\n        }\n\n        if (element.hasClass('input-group')) {\n            // in case there is more then one 'input-group-addon' Issue #48\n            if (element.find('.datepickerbutton').size() === 0) {\n                component = element.find('.input-group-addon');\n            } else {\n                component = element.find('.datepickerbutton');\n            }\n        }\n\n        if (!options.inline && !input.is('input')) {\n            throw new Error('Could not initialize DateTimePicker without an input element');\n        }\n\n        // Set defaults for date here now instead of in var declaration\n        date = getMoment();\n        viewDate = date.clone();\n\n        $.extend(true, options, dataToOptions());\n\n        picker.options(options);\n\n        initFormatting();\n\n        attachDatePickerElementEvents();\n\n        if (input.prop('disabled')) {\n            picker.disable();\n        }\n        if (input.is('input') && input.val().trim().length !== 0) {\n            setValue(parseInputDate(input.val().trim()));\n        }\n        else if (options.defaultDate && input.attr('placeholder') === undefined) {\n            setValue(options.defaultDate);\n        }\n        if (options.inline) {\n            show();\n        }\n        return picker;\n    };\n\n    /********************************************************************************\n     *\n     * jQuery plugin constructor and defaults object\n     *\n     ********************************************************************************/\n\n    $.fn.hijriDatePicker = function (options) {\n        return this.each(function () {\n            var $this = $(this);\n            if (!$this.data('HijriDatePicker')) {\n                // create a private copy of the defaults object\n                options = $.extend(true, {}, $.fn.hijriDatePicker.defaults, options);\n                $this.data('HijriDatePicker', hijriDatePicker($this, options));\n            }\n        });\n    };\n\n    $.fn.hijriDatePicker.defaults = {\n        timeZone: 'Etc/UTC',\n        format: 'DD-MM-YYYY',\n        hijriFormat: 'iYYYY-iMM-iDD',\n        hijriDayViewHeaderFormat: 'iMMMM iYYYY',\n        dayViewHeaderFormat: 'MMMM YYYY',\n        minDate: '1950-01-01',\n        maxDate: '2070-01-01',\n        extraFormats: false,\n        stepping: 1,\n        useCurrent: false,\n        collapse: true,\n        locale: 'ar-SA',\n        defaultDate: false,\n        disabledDates: false,\n        enabledDates: false,\n        icons: {\n            time: 'fa fa-clock text-primary',\n            date: 'glyphicon glyphicon-calendar',\n            up: 'fa fa-chevron-up text-primary',\n            down: 'fa fa-chevron-down text-primary',\n            previous: '<',\n            next: '>',\n            today: 'اليوم',\n            clear: 'مسح',\n            close: 'اغلاق'\n        },\n        tooltips: {\n            today: 'Go to today',\n            clear: 'Clear selection',\n            close: 'Close the picker',\n            selectMonth: 'Select Month',\n            prevMonth: 'Previous Month',\n            nextMonth: 'Next Month',\n            selectYear: 'Select Year',\n            prevYear: 'Previous Year',\n            nextYear: 'Next Year',\n            selectDecade: 'Select Decade',\n            prevDecade: 'Previous Decade',\n            nextDecade: 'Next Decade',\n            prevCentury: 'Previous Century',\n            nextCentury: 'Next Century',\n            pickHour: 'Pick Hour',\n            incrementHour: 'Increment Hour',\n            decrementHour: 'Decrement Hour',\n            pickMinute: 'Pick Minute',\n            incrementMinute: 'Increment Minute',\n            decrementMinute: 'Decrement Minute',\n            pickSecond: 'Pick Second',\n            incrementSecond: 'Increment Second',\n            decrementSecond: 'Decrement Second',\n            togglePeriod: 'Toggle Period',\n            selectTime: 'Select Time'\n        },\n        useStrict: false,\n        sideBySide: false,\n        daysOfWeekDisabled: false,\n        calendarWeeks: false,\n        viewMode: 'days',\n        toolbarPlacement: 'default',\n        showTodayButton: false,\n        showClear: false,\n        showClose: false,\n        widgetPositioning: {\n            horizontal: 'auto',\n            vertical: 'auto'\n        },\n        widgetParent: null,\n        ignoreReadonly: false,\n        keepOpen: false,\n        focusOnShow: true,\n        inline: false,\n        keepInvalid: false,\n        datepickerInput: '.datepickerinput',\n        keyBinds: {\n            up: function (widget) {\n                if (!widget) {\n                    return;\n                }\n                var d = this.date() || this.getMoment();\n                if (widget.find('.datepicker').is(':visible')) {\n                    this.date(d.clone().subtract(7, 'd'));\n                } else {\n                    this.date(d.clone().add(this.stepping(), 'm'));\n                }\n            },\n            down: function (widget) {\n                if (!widget) {\n                    this.show();\n                    return;\n                }\n                var d = this.date() || this.getMoment();\n                if (widget.find('.datepicker').is(':visible')) {\n                    this.date(d.clone().add(7, 'd'));\n                } else {\n                    this.date(d.clone().subtract(this.stepping(), 'm'));\n                }\n            },\n            'control up': function (widget) {\n                if (!widget) {\n                    return;\n                }\n                var d = this.date() || this.getMoment();\n                if (widget.find('.datepicker').is(':visible')) {\n                    this.date(d.clone().subtract(1, 'years'));\n                } else {\n                    this.date(d.clone().add(1, 'h'));\n                }\n            },\n            'control down': function (widget) {\n                if (!widget) {\n                    return;\n                }\n                var d = this.date() || this.getMoment();\n                if (widget.find('.datepicker').is(':visible')) {\n                    this.date(d.clone().add(1, 'y'));\n                } else {\n                    this.date(d.clone().subtract(1, 'h'));\n                }\n            },\n            left: function (widget) {\n                if (!widget) {\n                    return;\n                }\n                var d = this.date() || this.getMoment();\n                if (widget.find('.datepicker').is(':visible')) {\n                    this.date(d.clone().subtract(1, 'days'));\n                }\n            },\n            right: function (widget) {\n\n\n                if (!widget) {\n                    return;\n                }\n                var d = this.date() || this.getMoment();\n                if (widget.find('.datepicker').is(':visible')) {\n                    this.date(d.clone().add(1, 'days'));\n                }\n            },\n            pageUp: function (widget) {\n                if (!widget) {\n                    return;\n                }\n                var d = this.date() || this.getMoment();\n                if (widget.find('.datepicker').is(':visible')) {\n                    this.date(d.clone().subtract(1, 'months'));\n                }\n            },\n            pageDown: function (widget) {\n                if (!widget) {\n                    return;\n                }\n                var d = this.date() || this.getMoment();\n                if (widget.find('.datepicker').is(':visible')) {\n                    this.date(d.clone().add(1, 'months'));\n                }\n            },\n            enter: function () {\n                this.hide();\n            },\n            escape: function () {\n                this.hide();\n            },\n            //tab: function (widget) { //this break the flow of the form. disabling for now\n            //    var toggle = widget.find('.picker-switch a[data-action=\"togglePicker\"]');\n            //    if(toggle.length > 0) toggle.click();\n            //},\n            'control space': function (widget) {\n                if (widget.find('.timepicker').is(':visible')) {\n                    widget.find('.btn[data-action=\"togglePeriod\"]').click();\n                }\n            },\n            t: function () {\n                this.date(this.getMoment());\n            },\n            'delete': function () {\n                this.clear();\n            }\n        },\n        showSwitcher: true,\n        debug: false,\n        allowInputToggle: false,\n        disabledTimeIntervals: false,\n        disabledHours: false,\n        enabledHours: false,\n        viewDate: false,\n        hijri: false,\n        isRTL: false,\n        hijriText: \"هجري\",\n        gregorianText: \"ميلادي\"\n    };\n}));"]},"metadata":{},"sourceType":"script"}